/*! For license information please see bundle.js.LICENSE.txt */
!function(){var t={9669:function(t,e,n){t.exports=n(1609)},5448:function(t,e,n){"use strict";var i=n(4867),r=n(6026),a=n(4372),o=n(5327),s=n(4097),c=n(4109),u=n(7985),l=n(5061),h=n(5655),f=n(5263);t.exports=function(t){return new Promise((function(e,n){var d,v=t.data,p=t.headers,m=t.responseType;function y(){t.cancelToken&&t.cancelToken.unsubscribe(d),t.signal&&t.signal.removeEventListener("abort",d)}i.isFormData(v)&&delete p["Content-Type"];var g=new XMLHttpRequest;if(t.auth){var _=t.auth.username||"",x=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";p.Authorization="Basic "+btoa(_+":"+x)}var w=s(t.baseURL,t.url);function k(){if(g){var i="getAllResponseHeaders"in g?c(g.getAllResponseHeaders()):null,a={data:m&&"text"!==m&&"json"!==m?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:i,config:t,request:g};r((function(t){e(t),y()}),(function(t){n(t),y()}),a),g=null}}if(g.open(t.method.toUpperCase(),o(w,t.params,t.paramsSerializer),!0),g.timeout=t.timeout,"onloadend"in g?g.onloadend=k:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(k)},g.onabort=function(){g&&(n(l("Request aborted",t,"ECONNABORTED",g)),g=null)},g.onerror=function(){n(l("Network Error",t,null,g)),g=null},g.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",i=t.transitional||h.transitional;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(l(e,t,i.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},i.isStandardBrowserEnv()){var b=(t.withCredentials||u(w))&&t.xsrfCookieName?a.read(t.xsrfCookieName):void 0;b&&(p[t.xsrfHeaderName]=b)}"setRequestHeader"in g&&i.forEach(p,(function(t,e){void 0===v&&"content-type"===e.toLowerCase()?delete p[e]:g.setRequestHeader(e,t)})),i.isUndefined(t.withCredentials)||(g.withCredentials=!!t.withCredentials),m&&"json"!==m&&(g.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&g.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(d=function(t){g&&(n(!t||t&&t.type?new f("canceled"):t),g.abort(),g=null)},t.cancelToken&&t.cancelToken.subscribe(d),t.signal&&(t.signal.aborted?d():t.signal.addEventListener("abort",d))),v||(v=null),g.send(v)}))}},1609:function(t,e,n){"use strict";var i=n(4867),r=n(1849),a=n(321),o=n(7185),s=function t(e){var n=new a(e),s=r(a.prototype.request,n);return i.extend(s,a.prototype,n),i.extend(s,n),s.create=function(n){return t(o(e,n))},s}(n(5655));s.Axios=a,s.Cancel=n(5263),s.CancelToken=n(4972),s.isCancel=n(6502),s.VERSION=n(7288).version,s.all=function(t){return Promise.all(t)},s.spread=n(8713),s.isAxiosError=n(6268),t.exports=s,t.exports.default=s},5263:function(t){"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},4972:function(t,e,n){"use strict";var i=n(5263);function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;this.promise.then((function(t){if(n._listeners){var e,i=n._listeners.length;for(e=0;e<i;e++)n._listeners[e](t);n._listeners=null}})),this.promise.then=function(t){var e,i=new Promise((function(t){n.subscribe(t),e=t})).then(t);return i.cancel=function(){n.unsubscribe(e)},i},t((function(t){n.reason||(n.reason=new i(t),e(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},r.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},r.source=function(){var t;return{token:new r((function(e){t=e})),cancel:t}},t.exports=r},6502:function(t){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},321:function(t,e,n){"use strict";var i=n(4867),r=n(5327),a=n(782),o=n(3572),s=n(7185),c=n(4875),u=c.validators;function l(t){this.defaults=t,this.interceptors={request:new a,response:new a}}l.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&c.assertOptions(e,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var r,a=[];if(this.interceptors.response.forEach((function(t){a.push(t.fulfilled,t.rejected)})),!i){var l=[o,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(a),r=Promise.resolve(t);l.length;)r=r.then(l.shift(),l.shift());return r}for(var h=t;n.length;){var f=n.shift(),d=n.shift();try{h=f(h)}catch(t){d(t);break}}try{r=o(h)}catch(t){return Promise.reject(t)}for(;a.length;)r=r.then(a.shift(),a.shift());return r},l.prototype.getUri=function(t){return t=s(this.defaults,t),r(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(t){l.prototype[t]=function(e,n){return this.request(s(n||{},{method:t,url:e,data:(n||{}).data}))}})),i.forEach(["post","put","patch"],(function(t){l.prototype[t]=function(e,n,i){return this.request(s(i||{},{method:t,url:e,data:n}))}})),t.exports=l},782:function(t,e,n){"use strict";var i=n(4867);function r(){this.handlers=[]}r.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=r},4097:function(t,e,n){"use strict";var i=n(1793),r=n(7303);t.exports=function(t,e){return t&&!i(e)?r(t,e):e}},5061:function(t,e,n){"use strict";var i=n(481);t.exports=function(t,e,n,r,a){var o=new Error(t);return i(o,e,n,r,a)}},3572:function(t,e,n){"use strict";var i=n(4867),r=n(8527),a=n(6502),o=n(5655),s=n(5263);function c(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new s("canceled")}t.exports=function(t){return c(t),t.headers=t.headers||{},t.data=r.call(t,t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||o.adapter)(t).then((function(e){return c(t),e.data=r.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return a(e)||(c(t),e&&e.response&&(e.response.data=r.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},481:function(t){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}},7185:function(t,e,n){"use strict";var i=n(4867);t.exports=function(t,e){e=e||{};var n={};function r(t,e){return i.isPlainObject(t)&&i.isPlainObject(e)?i.merge(t,e):i.isPlainObject(e)?i.merge({},e):i.isArray(e)?e.slice():e}function a(n){return i.isUndefined(e[n])?i.isUndefined(t[n])?void 0:r(void 0,t[n]):r(t[n],e[n])}function o(t){if(!i.isUndefined(e[t]))return r(void 0,e[t])}function s(n){return i.isUndefined(e[n])?i.isUndefined(t[n])?void 0:r(void 0,t[n]):r(void 0,e[n])}function c(n){return n in e?r(t[n],e[n]):n in t?r(void 0,t[n]):void 0}var u={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return i.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=u[t]||a,r=e(t);i.isUndefined(r)&&e!==c||(n[t]=r)})),n}},6026:function(t,e,n){"use strict";var i=n(5061);t.exports=function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(i("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},8527:function(t,e,n){"use strict";var i=n(4867),r=n(5655);t.exports=function(t,e,n){var a=this||r;return i.forEach(n,(function(n){t=n.call(a,t,e)})),t}},5655:function(t,e,n){"use strict";var i=n(4867),r=n(6016),a=n(481),o={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=n(5448)),c),transformRequest:[function(t,e){return r(e,"Accept"),r(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)||e&&"application/json"===e["Content-Type"]?(s(e,"application/json"),function(t,e,n){if(i.isString(t))try{return(0,JSON.parse)(t),i.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||u.transitional,n=e&&e.silentJSONParsing,r=e&&e.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||r&&i.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(o){if("SyntaxError"===t.name)throw a(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),i.forEach(["post","put","patch"],(function(t){u.headers[t]=i.merge(o)})),t.exports=u},7288:function(t){t.exports={version:"0.24.0"}},1849:function(t){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},5327:function(t,e,n){"use strict";var i=n(4867);function r(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var a;if(n)a=n(e);else if(i.isURLSearchParams(e))a=e.toString();else{var o=[];i.forEach(e,(function(t,e){null!=t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,(function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),o.push(r(e)+"="+r(t))})))})),a=o.join("&")}if(a){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+a}return t}},7303:function(t){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},4372:function(t,e,n){"use strict";var i=n(4867);t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,r,a,o){var s=[];s.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:function(t){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},6268:function(t){"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},7985:function(t,e,n){"use strict";var i=n(4867);t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=i.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},6016:function(t,e,n){"use strict";var i=n(4867);t.exports=function(t,e){i.forEach(t,(function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])}))}},4109:function(t,e,n){"use strict";var i=n(4867),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,a,o={};return t?(i.forEach(t.split("\n"),(function(t){if(a=t.indexOf(":"),e=i.trim(t.substr(0,a)).toLowerCase(),n=i.trim(t.substr(a+1)),e){if(o[e]&&r.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}})),o):o}},8713:function(t){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},4875:function(t,e,n){"use strict";var i=n(7288).version,r={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){r[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var a={};r.transitional=function(t,e,n){function r(t,e){return"[Axios v"+i+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,i,o){if(!1===t)throw new Error(r(i," has been removed"+(e?" in "+e:"")));return e&&!a[i]&&(a[i]=!0,console.warn(r(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,i,o)}},t.exports={assertOptions:function(t,e,n){if("object"!=typeof t)throw new TypeError("options must be an object");for(var i=Object.keys(t),r=i.length;r-- >0;){var a=i[r],o=e[a];if(o){var s=t[a],c=void 0===s||o(s,a,t);if(!0!==c)throw new TypeError("option "+a+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+a)}},validators:r}},4867:function(t,e,n){"use strict";var i=n(1849),r=Object.prototype.toString;function a(t){return"[object Array]"===r.call(t)}function o(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function c(t){if("[object Object]"!==r.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function u(t){return"[object Function]"===r.call(t)}function l(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),a(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===r.call(t)},isBuffer:function(t){return null!==t&&!o(t)&&null!==t.constructor&&!o(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isPlainObject:c,isUndefined:o,isDate:function(t){return"[object Date]"===r.call(t)},isFile:function(t){return"[object File]"===r.call(t)},isBlob:function(t){return"[object Blob]"===r.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function t(){var e={};function n(n,i){c(e[i])&&c(n)?e[i]=t(e[i],n):c(n)?e[i]=t({},n):a(n)?e[i]=n.slice():e[i]=n}for(var i=0,r=arguments.length;i<r;i++)l(arguments[i],n);return e},extend:function(t,e,n){return l(e,(function(e,r){t[r]=n&&"function"==typeof e?i(e,n):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},9662:function(t,e,n){var i=n(7854),r=n(614),a=n(6330),o=i.TypeError;t.exports=function(t){if(r(t))return t;throw o(a(t)+" is not a function")}},9483:function(t,e,n){var i=n(7854),r=n(4411),a=n(6330),o=i.TypeError;t.exports=function(t){if(r(t))return t;throw o(a(t)+" is not a constructor")}},6077:function(t,e,n){var i=n(7854),r=n(614),a=i.String,o=i.TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw o("Can't set "+a(t)+" as a prototype")}},1223:function(t,e,n){var i=n(5112),r=n(30),a=n(3070),o=i("unscopables"),s=Array.prototype;null==s[o]&&a.f(s,o,{configurable:!0,value:r(null)}),t.exports=function(t){s[o][t]=!0}},1530:function(t,e,n){"use strict";var i=n(8710).charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},5787:function(t,e,n){var i=n(7854),r=n(7976),a=i.TypeError;t.exports=function(t,e){if(r(e,t))return t;throw a("Incorrect invocation")}},9670:function(t,e,n){var i=n(7854),r=n(111),a=i.String,o=i.TypeError;t.exports=function(t){if(r(t))return t;throw o(a(t)+" is not an object")}},4019:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7556:function(t,e,n){var i=n(7293);t.exports=i((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},260:function(t,e,n){"use strict";var i,r,a,o=n(4019),s=n(9781),c=n(7854),u=n(614),l=n(111),h=n(2597),f=n(648),d=n(6330),v=n(8880),p=n(1320),m=n(3070).f,y=n(7976),g=n(9518),_=n(7674),x=n(5112),w=n(9711),k=c.Int8Array,b=k&&k.prototype,S=c.Uint8ClampedArray,I=S&&S.prototype,C=k&&g(k),E=b&&g(b),D=Object.prototype,T=c.TypeError,A=x("toStringTag"),P=w("TYPED_ARRAY_TAG"),L=w("TYPED_ARRAY_CONSTRUCTOR"),O=o&&!!_&&"Opera"!==f(c.opera),M=!1,R={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},$={BigInt64Array:8,BigUint64Array:8},B=function(t){if(!l(t))return!1;var e=f(t);return h(R,e)||h($,e)};for(i in R)(a=(r=c[i])&&r.prototype)?v(a,L,r):O=!1;for(i in $)(a=(r=c[i])&&r.prototype)&&v(a,L,r);if((!O||!u(C)||C===Function.prototype)&&(C=function(){throw T("Incorrect invocation")},O))for(i in R)c[i]&&_(c[i],C);if((!O||!E||E===D)&&(E=C.prototype,O))for(i in R)c[i]&&_(c[i].prototype,E);if(O&&g(I)!==E&&_(I,E),s&&!h(E,A))for(i in M=!0,m(E,A,{get:function(){return l(this)?this[P]:void 0}}),R)c[i]&&v(c[i],P,i);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:O,TYPED_ARRAY_CONSTRUCTOR:L,TYPED_ARRAY_TAG:M&&P,aTypedArray:function(t){if(B(t))return t;throw T("Target is not a typed array")},aTypedArrayConstructor:function(t){if(u(t)&&(!_||y(C,t)))return t;throw T(d(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n,i){if(s){if(n)for(var r in R){var a=c[r];if(a&&h(a.prototype,t))try{delete a.prototype[t]}catch(n){try{a.prototype[t]=e}catch(t){}}}E[t]&&!n||p(E,t,n?e:O&&b[t]||e,i)}},exportTypedArrayStaticMethod:function(t,e,n){var i,r;if(s){if(_){if(n)for(i in R)if((r=c[i])&&h(r,t))try{delete r[t]}catch(t){}if(C[t]&&!n)return;try{return p(C,t,n?e:O&&C[t]||e)}catch(t){}}for(i in R)!(r=c[i])||r[t]&&!n||p(r,t,e)}},isView:function(t){if(!l(t))return!1;var e=f(t);return"DataView"===e||h(R,e)||h($,e)},isTypedArray:B,TypedArray:C,TypedArrayPrototype:E}},3331:function(t,e,n){"use strict";var i=n(7854),r=n(1702),a=n(9781),o=n(4019),s=n(6530),c=n(8880),u=n(2248),l=n(7293),h=n(5787),f=n(9303),d=n(7466),v=n(7067),p=n(1179),m=n(9518),y=n(7674),g=n(8006).f,_=n(3070).f,x=n(1285),w=n(1589),k=n(8003),b=n(9909),S=s.PROPER,I=s.CONFIGURABLE,C=b.get,E=b.set,D="ArrayBuffer",T="Wrong index",A=i.ArrayBuffer,P=A,L=P&&P.prototype,O=i.DataView,M=O&&O.prototype,R=Object.prototype,$=i.Array,B=i.RangeError,j=r(x),F=r([].reverse),N=p.pack,V=p.unpack,z=function(t){return[255&t]},H=function(t){return[255&t,t>>8&255]},U=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},W=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},Y=function(t){return N(t,23,4)},K=function(t){return N(t,52,8)},q=function(t,e){_(t.prototype,e,{get:function(){return C(this)[e]}})},Z=function(t,e,n,i){var r=v(n),a=C(t);if(r+e>a.byteLength)throw B(T);var o=C(a.buffer).bytes,s=r+a.byteOffset,c=w(o,s,s+e);return i?c:F(c)},X=function(t,e,n,i,r,a){var o=v(n),s=C(t);if(o+e>s.byteLength)throw B(T);for(var c=C(s.buffer).bytes,u=o+s.byteOffset,l=i(+r),h=0;h<e;h++)c[u+h]=l[a?h:e-h-1]};if(o){var G=S&&A.name!==D;if(l((function(){A(1)}))&&l((function(){new A(-1)}))&&!l((function(){return new A,new A(1.5),new A(NaN),G&&!I})))G&&I&&c(A,"name",D);else{(P=function(t){return h(this,L),new A(v(t))}).prototype=L;for(var J,Q=g(A),tt=0;Q.length>tt;)(J=Q[tt++])in P||c(P,J,A[J]);L.constructor=P}y&&m(M)!==R&&y(M,R);var et=new O(new P(2)),nt=r(M.setInt8);et.setInt8(0,2147483648),et.setInt8(1,2147483649),!et.getInt8(0)&&et.getInt8(1)||u(M,{setInt8:function(t,e){nt(this,t,e<<24>>24)},setUint8:function(t,e){nt(this,t,e<<24>>24)}},{unsafe:!0})}else L=(P=function(t){h(this,L);var e=v(t);E(this,{bytes:j($(e),0),byteLength:e}),a||(this.byteLength=e)}).prototype,M=(O=function(t,e,n){h(this,M),h(t,L);var i=C(t).byteLength,r=f(e);if(r<0||r>i)throw B("Wrong offset");if(r+(n=void 0===n?i-r:d(n))>i)throw B("Wrong length");E(this,{buffer:t,byteLength:n,byteOffset:r}),a||(this.buffer=t,this.byteLength=n,this.byteOffset=r)}).prototype,a&&(q(P,"byteLength"),q(O,"buffer"),q(O,"byteLength"),q(O,"byteOffset")),u(M,{getInt8:function(t){return Z(this,1,t)[0]<<24>>24},getUint8:function(t){return Z(this,1,t)[0]},getInt16:function(t){var e=Z(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Z(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return W(Z(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return W(Z(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return V(Z(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return V(Z(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){X(this,1,t,z,e)},setUint8:function(t,e){X(this,1,t,z,e)},setInt16:function(t,e){X(this,2,t,H,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){X(this,2,t,H,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){X(this,4,t,U,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){X(this,4,t,U,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){X(this,4,t,Y,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){X(this,8,t,K,e,arguments.length>2?arguments[2]:void 0)}});k(P,D),k(O,"DataView"),t.exports={ArrayBuffer:P,DataView:O}},1048:function(t,e,n){"use strict";var i=n(7908),r=n(1400),a=n(6244),o=Math.min;t.exports=[].copyWithin||function(t,e){var n=i(this),s=a(n),c=r(t,s),u=r(e,s),l=arguments.length>2?arguments[2]:void 0,h=o((void 0===l?s:r(l,s))-u,s-c),f=1;for(u<c&&c<u+h&&(f=-1,u+=h-1,c+=h-1);h-- >0;)u in n?n[c]=n[u]:delete n[c],c+=f,u+=f;return n}},1285:function(t,e,n){"use strict";var i=n(7908),r=n(1400),a=n(6244);t.exports=function(t){for(var e=i(this),n=a(e),o=arguments.length,s=r(o>1?arguments[1]:void 0,n),c=o>2?arguments[2]:void 0,u=void 0===c?n:r(c,n);u>s;)e[s++]=t;return e}},8533:function(t,e,n){"use strict";var i=n(2092).forEach,r=n(9341)("forEach");t.exports=r?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},7745:function(t,e,n){var i=n(6244);t.exports=function(t,e){for(var n=0,r=i(e),a=new t(r);r>n;)a[n]=e[n++];return a}},8457:function(t,e,n){"use strict";var i=n(7854),r=n(9974),a=n(6916),o=n(7908),s=n(3411),c=n(7659),u=n(4411),l=n(6244),h=n(6135),f=n(8554),d=n(1246),v=i.Array;t.exports=function(t){var e=o(t),n=u(this),i=arguments.length,p=i>1?arguments[1]:void 0,m=void 0!==p;m&&(p=r(p,i>2?arguments[2]:void 0));var y,g,_,x,w,k,b=d(e),S=0;if(!b||this==v&&c(b))for(y=l(e),g=n?new this(y):v(y);y>S;S++)k=m?p(e[S],S):e[S],h(g,S,k);else for(w=(x=f(e,b)).next,g=n?new this:[];!(_=a(w,x)).done;S++)k=m?s(x,p,[_.value,S],!0):_.value,h(g,S,k);return g.length=S,g}},1318:function(t,e,n){var i=n(5656),r=n(1400),a=n(6244),o=function(t){return function(e,n,o){var s,c=i(e),u=a(c),l=r(o,u);if(t&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},2092:function(t,e,n){var i=n(9974),r=n(1702),a=n(8361),o=n(7908),s=n(6244),c=n(5417),u=r([].push),l=function(t){var e=1==t,n=2==t,r=3==t,l=4==t,h=6==t,f=7==t,d=5==t||h;return function(v,p,m,y){for(var g,_,x=o(v),w=a(x),k=i(p,m),b=s(w),S=0,I=y||c,C=e?I(v,b):n||f?I(v,0):void 0;b>S;S++)if((d||S in w)&&(_=k(g=w[S],S,x),t))if(e)C[S]=_;else if(_)switch(t){case 3:return!0;case 5:return g;case 6:return S;case 2:u(C,g)}else switch(t){case 4:return!1;case 7:u(C,g)}return h?-1:r||l?l:C}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},6583:function(t,e,n){"use strict";var i=n(2104),r=n(5656),a=n(9303),o=n(6244),s=n(9341),c=Math.min,u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0,h=s("lastIndexOf"),f=l||!h;t.exports=f?function(t){if(l)return i(u,this,arguments)||0;var e=r(this),n=o(e),s=n-1;for(arguments.length>1&&(s=c(s,a(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in e&&e[s]===t)return s||0;return-1}:u},1194:function(t,e,n){var i=n(7293),r=n(5112),a=n(7392),o=r("species");t.exports=function(t){return a>=51||!i((function(){var e=[];return(e.constructor={})[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},9341:function(t,e,n){"use strict";var i=n(7293);t.exports=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){throw 1},1)}))}},3671:function(t,e,n){var i=n(7854),r=n(9662),a=n(7908),o=n(8361),s=n(6244),c=i.TypeError,u=function(t){return function(e,n,i,u){r(n);var l=a(e),h=o(l),f=s(l),d=t?f-1:0,v=t?-1:1;if(i<2)for(;;){if(d in h){u=h[d],d+=v;break}if(d+=v,t?d<0:f<=d)throw c("Reduce of empty array with no initial value")}for(;t?d>=0:f>d;d+=v)d in h&&(u=n(u,h[d],d,l));return u}};t.exports={left:u(!1),right:u(!0)}},1589:function(t,e,n){var i=n(7854),r=n(1400),a=n(6244),o=n(6135),s=i.Array,c=Math.max;t.exports=function(t,e,n){for(var i=a(t),u=r(e,i),l=r(void 0===n?i:n,i),h=s(c(l-u,0)),f=0;u<l;u++,f++)o(h,f,t[u]);return h.length=f,h}},206:function(t,e,n){var i=n(1702);t.exports=i([].slice)},4362:function(t,e,n){var i=n(1589),r=Math.floor,a=function(t,e){var n=t.length,c=r(n/2);return n<8?o(t,e):s(t,a(i(t,0,c),e),a(i(t,c),e),e)},o=function(t,e){for(var n,i,r=t.length,a=1;a<r;){for(i=a,n=t[a];i&&e(t[i-1],n)>0;)t[i]=t[--i];i!==a++&&(t[i]=n)}return t},s=function(t,e,n,i){for(var r=e.length,a=n.length,o=0,s=0;o<r||s<a;)t[o+s]=o<r&&s<a?i(e[o],n[s])<=0?e[o++]:n[s++]:o<r?e[o++]:n[s++];return t};t.exports=a},7475:function(t,e,n){var i=n(7854),r=n(3157),a=n(4411),o=n(111),s=n(5112)("species"),c=i.Array;t.exports=function(t){var e;return r(t)&&(e=t.constructor,(a(e)&&(e===c||r(e.prototype))||o(e)&&null===(e=e[s]))&&(e=void 0)),void 0===e?c:e}},5417:function(t,e,n){var i=n(7475);t.exports=function(t,e){return new(i(t))(0===e?0:e)}},3411:function(t,e,n){var i=n(9670),r=n(9212);t.exports=function(t,e,n,a){try{return a?e(i(n)[0],n[1]):e(n)}catch(e){r(t,"throw",e)}}},7072:function(t,e,n){var i=n(5112)("iterator"),r=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){r=!0}};o[i]=function(){return this},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var a={};a[i]=function(){return{next:function(){return{done:n=!0}}}},t(a)}catch(t){}return n}},4326:function(t,e,n){var i=n(1702),r=i({}.toString),a=i("".slice);t.exports=function(t){return a(r(t),8,-1)}},648:function(t,e,n){var i=n(7854),r=n(1694),a=n(614),o=n(4326),s=n(5112)("toStringTag"),c=i.Object,u="Arguments"==o(function(){return arguments}());t.exports=r?o:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=c(t),s))?n:u?o(e):"Object"==(i=o(e))&&a(e.callee)?"Arguments":i}},5631:function(t,e,n){"use strict";var i=n(3070).f,r=n(30),a=n(2248),o=n(9974),s=n(5787),c=n(408),u=n(654),l=n(6340),h=n(9781),f=n(2423).fastKey,d=n(9909),v=d.set,p=d.getterFor;t.exports={getConstructor:function(t,e,n,u){var l=t((function(t,i){s(t,d),v(t,{type:e,index:r(null),first:void 0,last:void 0,size:0}),h||(t.size=0),null!=i&&c(i,t[u],{that:t,AS_ENTRIES:n})})),d=l.prototype,m=p(e),y=function(t,e,n){var i,r,a=m(t),o=g(t,e);return o?o.value=n:(a.last=o={index:r=f(e,!0),key:e,value:n,previous:i=a.last,next:void 0,removed:!1},a.first||(a.first=o),i&&(i.next=o),h?a.size++:t.size++,"F"!==r&&(a.index[r]=o)),t},g=function(t,e){var n,i=m(t),r=f(e);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==e)return n};return a(d,{clear:function(){for(var t=m(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,h?t.size=0:this.size=0},delete:function(t){var e=this,n=m(e),i=g(e,t);if(i){var r=i.next,a=i.previous;delete n.index[i.index],i.removed=!0,a&&(a.next=r),r&&(r.previous=a),n.first==i&&(n.first=r),n.last==i&&(n.last=a),h?n.size--:e.size--}return!!i},forEach:function(t){for(var e,n=m(this),i=o(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(i(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!g(this,t)}}),a(d,n?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return y(this,0===t?0:t,e)}}:{add:function(t){return y(this,t=0===t?0:t,t)}}),h&&i(d,"size",{get:function(){return m(this).size}}),l},setStrong:function(t,e,n){var i=e+" Iterator",r=p(e),a=p(i);u(t,e,(function(t,e){v(this,{type:i,target:t,state:r(t),kind:e,last:void 0})}),(function(){for(var t=a(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(e)}}},7710:function(t,e,n){"use strict";var i=n(2109),r=n(7854),a=n(1702),o=n(4705),s=n(1320),c=n(2423),u=n(408),l=n(5787),h=n(614),f=n(111),d=n(7293),v=n(7072),p=n(8003),m=n(9587);t.exports=function(t,e,n){var y=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),_=y?"set":"add",x=r[t],w=x&&x.prototype,k=x,b={},S=function(t){var e=a(w[t]);s(w,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(g&&!f(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return g&&!f(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!f(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})};if(o(t,!h(x)||!(g||w.forEach&&!d((function(){(new x).entries().next()})))))k=n.getConstructor(e,t,y,_),c.enable();else if(o(t,!0)){var I=new k,C=I[_](g?{}:-0,1)!=I,E=d((function(){I.has(1)})),D=v((function(t){new x(t)})),T=!g&&d((function(){for(var t=new x,e=5;e--;)t[_](e,e);return!t.has(-0)}));D||((k=e((function(t,e){l(t,w);var n=m(new x,t,k);return null!=e&&u(e,n[_],{that:n,AS_ENTRIES:y}),n}))).prototype=w,w.constructor=k),(E||T)&&(S("delete"),S("has"),y&&S("get")),(T||C)&&S(_),g&&w.clear&&delete w.clear}return b[t]=k,i({global:!0,forced:k!=x},b),p(k,t),g||n.setStrong(k,t,y),k}},9920:function(t,e,n){var i=n(2597),r=n(3887),a=n(1236),o=n(3070);t.exports=function(t,e,n){for(var s=r(e),c=o.f,u=a.f,l=0;l<s.length;l++){var h=s[l];i(t,h)||n&&i(n,h)||c(t,h,u(e,h))}}},4964:function(t,e,n){var i=n(5112)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,"/./"[t](e)}catch(t){}}return!1}},8544:function(t,e,n){var i=n(7293);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4230:function(t,e,n){var i=n(1702),r=n(4488),a=n(1340),o=/"/g,s=i("".replace);t.exports=function(t,e,n,i){var c=a(r(t)),u="<"+e;return""!==n&&(u+=" "+n+'="'+s(a(i),o,"&quot;")+'"'),u+">"+c+"</"+e+">"}},4994:function(t,e,n){"use strict";var i=n(3383).IteratorPrototype,r=n(30),a=n(9114),o=n(8003),s=n(7497),c=function(){return this};t.exports=function(t,e,n,u){var l=e+" Iterator";return t.prototype=r(i,{next:a(+!u,n)}),o(t,l,!1,!0),s[l]=c,t}},8880:function(t,e,n){var i=n(9781),r=n(3070),a=n(9114);t.exports=i?function(t,e,n){return r.f(t,e,a(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:function(t,e,n){"use strict";var i=n(4948),r=n(3070),a=n(9114);t.exports=function(t,e,n){var o=i(e);o in t?r.f(t,o,a(0,n)):t[o]=n}},654:function(t,e,n){"use strict";var i=n(2109),r=n(6916),a=n(1913),o=n(6530),s=n(614),c=n(4994),u=n(9518),l=n(7674),h=n(8003),f=n(8880),d=n(1320),v=n(5112),p=n(7497),m=n(3383),y=o.PROPER,g=o.CONFIGURABLE,_=m.IteratorPrototype,x=m.BUGGY_SAFARI_ITERATORS,w=v("iterator"),k="keys",b="values",S="entries",I=function(){return this};t.exports=function(t,e,n,o,v,m,C){c(n,e,o);var E,D,T,A=function(t){if(t===v&&R)return R;if(!x&&t in O)return O[t];switch(t){case k:case b:case S:return function(){return new n(this,t)}}return function(){return new n(this)}},P=e+" Iterator",L=!1,O=t.prototype,M=O[w]||O["@@iterator"]||v&&O[v],R=!x&&M||A(v),$="Array"==e&&O.entries||M;if($&&(E=u($.call(new t)))!==Object.prototype&&E.next&&(a||u(E)===_||(l?l(E,_):s(E[w])||d(E,w,I)),h(E,P,!0,!0),a&&(p[P]=I)),y&&v==b&&M&&M.name!==b&&(!a&&g?f(O,"name",b):(L=!0,R=function(){return r(M,this)})),v)if(D={values:A(b),keys:m?R:A(k),entries:A(S)},C)for(T in D)(x||L||!(T in O))&&d(O,T,D[T]);else i({target:e,proto:!0,forced:x||L},D);return a&&!C||O[w]===R||d(O,w,R,{name:v}),p[e]=R,D}},7235:function(t,e,n){var i=n(857),r=n(2597),a=n(6061),o=n(3070).f;t.exports=function(t){var e=i.Symbol||(i.Symbol={});r(e,t)||o(e,t,{value:a.f(t)})}},9781:function(t,e,n){var i=n(7293);t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(t,e,n){var i=n(7854),r=n(111),a=i.document,o=r(a)&&r(a.createElement);t.exports=function(t){return o?a.createElement(t):{}}},8324:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:function(t,e,n){var i=n(317)("span").classList,r=i&&i.constructor&&i.constructor.prototype;t.exports=r===Object.prototype?void 0:r},8886:function(t,e,n){var i=n(8113).match(/firefox\/(\d+)/i);t.exports=!!i&&+i[1]},7871:function(t){t.exports="object"==typeof window},256:function(t,e,n){var i=n(8113);t.exports=/MSIE|Trident/.test(i)},1528:function(t,e,n){var i=n(8113),r=n(7854);t.exports=/ipad|iphone|ipod/i.test(i)&&void 0!==r.Pebble},6833:function(t,e,n){var i=n(8113);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},5268:function(t,e,n){var i=n(4326),r=n(7854);t.exports="process"==i(r.process)},1036:function(t,e,n){var i=n(8113);t.exports=/web0s(?!.*chrome)/i.test(i)},8113:function(t,e,n){var i=n(5005);t.exports=i("navigator","userAgent")||""},7392:function(t,e,n){var i,r,a=n(7854),o=n(8113),s=a.process,c=a.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(r=(i=l.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(r=+i[1]),t.exports=r},8008:function(t,e,n){var i=n(8113).match(/AppleWebKit\/(\d+)\./);t.exports=!!i&&+i[1]},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,n){var i=n(7854),r=n(1236).f,a=n(8880),o=n(1320),s=n(3505),c=n(9920),u=n(4705);t.exports=function(t,e){var n,l,h,f,d,v=t.target,p=t.global,m=t.stat;if(n=p?i:m?i[v]||s(v,{}):(i[v]||{}).prototype)for(l in e){if(f=e[l],h=t.noTargetGet?(d=r(n,l))&&d.value:n[l],!u(p?l:v+(m?".":"#")+l,t.forced)&&void 0!==h){if(typeof f==typeof h)continue;c(f,h)}(t.sham||h&&h.sham)&&a(f,"sham",!0),o(n,l,f,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},7007:function(t,e,n){"use strict";n(4916);var i=n(1702),r=n(1320),a=n(2261),o=n(7293),s=n(5112),c=n(8880),u=s("species"),l=RegExp.prototype;t.exports=function(t,e,n,h){var f=s(t),d=!o((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),v=d&&!o((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return e=!0,null},n[f](""),!e}));if(!d||!v||n){var p=i(/./[f]),m=e(f,""[t],(function(t,e,n,r,o){var s=i(t),c=e.exec;return c===a||c===l.exec?d&&!o?{done:!0,value:p(e,n,r)}:{done:!0,value:s(n,e,r)}:{done:!1}}));r(String.prototype,t,m[0]),r(l,f,m[1])}h&&c(l[f],"sham",!0)}},6677:function(t,e,n){var i=n(7293);t.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},2104:function(t){var e=Function.prototype,n=e.apply,i=e.bind,r=e.call;t.exports="object"==typeof Reflect&&Reflect.apply||(i?r.bind(n):function(){return r.apply(n,arguments)})},9974:function(t,e,n){var i=n(1702),r=n(9662),a=i(i.bind);t.exports=function(t,e){return r(t),void 0===e?t:a?a(t,e):function(){return t.apply(e,arguments)}}},7065:function(t,e,n){"use strict";var i=n(7854),r=n(1702),a=n(9662),o=n(111),s=n(2597),c=n(206),u=i.Function,l=r([].concat),h=r([].join),f={},d=function(t,e,n){if(!s(f,e)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";f[e]=u("C,a","return new C("+h(i,",")+")")}return f[e](t,n)};t.exports=u.bind||function(t){var e=a(this),n=e.prototype,i=c(arguments,1),r=function(){var n=l(i,c(arguments));return this instanceof r?d(e,n.length,n):e.apply(t,n)};return o(n)&&(r.prototype=n),r}},6916:function(t){var e=Function.prototype.call;t.exports=e.bind?e.bind(e):function(){return e.apply(e,arguments)}},6530:function(t,e,n){var i=n(9781),r=n(2597),a=Function.prototype,o=i&&Object.getOwnPropertyDescriptor,s=r(a,"name"),c=s&&"something"===function(){}.name,u=s&&(!i||i&&o(a,"name").configurable);t.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},1702:function(t){var e=Function.prototype,n=e.bind,i=e.call,r=n&&n.bind(i,i);t.exports=n?function(t){return t&&r(t)}:function(t){return t&&function(){return i.apply(t,arguments)}}},5005:function(t,e,n){var i=n(7854),r=n(614),a=function(t){return r(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?a(i[t]):i[t]&&i[t][e]}},1246:function(t,e,n){var i=n(648),r=n(8173),a=n(7497),o=n(5112)("iterator");t.exports=function(t){if(null!=t)return r(t,o)||r(t,"@@iterator")||a[i(t)]}},8554:function(t,e,n){var i=n(7854),r=n(6916),a=n(9662),o=n(9670),s=n(6330),c=n(1246),u=i.TypeError;t.exports=function(t,e){var n=arguments.length<2?c(t):e;if(a(n))return o(r(n,t));throw u(s(t)+" is not iterable")}},8173:function(t,e,n){var i=n(9662);t.exports=function(t,e){var n=t[e];return null==n?void 0:i(n)}},647:function(t,e,n){var i=n(1702),r=n(7908),a=Math.floor,o=i("".charAt),s=i("".replace),c=i("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,i,h,f){var d=n+t.length,v=i.length,p=l;return void 0!==h&&(h=r(h),p=u),s(f,p,(function(r,s){var u;switch(o(s,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,n);case"'":return c(e,d);case"<":u=h[c(s,1,-1)];break;default:var l=+s;if(0===l)return r;if(l>v){var f=a(l/10);return 0===f?r:f<=v?void 0===i[f-1]?o(s,1):i[f-1]+o(s,1):r}u=i[l-1]}return void 0===u?"":u}))}},7854:function(t,e,n){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(t,e,n){var i=n(1702),r=n(7908),a=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return a(r(t),e)}},3501:function(t){t.exports={}},842:function(t,e,n){var i=n(7854);t.exports=function(t,e){var n=i.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))}},490:function(t,e,n){var i=n(5005);t.exports=i("document","documentElement")},4664:function(t,e,n){var i=n(9781),r=n(7293),a=n(317);t.exports=!i&&!r((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},1179:function(t,e,n){var i=n(7854).Array,r=Math.abs,a=Math.pow,o=Math.floor,s=Math.log,c=Math.LN2;t.exports={pack:function(t,e,n){var u,l,h,f=i(n),d=8*n-e-1,v=(1<<d)-1,p=v>>1,m=23===e?a(2,-24)-a(2,-77):0,y=t<0||0===t&&1/t<0?1:0,g=0;for((t=r(t))!=t||t===1/0?(l=t!=t?1:0,u=v):(u=o(s(t)/c),t*(h=a(2,-u))<1&&(u--,h*=2),(t+=u+p>=1?m/h:m*a(2,1-p))*h>=2&&(u++,h/=2),u+p>=v?(l=0,u=v):u+p>=1?(l=(t*h-1)*a(2,e),u+=p):(l=t*a(2,p-1)*a(2,e),u=0));e>=8;)f[g++]=255&l,l/=256,e-=8;for(u=u<<e|l,d+=e;d>0;)f[g++]=255&u,u/=256,d-=8;return f[--g]|=128*y,f},unpack:function(t,e){var n,i=t.length,r=8*i-e-1,o=(1<<r)-1,s=o>>1,c=r-7,u=i-1,l=t[u--],h=127&l;for(l>>=7;c>0;)h=256*h+t[u--],c-=8;for(n=h&(1<<-c)-1,h>>=-c,c+=e;c>0;)n=256*n+t[u--],c-=8;if(0===h)h=1-s;else{if(h===o)return n?NaN:l?-1/0:1/0;n+=a(2,e),h-=s}return(l?-1:1)*n*a(2,h-e)}}},8361:function(t,e,n){var i=n(7854),r=n(1702),a=n(7293),o=n(4326),s=i.Object,c=r("".split);t.exports=a((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?c(t,""):s(t)}:s},9587:function(t,e,n){var i=n(614),r=n(111),a=n(7674);t.exports=function(t,e,n){var o,s;return a&&i(o=e.constructor)&&o!==n&&r(s=o.prototype)&&s!==n.prototype&&a(t,s),t}},2788:function(t,e,n){var i=n(1702),r=n(614),a=n(5465),o=i(Function.toString);r(a.inspectSource)||(a.inspectSource=function(t){return o(t)}),t.exports=a.inspectSource},2423:function(t,e,n){var i=n(2109),r=n(1702),a=n(3501),o=n(111),s=n(2597),c=n(3070).f,u=n(8006),l=n(1156),h=n(2050),f=n(9711),d=n(6677),v=!1,p=f("meta"),m=0,y=function(t){c(t,p,{value:{objectID:"O"+m++,weakData:{}}})},g=t.exports={enable:function(){g.enable=function(){},v=!0;var t=u.f,e=r([].splice),n={};n[p]=1,t(n).length&&(u.f=function(n){for(var i=t(n),r=0,a=i.length;r<a;r++)if(i[r]===p){e(i,r,1);break}return i},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,p)){if(!h(t))return"F";if(!e)return"E";y(t)}return t[p].objectID},getWeakData:function(t,e){if(!s(t,p)){if(!h(t))return!0;if(!e)return!1;y(t)}return t[p].weakData},onFreeze:function(t){return d&&v&&h(t)&&!s(t,p)&&y(t),t}};a[p]=!0},9909:function(t,e,n){var i,r,a,o=n(8536),s=n(7854),c=n(1702),u=n(111),l=n(8880),h=n(2597),f=n(5465),d=n(6200),v=n(3501),p="Object already initialized",m=s.TypeError,y=s.WeakMap;if(o||f.state){var g=f.state||(f.state=new y),_=c(g.get),x=c(g.has),w=c(g.set);i=function(t,e){if(x(g,t))throw new m(p);return e.facade=t,w(g,t,e),e},r=function(t){return _(g,t)||{}},a=function(t){return x(g,t)}}else{var k=d("state");v[k]=!0,i=function(t,e){if(h(t,k))throw new m(p);return e.facade=t,l(t,k,e),e},r=function(t){return h(t,k)?t[k]:{}},a=function(t){return h(t,k)}}t.exports={set:i,get:r,has:a,enforce:function(t){return a(t)?r(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=r(e)).type!==t)throw m("Incompatible receiver, "+t+" required");return n}}}},7659:function(t,e,n){var i=n(5112),r=n(7497),a=i("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[a]===t)}},3157:function(t,e,n){var i=n(4326);t.exports=Array.isArray||function(t){return"Array"==i(t)}},614:function(t){t.exports=function(t){return"function"==typeof t}},4411:function(t,e,n){var i=n(1702),r=n(7293),a=n(614),o=n(648),s=n(5005),c=n(2788),u=function(){},l=[],h=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,d=i(f.exec),v=!f.exec(u),p=function(t){if(!a(t))return!1;try{return h(u,l,t),!0}catch(t){return!1}},m=function(t){if(!a(t))return!1;switch(o(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return v||!!d(f,c(t))}catch(t){return!0}};m.sham=!0,t.exports=!h||r((function(){var t;return p(p.call)||!p(Object)||!p((function(){t=!0}))||t}))?m:p},4705:function(t,e,n){var i=n(7293),r=n(614),a=/#|\.prototype\./,o=function(t,e){var n=c[s(t)];return n==l||n!=u&&(r(e)?i(e):!!e)},s=o.normalize=function(t){return String(t).replace(a,".").toLowerCase()},c=o.data={},u=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},5988:function(t,e,n){var i=n(111),r=Math.floor;t.exports=Number.isInteger||function(t){return!i(t)&&isFinite(t)&&r(t)===t}},111:function(t,e,n){var i=n(614);t.exports=function(t){return"object"==typeof t?null!==t:i(t)}},1913:function(t){t.exports=!1},7850:function(t,e,n){var i=n(111),r=n(4326),a=n(5112)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==r(t))}},2190:function(t,e,n){var i=n(7854),r=n(5005),a=n(614),o=n(7976),s=n(3307),c=i.Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return a(e)&&o(e.prototype,c(t))}},408:function(t,e,n){var i=n(7854),r=n(9974),a=n(6916),o=n(9670),s=n(6330),c=n(7659),u=n(6244),l=n(7976),h=n(8554),f=n(1246),d=n(9212),v=i.TypeError,p=function(t,e){this.stopped=t,this.result=e},m=p.prototype;t.exports=function(t,e,n){var i,y,g,_,x,w,k,b=n&&n.that,S=!(!n||!n.AS_ENTRIES),I=!(!n||!n.IS_ITERATOR),C=!(!n||!n.INTERRUPTED),E=r(e,b),D=function(t){return i&&d(i,"normal",t),new p(!0,t)},T=function(t){return S?(o(t),C?E(t[0],t[1],D):E(t[0],t[1])):C?E(t,D):E(t)};if(I)i=t;else{if(!(y=f(t)))throw v(s(t)+" is not iterable");if(c(y)){for(g=0,_=u(t);_>g;g++)if((x=T(t[g]))&&l(m,x))return x;return new p(!1)}i=h(t,y)}for(w=i.next;!(k=a(w,i)).done;){try{x=T(k.value)}catch(t){d(i,"throw",t)}if("object"==typeof x&&x&&l(m,x))return x}return new p(!1)}},9212:function(t,e,n){var i=n(6916),r=n(9670),a=n(8173);t.exports=function(t,e,n){var o,s;r(t);try{if(!(o=a(t,"return"))){if("throw"===e)throw n;return n}o=i(o,t)}catch(t){s=!0,o=t}if("throw"===e)throw n;if(s)throw o;return r(o),n}},3383:function(t,e,n){"use strict";var i,r,a,o=n(7293),s=n(614),c=n(30),u=n(9518),l=n(1320),h=n(5112),f=n(1913),d=h("iterator"),v=!1;[].keys&&("next"in(a=[].keys())?(r=u(u(a)))!==Object.prototype&&(i=r):v=!0),null==i||o((function(){var t={};return i[d].call(t)!==t}))?i={}:f&&(i=c(i)),s(i[d])||l(i,d,(function(){return this})),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:v}},7497:function(t){t.exports={}},6244:function(t,e,n){var i=n(7466);t.exports=function(t){return i(t.length)}},5948:function(t,e,n){var i,r,a,o,s,c,u,l,h=n(7854),f=n(9974),d=n(1236).f,v=n(261).set,p=n(6833),m=n(1528),y=n(1036),g=n(5268),_=h.MutationObserver||h.WebKitMutationObserver,x=h.document,w=h.process,k=h.Promise,b=d(h,"queueMicrotask"),S=b&&b.value;S||(i=function(){var t,e;for(g&&(t=w.domain)&&t.exit();r;){e=r.fn,r=r.next;try{e()}catch(t){throw r?o():a=void 0,t}}a=void 0,t&&t.enter()},p||g||y||!_||!x?!m&&k&&k.resolve?((u=k.resolve(void 0)).constructor=k,l=f(u.then,u),o=function(){l(i)}):g?o=function(){w.nextTick(i)}:(v=f(v,h),o=function(){v(i)}):(s=!0,c=x.createTextNode(""),new _(i).observe(c,{characterData:!0}),o=function(){c.data=s=!s})),t.exports=S||function(t){var e={fn:t,next:void 0};a&&(a.next=e),r||(r=e,o()),a=e}},3366:function(t,e,n){var i=n(7854);t.exports=i.Promise},133:function(t,e,n){var i=n(7392),r=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},8536:function(t,e,n){var i=n(7854),r=n(614),a=n(2788),o=i.WeakMap;t.exports=r(o)&&/native code/.test(a(o))},8523:function(t,e,n){"use strict";var i=n(9662),r=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)};t.exports.f=function(t){return new r(t)}},3929:function(t,e,n){var i=n(7854),r=n(7850),a=i.TypeError;t.exports=function(t){if(r(t))throw a("The method doesn't accept regular expressions");return t}},1574:function(t,e,n){"use strict";var i=n(9781),r=n(1702),a=n(6916),o=n(7293),s=n(1956),c=n(5181),u=n(5296),l=n(7908),h=n(8361),f=Object.assign,d=Object.defineProperty,v=r([].concat);t.exports=!f||o((function(){if(i&&1!==f({b:1},f(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=f({},t)[n]||s(f({},e)).join("")!=r}))?function(t,e){for(var n=l(t),r=arguments.length,o=1,f=c.f,d=u.f;r>o;)for(var p,m=h(arguments[o++]),y=f?v(s(m),f(m)):s(m),g=y.length,_=0;g>_;)p=y[_++],i&&!a(d,m,p)||(n[p]=m[p]);return n}:f},30:function(t,e,n){var i,r=n(9670),a=n(6048),o=n(748),s=n(3501),c=n(490),u=n(317),l=n(6200)("IE_PROTO"),h=function(){},f=function(t){return"<script>"+t+"<\/script>"},d=function(t){t.write(f("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){try{i=new ActiveXObject("htmlfile")}catch(t){}var t,e;v="undefined"!=typeof document?document.domain&&i?d(i):((e=u("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(f("document.F=Object")),t.close(),t.F):d(i);for(var n=o.length;n--;)delete v.prototype[o[n]];return v()};s[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=r(t),n=new h,h.prototype=null,n[l]=t):n=v(),void 0===e?n:a.f(n,e)}},6048:function(t,e,n){var i=n(9781),r=n(3353),a=n(3070),o=n(9670),s=n(5656),c=n(1956);e.f=i&&!r?Object.defineProperties:function(t,e){o(t);for(var n,i=s(e),r=c(e),u=r.length,l=0;u>l;)a.f(t,n=r[l++],i[n]);return t}},3070:function(t,e,n){var i=n(7854),r=n(9781),a=n(4664),o=n(3353),s=n(9670),c=n(4948),u=i.TypeError,l=Object.defineProperty,h=Object.getOwnPropertyDescriptor;e.f=r?o?function(t,e,n){if(s(t),e=c(e),s(n),"function"==typeof t&&"prototype"===e&&"value"in n&&"writable"in n&&!n.writable){var i=h(t,e);i&&i.writable&&(t[e]=n.value,n={configurable:"configurable"in n?n.configurable:i.configurable,enumerable:"enumerable"in n?n.enumerable:i.enumerable,writable:!1})}return l(t,e,n)}:l:function(t,e,n){if(s(t),e=c(e),s(n),a)try{return l(t,e,n)}catch(t){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var i=n(9781),r=n(6916),a=n(5296),o=n(9114),s=n(5656),c=n(4948),u=n(2597),l=n(4664),h=Object.getOwnPropertyDescriptor;e.f=i?h:function(t,e){if(t=s(t),e=c(e),l)try{return h(t,e)}catch(t){}if(u(t,e))return o(!r(a.f,t,e),t[e])}},1156:function(t,e,n){var i=n(4326),r=n(5656),a=n(8006).f,o=n(1589),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"Window"==i(t)?function(t){try{return a(t)}catch(t){return o(s)}}(t):a(r(t))}},8006:function(t,e,n){var i=n(6324),r=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,n){var i=n(7854),r=n(2597),a=n(614),o=n(7908),s=n(6200),c=n(8544),u=s("IE_PROTO"),l=i.Object,h=l.prototype;t.exports=c?l.getPrototypeOf:function(t){var e=o(t);if(r(e,u))return e[u];var n=e.constructor;return a(n)&&e instanceof n?n.prototype:e instanceof l?h:null}},2050:function(t,e,n){var i=n(7293),r=n(111),a=n(4326),o=n(7556),s=Object.isExtensible,c=i((function(){s(1)}));t.exports=c||o?function(t){return!!r(t)&&(!o||"ArrayBuffer"!=a(t))&&(!s||s(t))}:s},7976:function(t,e,n){var i=n(1702);t.exports=i({}.isPrototypeOf)},6324:function(t,e,n){var i=n(1702),r=n(2597),a=n(5656),o=n(1318).indexOf,s=n(3501),c=i([].push);t.exports=function(t,e){var n,i=a(t),u=0,l=[];for(n in i)!r(s,n)&&r(i,n)&&c(l,n);for(;e.length>u;)r(i,n=e[u++])&&(~o(l,n)||c(l,n));return l}},1956:function(t,e,n){var i=n(6324),r=n(748);t.exports=Object.keys||function(t){return i(t,r)}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);e.f=r?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},7674:function(t,e,n){var i=n(1702),r=n(9670),a=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n),a(i),e?t(n,i):n.__proto__=i,n}}():void 0)},4699:function(t,e,n){var i=n(9781),r=n(1702),a=n(1956),o=n(5656),s=r(n(5296).f),c=r([].push),u=function(t){return function(e){for(var n,r=o(e),u=a(r),l=u.length,h=0,f=[];l>h;)n=u[h++],i&&!s(r,n)||c(f,t?[n,r[n]]:r[n]);return f}};t.exports={entries:u(!0),values:u(!1)}},288:function(t,e,n){"use strict";var i=n(1694),r=n(648);t.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},2140:function(t,e,n){var i=n(7854),r=n(6916),a=n(614),o=n(111),s=i.TypeError;t.exports=function(t,e){var n,i;if("string"===e&&a(n=t.toString)&&!o(i=r(n,t)))return i;if(a(n=t.valueOf)&&!o(i=r(n,t)))return i;if("string"!==e&&a(n=t.toString)&&!o(i=r(n,t)))return i;throw s("Can't convert object to primitive value")}},3887:function(t,e,n){var i=n(5005),r=n(1702),a=n(8006),o=n(5181),s=n(9670),c=r([].concat);t.exports=i("Reflect","ownKeys")||function(t){var e=a.f(s(t)),n=o.f;return n?c(e,n(t)):e}},857:function(t,e,n){var i=n(7854);t.exports=i},2534:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},9478:function(t,e,n){var i=n(9670),r=n(111),a=n(8523);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=a.f(t);return(0,n.resolve)(e),n.promise}},8572:function(t){var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}},t.exports=e},2248:function(t,e,n){var i=n(1320);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},1320:function(t,e,n){var i=n(7854),r=n(614),a=n(2597),o=n(8880),s=n(3505),c=n(2788),u=n(9909),l=n(6530).CONFIGURABLE,h=u.get,f=u.enforce,d=String(String).split("String");(t.exports=function(t,e,n,c){var u,h=!!c&&!!c.unsafe,v=!!c&&!!c.enumerable,p=!!c&&!!c.noTargetGet,m=c&&void 0!==c.name?c.name:e;r(n)&&("Symbol("===String(m).slice(0,7)&&(m="["+String(m).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!a(n,"name")||l&&n.name!==m)&&o(n,"name",m),(u=f(n)).source||(u.source=d.join("string"==typeof m?m:""))),t!==i?(h?!p&&t[e]&&(v=!0):delete t[e],v?t[e]=n:o(t,e,n)):v?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return r(this)&&h(this).source||c(this)}))},7651:function(t,e,n){var i=n(7854),r=n(6916),a=n(9670),o=n(614),s=n(4326),c=n(2261),u=i.TypeError;t.exports=function(t,e){var n=t.exec;if(o(n)){var i=r(n,t,e);return null!==i&&a(i),i}if("RegExp"===s(t))return r(c,t,e);throw u("RegExp#exec called on incompatible receiver")}},2261:function(t,e,n){"use strict";var i,r,a=n(6916),o=n(1702),s=n(1340),c=n(7066),u=n(2999),l=n(2309),h=n(30),f=n(9909).get,d=n(9441),v=n(7168),p=l("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,y=m,g=o("".charAt),_=o("".indexOf),x=o("".replace),w=o("".slice),k=(r=/b*/g,a(m,i=/a/,"a"),a(m,r,"a"),0!==i.lastIndex||0!==r.lastIndex),b=u.BROKEN_CARET,S=void 0!==/()??/.exec("")[1];(k||S||b||d||v)&&(y=function(t){var e,n,i,r,o,u,l,d=this,v=f(d),I=s(t),C=v.raw;if(C)return C.lastIndex=d.lastIndex,e=a(y,C,I),d.lastIndex=C.lastIndex,e;var E=v.groups,D=b&&d.sticky,T=a(c,d),A=d.source,P=0,L=I;if(D&&(T=x(T,"y",""),-1===_(T,"g")&&(T+="g"),L=w(I,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==g(I,d.lastIndex-1))&&(A="(?: "+A+")",L=" "+L,P++),n=new RegExp("^(?:"+A+")",T)),S&&(n=new RegExp("^"+A+"$(?!\\s)",T)),k&&(i=d.lastIndex),r=a(m,D?n:d,L),D?r?(r.input=w(r.input,P),r[0]=w(r[0],P),r.index=d.lastIndex,d.lastIndex+=r[0].length):d.lastIndex=0:k&&r&&(d.lastIndex=d.global?r.index+r[0].length:i),S&&r&&r.length>1&&a(p,r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r&&E)for(r.groups=u=h(null),o=0;o<E.length;o++)u[(l=E[o])[0]]=r[l[1]];return r}),t.exports=y},7066:function(t,e,n){"use strict";var i=n(9670);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},2999:function(t,e,n){var i=n(7293),r=n(7854).RegExp,a=i((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),o=a||i((function(){return!r("a","y").sticky})),s=a||i((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:s,MISSED_STICKY:o,UNSUPPORTED_Y:a}},9441:function(t,e,n){var i=n(7293),r=n(7854).RegExp;t.exports=i((function(){var t=r(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},7168:function(t,e,n){var i=n(7293),r=n(7854).RegExp;t.exports=i((function(){var t=r("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},4488:function(t,e,n){var i=n(7854).TypeError;t.exports=function(t){if(null==t)throw i("Can't call method on "+t);return t}},3505:function(t,e,n){var i=n(7854),r=Object.defineProperty;t.exports=function(t,e){try{r(i,t,{value:e,configurable:!0,writable:!0})}catch(n){i[t]=e}return e}},6340:function(t,e,n){"use strict";var i=n(5005),r=n(3070),a=n(5112),o=n(9781),s=a("species");t.exports=function(t){var e=i(t),n=r.f;o&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},8003:function(t,e,n){var i=n(3070).f,r=n(2597),a=n(5112)("toStringTag");t.exports=function(t,e,n){t&&!n&&(t=t.prototype),t&&!r(t,a)&&i(t,a,{configurable:!0,value:e})}},6200:function(t,e,n){var i=n(2309),r=n(9711),a=i("keys");t.exports=function(t){return a[t]||(a[t]=r(t))}},5465:function(t,e,n){var i=n(7854),r=n(3505),a="__core-js_shared__",o=i[a]||r(a,{});t.exports=o},2309:function(t,e,n){var i=n(1913),r=n(5465);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.20.2",mode:i?"pure":"global",copyright:"© 2022 Denis Pushkarev (zloirock.ru)"})},6707:function(t,e,n){var i=n(9670),r=n(9483),a=n(5112)("species");t.exports=function(t,e){var n,o=i(t).constructor;return void 0===o||null==(n=i(o)[a])?e:r(n)}},3429:function(t,e,n){var i=n(7293);t.exports=function(t){return i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},8710:function(t,e,n){var i=n(1702),r=n(9303),a=n(1340),o=n(4488),s=i("".charAt),c=i("".charCodeAt),u=i("".slice),l=function(t){return function(e,n){var i,l,h=a(o(e)),f=r(n),d=h.length;return f<0||f>=d?t?"":void 0:(i=c(h,f))<55296||i>56319||f+1===d||(l=c(h,f+1))<56320||l>57343?t?s(h,f):i:t?u(h,f,f+2):l-56320+(i-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},8415:function(t,e,n){"use strict";var i=n(7854),r=n(9303),a=n(1340),o=n(4488),s=i.RangeError;t.exports=function(t){var e=a(o(this)),n="",i=r(t);if(i<0||i==1/0)throw s("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},6091:function(t,e,n){var i=n(6530).PROPER,r=n(7293),a=n(1361);t.exports=function(t){return r((function(){return!!a[t]()||"​᠎"!=="​᠎"[t]()||i&&a[t].name!==t}))}},3111:function(t,e,n){var i=n(1702),r=n(4488),a=n(1340),o=n(1361),s=i("".replace),c="["+o+"]",u=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),h=function(t){return function(e){var n=a(r(e));return 1&t&&(n=s(n,u,"")),2&t&&(n=s(n,l,"")),n}};t.exports={start:h(1),end:h(2),trim:h(3)}},261:function(t,e,n){var i,r,a,o,s=n(7854),c=n(2104),u=n(9974),l=n(614),h=n(2597),f=n(7293),d=n(490),v=n(206),p=n(317),m=n(6833),y=n(5268),g=s.setImmediate,_=s.clearImmediate,x=s.process,w=s.Dispatch,k=s.Function,b=s.MessageChannel,S=s.String,I=0,C={};try{i=s.location}catch(t){}var E=function(t){if(h(C,t)){var e=C[t];delete C[t],e()}},D=function(t){return function(){E(t)}},T=function(t){E(t.data)},A=function(t){s.postMessage(S(t),i.protocol+"//"+i.host)};g&&_||(g=function(t){var e=v(arguments,1);return C[++I]=function(){c(l(t)?t:k(t),void 0,e)},r(I),I},_=function(t){delete C[t]},y?r=function(t){x.nextTick(D(t))}:w&&w.now?r=function(t){w.now(D(t))}:b&&!m?(o=(a=new b).port2,a.port1.onmessage=T,r=u(o.postMessage,o)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&i&&"file:"!==i.protocol&&!f(A)?(r=A,s.addEventListener("message",T,!1)):r="onreadystatechange"in p("script")?function(t){d.appendChild(p("script")).onreadystatechange=function(){d.removeChild(this),E(t)}}:function(t){setTimeout(D(t),0)}),t.exports={set:g,clear:_}},863:function(t,e,n){var i=n(1702);t.exports=i(1..valueOf)},1400:function(t,e,n){var i=n(9303),r=Math.max,a=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):a(n,e)}},7067:function(t,e,n){var i=n(7854),r=n(9303),a=n(7466),o=i.RangeError;t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=a(e);if(e!==n)throw o("Wrong length or index");return n}},5656:function(t,e,n){var i=n(8361),r=n(4488);t.exports=function(t){return i(r(t))}},9303:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){var i=+t;return i!=i||0===i?0:(i>0?n:e)(i)}},7466:function(t,e,n){var i=n(9303),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},7908:function(t,e,n){var i=n(7854),r=n(4488),a=i.Object;t.exports=function(t){return a(r(t))}},4590:function(t,e,n){var i=n(7854),r=n(3002),a=i.RangeError;t.exports=function(t,e){var n=r(t);if(n%e)throw a("Wrong offset");return n}},3002:function(t,e,n){var i=n(7854),r=n(9303),a=i.RangeError;t.exports=function(t){var e=r(t);if(e<0)throw a("The argument can't be less than 0");return e}},7593:function(t,e,n){var i=n(7854),r=n(6916),a=n(111),o=n(2190),s=n(8173),c=n(2140),u=n(5112),l=i.TypeError,h=u("toPrimitive");t.exports=function(t,e){if(!a(t)||o(t))return t;var n,i=s(t,h);if(i){if(void 0===e&&(e="default"),n=r(i,t,e),!a(n)||o(n))return n;throw l("Can't convert object to primitive value")}return void 0===e&&(e="number"),c(t,e)}},4948:function(t,e,n){var i=n(7593),r=n(2190);t.exports=function(t){var e=i(t,"string");return r(e)?e:e+""}},1694:function(t,e,n){var i={};i[n(5112)("toStringTag")]="z",t.exports="[object z]"===String(i)},1340:function(t,e,n){var i=n(7854),r=n(648),a=i.String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return a(t)}},6330:function(t,e,n){var i=n(7854).String;t.exports=function(t){try{return i(t)}catch(t){return"Object"}}},9843:function(t,e,n){"use strict";var i=n(2109),r=n(7854),a=n(6916),o=n(9781),s=n(3832),c=n(260),u=n(3331),l=n(5787),h=n(9114),f=n(8880),d=n(5988),v=n(7466),p=n(7067),m=n(4590),y=n(4948),g=n(2597),_=n(648),x=n(111),w=n(2190),k=n(30),b=n(7976),S=n(7674),I=n(8006).f,C=n(7321),E=n(2092).forEach,D=n(6340),T=n(3070),A=n(1236),P=n(9909),L=n(9587),O=P.get,M=P.set,R=T.f,$=A.f,B=Math.round,j=r.RangeError,F=u.ArrayBuffer,N=F.prototype,V=u.DataView,z=c.NATIVE_ARRAY_BUFFER_VIEWS,H=c.TYPED_ARRAY_CONSTRUCTOR,U=c.TYPED_ARRAY_TAG,W=c.TypedArray,Y=c.TypedArrayPrototype,K=c.aTypedArrayConstructor,q=c.isTypedArray,Z="BYTES_PER_ELEMENT",X="Wrong length",G=function(t,e){K(t);for(var n=0,i=e.length,r=new t(i);i>n;)r[n]=e[n++];return r},J=function(t,e){R(t,e,{get:function(){return O(this)[e]}})},Q=function(t){var e;return b(N,t)||"ArrayBuffer"==(e=_(t))||"SharedArrayBuffer"==e},tt=function(t,e){return q(t)&&!w(e)&&e in t&&d(+e)&&e>=0},et=function(t,e){return e=y(e),tt(t,e)?h(2,t[e]):$(t,e)},nt=function(t,e,n){return e=y(e),!(tt(t,e)&&x(n)&&g(n,"value"))||g(n,"get")||g(n,"set")||n.configurable||g(n,"writable")&&!n.writable||g(n,"enumerable")&&!n.enumerable?R(t,e,n):(t[e]=n.value,t)};o?(z||(A.f=et,T.f=nt,J(Y,"buffer"),J(Y,"byteOffset"),J(Y,"byteLength"),J(Y,"length")),i({target:"Object",stat:!0,forced:!z},{getOwnPropertyDescriptor:et,defineProperty:nt}),t.exports=function(t,e,n){var o=t.match(/\d+$/)[0]/8,c=t+(n?"Clamped":"")+"Array",u="get"+t,h="set"+t,d=r[c],y=d,g=y&&y.prototype,_={},w=function(t,e){R(t,e,{get:function(){return function(t,e){var n=O(t);return n.view[u](e*o+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,i){var r=O(t);n&&(i=(i=B(i))<0?0:i>255?255:255&i),r.view[h](e*o+r.byteOffset,i,!0)}(this,e,t)},enumerable:!0})};z?s&&(y=e((function(t,e,n,i){return l(t,g),L(x(e)?Q(e)?void 0!==i?new d(e,m(n,o),i):void 0!==n?new d(e,m(n,o)):new d(e):q(e)?G(y,e):a(C,y,e):new d(p(e)),t,y)})),S&&S(y,W),E(I(d),(function(t){t in y||f(y,t,d[t])})),y.prototype=g):(y=e((function(t,e,n,i){l(t,g);var r,s,c,u=0,h=0;if(x(e)){if(!Q(e))return q(e)?G(y,e):a(C,y,e);r=e,h=m(n,o);var f=e.byteLength;if(void 0===i){if(f%o)throw j(X);if((s=f-h)<0)throw j(X)}else if((s=v(i)*o)+h>f)throw j(X);c=s/o}else c=p(e),r=new F(s=c*o);for(M(t,{buffer:r,byteOffset:h,byteLength:s,length:c,view:new V(r)});u<c;)w(t,u++)})),S&&S(y,W),g=y.prototype=k(Y)),g.constructor!==y&&f(g,"constructor",y),f(g,H,y),U&&f(g,U,c),_[c]=y,i({global:!0,forced:y!=d,sham:!z},_),Z in y||f(y,Z,o),Z in g||f(g,Z,o),D(c)}):t.exports=function(){}},3832:function(t,e,n){var i=n(7854),r=n(7293),a=n(7072),o=n(260).NATIVE_ARRAY_BUFFER_VIEWS,s=i.ArrayBuffer,c=i.Int8Array;t.exports=!o||!r((function(){c(1)}))||!r((function(){new c(-1)}))||!a((function(t){new c,new c(null),new c(1.5),new c(t)}),!0)||r((function(){return 1!==new c(new s(2),1,void 0).length}))},3074:function(t,e,n){var i=n(7745),r=n(6304);t.exports=function(t,e){return i(r(t),e)}},7321:function(t,e,n){var i=n(9974),r=n(6916),a=n(9483),o=n(7908),s=n(6244),c=n(8554),u=n(1246),l=n(7659),h=n(260).aTypedArrayConstructor;t.exports=function(t){var e,n,f,d,v,p,m=a(this),y=o(t),g=arguments.length,_=g>1?arguments[1]:void 0,x=void 0!==_,w=u(y);if(w&&!l(w))for(p=(v=c(y,w)).next,y=[];!(d=r(p,v)).done;)y.push(d.value);for(x&&g>2&&(_=i(_,arguments[2])),n=s(y),f=new(h(m))(n),e=0;n>e;e++)f[e]=x?_(y[e],e):y[e];return f}},6304:function(t,e,n){var i=n(260),r=n(6707),a=i.TYPED_ARRAY_CONSTRUCTOR,o=i.aTypedArrayConstructor;t.exports=function(t){return o(r(t,t[a]))}},9711:function(t,e,n){var i=n(1702),r=0,a=Math.random(),o=i(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++r+a,36)}},3307:function(t,e,n){var i=n(133);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,n){var i=n(9781),r=n(7293);t.exports=i&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},6061:function(t,e,n){var i=n(5112);e.f=i},5112:function(t,e,n){var i=n(7854),r=n(2309),a=n(2597),o=n(9711),s=n(133),c=n(3307),u=r("wks"),l=i.Symbol,h=l&&l.for,f=c?l:l&&l.withoutSetter||o;t.exports=function(t){if(!a(u,t)||!s&&"string"!=typeof u[t]){var e="Symbol."+t;s&&a(l,t)?u[t]=l[t]:u[t]=c&&h?h(e):f(e)}return u[t]}},1361:function(t){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},2222:function(t,e,n){"use strict";var i=n(2109),r=n(7854),a=n(7293),o=n(3157),s=n(111),c=n(7908),u=n(6244),l=n(6135),h=n(5417),f=n(1194),d=n(5112),v=n(7392),p=d("isConcatSpreadable"),m=9007199254740991,y="Maximum allowed index exceeded",g=r.TypeError,_=v>=51||!a((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),x=f("concat"),w=function(t){if(!s(t))return!1;var e=t[p];return void 0!==e?!!e:o(t)};i({target:"Array",proto:!0,forced:!_||!x},{concat:function(t){var e,n,i,r,a,o=c(this),s=h(o,0),f=0;for(e=-1,i=arguments.length;e<i;e++)if(w(a=-1===e?o:arguments[e])){if(f+(r=u(a))>m)throw g(y);for(n=0;n<r;n++,f++)n in a&&l(s,f,a[n])}else{if(f>=m)throw g(y);l(s,f++,a)}return s.length=f,s}})},3290:function(t,e,n){var i=n(2109),r=n(1285),a=n(1223);i({target:"Array",proto:!0},{fill:r}),a("fill")},7327:function(t,e,n){"use strict";var i=n(2109),r=n(2092).filter;i({target:"Array",proto:!0,forced:!n(1194)("filter")},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},4553:function(t,e,n){"use strict";var i=n(2109),r=n(2092).findIndex,a=n(1223),o="findIndex",s=!0;o in[]&&Array(1).findIndex((function(){s=!1})),i({target:"Array",proto:!0,forced:s},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a(o)},1038:function(t,e,n){var i=n(2109),r=n(8457);i({target:"Array",stat:!0,forced:!n(7072)((function(t){Array.from(t)}))},{from:r})},6699:function(t,e,n){"use strict";var i=n(2109),r=n(1318).includes,a=n(1223);i({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},6992:function(t,e,n){"use strict";var i=n(5656),r=n(1223),a=n(7497),o=n(9909),s=n(3070).f,c=n(654),u=n(1913),l=n(9781),h="Array Iterator",f=o.set,d=o.getterFor(h);t.exports=c(Array,"Array",(function(t,e){f(this,{type:h,target:i(t),index:0,kind:e})}),(function(){var t=d(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values");var v=a.Arguments=a.Array;if(r("keys"),r("values"),r("entries"),!u&&l&&"values"!==v.name)try{s(v,"name",{value:"values"})}catch(t){}},9600:function(t,e,n){"use strict";var i=n(2109),r=n(1702),a=n(8361),o=n(5656),s=n(9341),c=r([].join),u=a!=Object,l=s("join",",");i({target:"Array",proto:!0,forced:u||!l},{join:function(t){return c(o(this),void 0===t?",":t)}})},1249:function(t,e,n){"use strict";var i=n(2109),r=n(2092).map;i({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},7042:function(t,e,n){"use strict";var i=n(2109),r=n(7854),a=n(3157),o=n(4411),s=n(111),c=n(1400),u=n(6244),l=n(5656),h=n(6135),f=n(5112),d=n(1194),v=n(206),p=d("slice"),m=f("species"),y=r.Array,g=Math.max;i({target:"Array",proto:!0,forced:!p},{slice:function(t,e){var n,i,r,f=l(this),d=u(f),p=c(t,d),_=c(void 0===e?d:e,d);if(a(f)&&(n=f.constructor,(o(n)&&(n===y||a(n.prototype))||s(n)&&null===(n=n[m]))&&(n=void 0),n===y||void 0===n))return v(f,p,_);for(i=new(void 0===n?y:n)(g(_-p,0)),r=0;p<_;p++,r++)p in f&&h(i,r,f[p]);return i.length=r,i}})},2707:function(t,e,n){"use strict";var i=n(2109),r=n(1702),a=n(9662),o=n(7908),s=n(6244),c=n(1340),u=n(7293),l=n(4362),h=n(9341),f=n(8886),d=n(256),v=n(7392),p=n(8008),m=[],y=r(m.sort),g=r(m.push),_=u((function(){m.sort(void 0)})),x=u((function(){m.sort(null)})),w=h("sort"),k=!u((function(){if(v)return v<70;if(!(f&&f>3)){if(d)return!0;if(p)return p<603;var t,e,n,i,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)m.push({k:e+i,v:n})}for(m.sort((function(t,e){return e.v-t.v})),i=0;i<m.length;i++)e=m[i].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}}));i({target:"Array",proto:!0,forced:_||!x||!w||!k},{sort:function(t){void 0!==t&&a(t);var e=o(this);if(k)return void 0===t?y(e):y(e,t);var n,i,r=[],u=s(e);for(i=0;i<u;i++)i in e&&g(r,e[i]);for(l(r,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:c(e)>c(n)?1:-1}}(t)),n=r.length,i=0;i<n;)e[i]=r[i++];for(;i<u;)delete e[i++];return e}})},561:function(t,e,n){"use strict";var i=n(2109),r=n(7854),a=n(1400),o=n(9303),s=n(6244),c=n(7908),u=n(5417),l=n(6135),h=n(1194)("splice"),f=r.TypeError,d=Math.max,v=Math.min,p=9007199254740991,m="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!h},{splice:function(t,e){var n,i,r,h,y,g,_=c(this),x=s(_),w=a(t,x),k=arguments.length;if(0===k?n=i=0:1===k?(n=0,i=x-w):(n=k-2,i=v(d(o(e),0),x-w)),x+n-i>p)throw f(m);for(r=u(_,i),h=0;h<i;h++)(y=w+h)in _&&l(r,h,_[y]);if(r.length=i,n<i){for(h=w;h<x-i;h++)g=h+n,(y=h+i)in _?_[g]=_[y]:delete _[g];for(h=x;h>x-i+n;h--)delete _[h-1]}else if(n>i)for(h=x-i;h>w;h--)g=h+n-1,(y=h+i-1)in _?_[g]=_[y]:delete _[g];for(h=0;h<n;h++)_[h+w]=arguments[h+2];return _.length=x-i+n,r}})},8309:function(t,e,n){var i=n(9781),r=n(6530).EXISTS,a=n(1702),o=n(3070).f,s=Function.prototype,c=a(s.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=a(u.exec);i&&!r&&o(s,"name",{configurable:!0,get:function(){try{return l(u,c(this))[1]}catch(t){return""}}})},5837:function(t,e,n){n(2109)({global:!0},{globalThis:n(7854)})},1532:function(t,e,n){"use strict";n(7710)("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(5631))},9653:function(t,e,n){"use strict";var i=n(9781),r=n(7854),a=n(1702),o=n(4705),s=n(1320),c=n(2597),u=n(9587),l=n(7976),h=n(2190),f=n(7593),d=n(7293),v=n(8006).f,p=n(1236).f,m=n(3070).f,y=n(863),g=n(3111).trim,_="Number",x=r.Number,w=x.prototype,k=r.TypeError,b=a("".slice),S=a("".charCodeAt),I=function(t){var e=f(t,"number");return"bigint"==typeof e?e:C(e)},C=function(t){var e,n,i,r,a,o,s,c,u=f(t,"number");if(h(u))throw k("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=g(u),43===(e=S(u,0))||45===e){if(88===(n=S(u,2))||120===n)return NaN}else if(48===e){switch(S(u,1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+u}for(o=(a=b(u,2)).length,s=0;s<o;s++)if((c=S(a,s))<48||c>r)return NaN;return parseInt(a,i)}return+u};if(o(_,!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var E,D=function(t){var e=arguments.length<1?0:x(I(t)),n=this;return l(w,n)&&d((function(){y(n)}))?u(Object(e),n,D):e},T=i?v(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),A=0;T.length>A;A++)c(x,E=T[A])&&!c(D,E)&&m(D,E,p(x,E));D.prototype=w,w.constructor=D,s(r,_,D)}},6977:function(t,e,n){"use strict";var i=n(2109),r=n(7854),a=n(1702),o=n(9303),s=n(863),c=n(8415),u=n(7293),l=r.RangeError,h=r.String,f=Math.floor,d=a(c),v=a("".slice),p=a(1..toFixed),m=function(t,e,n){return 0===e?n:e%2==1?m(t,e-1,n*t):m(t*t,e/2,n)},y=function(t,e,n){for(var i=-1,r=n;++i<6;)r+=e*t[i],t[i]=r%1e7,r=f(r/1e7)},g=function(t,e){for(var n=6,i=0;--n>=0;)i+=t[n],t[n]=f(i/e),i=i%e*1e7},_=function(t){for(var e=6,n="";--e>=0;)if(""!==n||0===e||0!==t[e]){var i=h(t[e]);n=""===n?i:n+d("0",7-i.length)+i}return n};i({target:"Number",proto:!0,forced:u((function(){return"0.000"!==p(8e-5,3)||"1"!==p(.9,0)||"1.25"!==p(1.255,2)||"1000000000000000128"!==p(0xde0b6b3a7640080,0)}))||!u((function(){p({})}))},{toFixed:function(t){var e,n,i,r,a=s(this),c=o(t),u=[0,0,0,0,0,0],f="",p="0";if(c<0||c>20)throw l("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return h(a);if(a<0&&(f="-",a=-a),a>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(a*m(2,69,1))-69)<0?a*m(2,-e,1):a/m(2,e,1),n*=4503599627370496,(e=52-e)>0){for(y(u,0,n),i=c;i>=7;)y(u,1e7,0),i-=7;for(y(u,m(10,i,1),0),i=e-1;i>=23;)g(u,1<<23),i-=23;g(u,1<<i),y(u,1,1),g(u,2),p=_(u)}else y(u,0,n),y(u,1<<-e,0),p=_(u)+d("0",c);return c>0?f+((r=p.length)<=c?"0."+d("0",c-r)+p:v(p,0,r-c)+"."+v(p,r-c)):f+p}})},9601:function(t,e,n){var i=n(2109),r=n(1574);i({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},5003:function(t,e,n){var i=n(2109),r=n(7293),a=n(5656),o=n(1236).f,s=n(9781),c=r((function(){o(1)}));i({target:"Object",stat:!0,forced:!s||c,sham:!s},{getOwnPropertyDescriptor:function(t,e){return o(a(t),e)}})},9337:function(t,e,n){var i=n(2109),r=n(9781),a=n(3887),o=n(5656),s=n(1236),c=n(6135);i({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){for(var e,n,i=o(t),r=s.f,u=a(i),l={},h=0;u.length>h;)void 0!==(n=r(i,e=u[h++]))&&c(l,e,n);return l}})},7941:function(t,e,n){var i=n(2109),r=n(7908),a=n(1956);i({target:"Object",stat:!0,forced:n(7293)((function(){a(1)}))},{keys:function(t){return a(r(t))}})},1539:function(t,e,n){var i=n(1694),r=n(1320),a=n(288);i||r(Object.prototype,"toString",a,{unsafe:!0})},2479:function(t,e,n){var i=n(2109),r=n(4699).values;i({target:"Object",stat:!0},{values:function(t){return r(t)}})},8674:function(t,e,n){"use strict";var i,r,a,o,s=n(2109),c=n(1913),u=n(7854),l=n(5005),h=n(6916),f=n(3366),d=n(1320),v=n(2248),p=n(7674),m=n(8003),y=n(6340),g=n(9662),_=n(614),x=n(111),w=n(5787),k=n(2788),b=n(408),S=n(7072),I=n(6707),C=n(261).set,E=n(5948),D=n(9478),T=n(842),A=n(8523),P=n(2534),L=n(8572),O=n(9909),M=n(4705),R=n(5112),$=n(7871),B=n(5268),j=n(7392),F=R("species"),N="Promise",V=O.getterFor(N),z=O.set,H=O.getterFor(N),U=f&&f.prototype,W=f,Y=U,K=u.TypeError,q=u.document,Z=u.process,X=A.f,G=X,J=!!(q&&q.createEvent&&u.dispatchEvent),Q=_(u.PromiseRejectionEvent),tt="unhandledrejection",et=!1,nt=M(N,(function(){var t=k(W),e=t!==String(W);if(!e&&66===j)return!0;if(c&&!Y.finally)return!0;if(j>=51&&/native code/.test(t))return!1;var n=new W((function(t){t(1)})),i=function(t){t((function(){}),(function(){}))};return(n.constructor={})[F]=i,!(et=n.then((function(){}))instanceof i)||!e&&$&&!Q})),it=nt||!S((function(t){W.all(t).catch((function(){}))})),rt=function(t){var e;return!(!x(t)||!_(e=t.then))&&e},at=function(t,e){var n,i,r,a=e.value,o=1==e.state,s=o?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{s?(o||(2===e.rejection&&lt(e),e.rejection=1),!0===s?n=a:(l&&l.enter(),n=s(a),l&&(l.exit(),r=!0)),n===t.promise?u(K("Promise-chain cycle")):(i=rt(n))?h(i,n,c,u):c(n)):u(a)}catch(t){l&&!r&&l.exit(),u(t)}},ot=function(t,e){t.notified||(t.notified=!0,E((function(){for(var n,i=t.reactions;n=i.get();)at(n,t);t.notified=!1,e&&!t.rejection&&ct(t)})))},st=function(t,e,n){var i,r;J?((i=q.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),u.dispatchEvent(i)):i={promise:e,reason:n},!Q&&(r=u["on"+t])?r(i):t===tt&&T("Unhandled promise rejection",n)},ct=function(t){h(C,u,(function(){var e,n=t.facade,i=t.value;if(ut(t)&&(e=P((function(){B?Z.emit("unhandledRejection",i,n):st(tt,n,i)})),t.rejection=B||ut(t)?2:1,e.error))throw e.value}))},ut=function(t){return 1!==t.rejection&&!t.parent},lt=function(t){h(C,u,(function(){var e=t.facade;B?Z.emit("rejectionHandled",e):st("rejectionhandled",e,t.value)}))},ht=function(t,e,n){return function(i){t(e,i,n)}},ft=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,ot(t,!0))},dt=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw K("Promise can't be resolved itself");var i=rt(e);i?E((function(){var n={done:!1};try{h(i,e,ht(dt,n,t),ht(ft,n,t))}catch(e){ft(n,e,t)}})):(t.value=e,t.state=1,ot(t,!1))}catch(e){ft({done:!1},e,t)}}};if(nt&&(Y=(W=function(t){w(this,Y),g(t),h(i,this);var e=V(this);try{t(ht(dt,e),ht(ft,e))}catch(t){ft(e,t)}}).prototype,(i=function(t){z(this,{type:N,done:!1,notified:!1,parent:!1,reactions:new L,rejection:!1,state:0,value:void 0})}).prototype=v(Y,{then:function(t,e){var n=H(this),i=X(I(this,W));return n.parent=!0,i.ok=!_(t)||t,i.fail=_(e)&&e,i.domain=B?Z.domain:void 0,0==n.state?n.reactions.add(i):E((function(){at(i,n)})),i.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new i,e=V(t);this.promise=t,this.resolve=ht(dt,e),this.reject=ht(ft,e)},A.f=X=function(t){return t===W||t===a?new r(t):G(t)},!c&&_(f)&&U!==Object.prototype)){o=U.then,et||(d(U,"then",(function(t,e){var n=this;return new W((function(t,e){h(o,n,t,e)})).then(t,e)}),{unsafe:!0}),d(U,"catch",Y.catch,{unsafe:!0}));try{delete U.constructor}catch(t){}p&&p(U,Y)}s({global:!0,wrap:!0,forced:nt},{Promise:W}),m(W,N,!1,!0),y(N),a=l(N),s({target:N,stat:!0,forced:nt},{reject:function(t){var e=X(this);return h(e.reject,void 0,t),e.promise}}),s({target:N,stat:!0,forced:c||nt},{resolve:function(t){return D(c&&this===a?W:this,t)}}),s({target:N,stat:!0,forced:it},{all:function(t){var e=this,n=X(e),i=n.resolve,r=n.reject,a=P((function(){var n=g(e.resolve),a=[],o=0,s=1;b(t,(function(t){var c=o++,u=!1;s++,h(n,e,t).then((function(t){u||(u=!0,a[c]=t,--s||i(a))}),r)})),--s||i(a)}));return a.error&&r(a.value),n.promise},race:function(t){var e=this,n=X(e),i=n.reject,r=P((function(){var r=g(e.resolve);b(t,(function(t){h(r,e,t).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},2419:function(t,e,n){var i=n(2109),r=n(5005),a=n(2104),o=n(7065),s=n(9483),c=n(9670),u=n(111),l=n(30),h=n(7293),f=r("Reflect","construct"),d=Object.prototype,v=[].push,p=h((function(){function t(){}return!(f((function(){}),[],t)instanceof t)})),m=!h((function(){f((function(){}))})),y=p||m;i({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(t,e){s(t),c(e);var n=arguments.length<3?t:s(arguments[2]);if(m&&!p)return f(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return a(v,i,e),new(a(o,t,i))}var r=n.prototype,h=l(u(r)?r:d),y=a(t,h,e);return u(y)?y:h}})},4916:function(t,e,n){"use strict";var i=n(2109),r=n(2261);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},9714:function(t,e,n){"use strict";var i=n(1702),r=n(6530).PROPER,a=n(1320),o=n(9670),s=n(7976),c=n(1340),u=n(7293),l=n(7066),h="toString",f=RegExp.prototype,d=f.toString,v=i(l),p=u((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),m=r&&d.name!=h;(p||m)&&a(RegExp.prototype,h,(function(){var t=o(this),e=c(t.source),n=t.flags;return"/"+e+"/"+c(void 0===n&&s(f,t)&&!("flags"in f)?v(t):n)}),{unsafe:!0})},189:function(t,e,n){"use strict";n(7710)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(5631))},5218:function(t,e,n){"use strict";var i=n(2109),r=n(4230);i({target:"String",proto:!0,forced:n(3429)("anchor")},{anchor:function(t){return r(this,"a","name",t)}})},2023:function(t,e,n){"use strict";var i=n(2109),r=n(1702),a=n(3929),o=n(4488),s=n(1340),c=n(4964),u=r("".indexOf);i({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~u(s(o(this)),s(a(t)),arguments.length>1?arguments[1]:void 0)}})},8783:function(t,e,n){"use strict";var i=n(8710).charAt,r=n(1340),a=n(9909),o=n(654),s="String Iterator",c=a.set,u=a.getterFor(s);o(String,"String",(function(t){c(this,{type:s,string:r(t),index:0})}),(function(){var t,e=u(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=i(n,r),e.index+=t.length,{value:t,done:!1})}))},4723:function(t,e,n){"use strict";var i=n(6916),r=n(7007),a=n(9670),o=n(7466),s=n(1340),c=n(4488),u=n(8173),l=n(1530),h=n(7651);r("match",(function(t,e,n){return[function(e){var n=c(this),r=null==e?void 0:u(e,t);return r?i(r,e,n):new RegExp(e)[t](s(n))},function(t){var i=a(this),r=s(t),c=n(e,i,r);if(c.done)return c.value;if(!i.global)return h(i,r);var u=i.unicode;i.lastIndex=0;for(var f,d=[],v=0;null!==(f=h(i,r));){var p=s(f[0]);d[v]=p,""===p&&(i.lastIndex=l(r,o(i.lastIndex),u)),v++}return 0===v?null:d}]}))},5306:function(t,e,n){"use strict";var i=n(2104),r=n(6916),a=n(1702),o=n(7007),s=n(7293),c=n(9670),u=n(614),l=n(9303),h=n(7466),f=n(1340),d=n(4488),v=n(1530),p=n(8173),m=n(647),y=n(7651),g=n(5112)("replace"),_=Math.max,x=Math.min,w=a([].concat),k=a([].push),b=a("".indexOf),S=a("".slice),I="$0"==="a".replace(/./,"$0"),C=!!/./[g]&&""===/./[g]("a","$0");o("replace",(function(t,e,n){var a=C?"$":"$0";return[function(t,n){var i=d(this),a=null==t?void 0:p(t,g);return a?r(a,t,i,n):r(e,f(i),t,n)},function(t,r){var o=c(this),s=f(t);if("string"==typeof r&&-1===b(r,a)&&-1===b(r,"$<")){var d=n(e,o,s,r);if(d.done)return d.value}var p=u(r);p||(r=f(r));var g=o.global;if(g){var I=o.unicode;o.lastIndex=0}for(var C=[];;){var E=y(o,s);if(null===E)break;if(k(C,E),!g)break;""===f(E[0])&&(o.lastIndex=v(s,h(o.lastIndex),I))}for(var D,T="",A=0,P=0;P<C.length;P++){for(var L=f((E=C[P])[0]),O=_(x(l(E.index),s.length),0),M=[],R=1;R<E.length;R++)k(M,void 0===(D=E[R])?D:String(D));var $=E.groups;if(p){var B=w([L],M,O,s);void 0!==$&&k(B,$);var j=f(i(r,void 0,B))}else j=m(L,s,O,M,$,r);O>=A&&(T+=S(s,A,O)+j,A=O+L.length)}return T+S(s,A)}]}),!!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!I||C)},3123:function(t,e,n){"use strict";var i=n(2104),r=n(6916),a=n(1702),o=n(7007),s=n(7850),c=n(9670),u=n(4488),l=n(6707),h=n(1530),f=n(7466),d=n(1340),v=n(8173),p=n(1589),m=n(7651),y=n(2261),g=n(2999),_=n(7293),x=g.UNSUPPORTED_Y,w=4294967295,k=Math.min,b=[].push,S=a(/./.exec),I=a(b),C=a("".slice),E=!_((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));o("split",(function(t,e,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var a=d(u(this)),o=void 0===n?w:n>>>0;if(0===o)return[];if(void 0===t)return[a];if(!s(t))return r(e,a,t,o);for(var c,l,h,f=[],v=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,g=new RegExp(t.source,v+"g");(c=r(y,g,a))&&!((l=g.lastIndex)>m&&(I(f,C(a,m,c.index)),c.length>1&&c.index<a.length&&i(b,f,p(c,1)),h=c[0].length,m=l,f.length>=o));)g.lastIndex===c.index&&g.lastIndex++;return m===a.length?!h&&S(g,"")||I(f,""):I(f,C(a,m)),f.length>o?p(f,0,o):f}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:r(e,this,t,n)}:e,[function(e,n){var i=u(this),o=null==e?void 0:v(e,t);return o?r(o,e,i,n):r(a,d(i),e,n)},function(t,i){var r=c(this),o=d(t),s=n(a,r,o,i,a!==e);if(s.done)return s.value;var u=l(r,RegExp),v=r.unicode,p=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(x?"g":"y"),y=new u(x?"^(?:"+r.source+")":r,p),g=void 0===i?w:i>>>0;if(0===g)return[];if(0===o.length)return null===m(y,o)?[o]:[];for(var _=0,b=0,S=[];b<o.length;){y.lastIndex=x?0:b;var E,D=m(y,x?C(o,b):o);if(null===D||(E=k(f(y.lastIndex+(x?b:0)),o.length))===_)b=h(o,b,v);else{if(I(S,C(o,_,b)),S.length===g)return S;for(var T=1;T<=D.length-1;T++)if(I(S,D[T]),S.length===g)return S;b=_=E}}return I(S,C(o,_)),S}]}),!E,x)},6755:function(t,e,n){"use strict";var i,r=n(2109),a=n(1702),o=n(1236).f,s=n(7466),c=n(1340),u=n(3929),l=n(4488),h=n(4964),f=n(1913),d=a("".startsWith),v=a("".slice),p=Math.min,m=h("startsWith");r({target:"String",proto:!0,forced:!(!f&&!m&&(i=o(String.prototype,"startsWith"),i&&!i.writable)||m)},{startsWith:function(t){var e=c(l(this));u(t);var n=s(p(arguments.length>1?arguments[1]:void 0,e.length)),i=c(t);return d?d(e,i,n):v(e,n,n+i.length)===i}})},3210:function(t,e,n){"use strict";var i=n(2109),r=n(3111).trim;i({target:"String",proto:!0,forced:n(6091)("trim")},{trim:function(){return r(this)}})},1817:function(t,e,n){"use strict";var i=n(2109),r=n(9781),a=n(7854),o=n(1702),s=n(2597),c=n(614),u=n(7976),l=n(1340),h=n(3070).f,f=n(9920),d=a.Symbol,v=d&&d.prototype;if(r&&c(d)&&(!("description"in v)||void 0!==d().description)){var p={},m=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=u(v,this)?new d(t):void 0===t?d():d(t);return""===t&&(p[e]=!0),e};f(m,d),m.prototype=v,v.constructor=m;var y="Symbol(test)"==String(d("test")),g=o(v.toString),_=o(v.valueOf),x=/^Symbol\((.*)\)[^)]+$/,w=o("".replace),k=o("".slice);h(v,"description",{configurable:!0,get:function(){var t=_(this),e=g(t);if(s(p,t))return"";var n=y?k(e,7,-1):w(e,x,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:m})}},2165:function(t,e,n){n(7235)("iterator")},2526:function(t,e,n){"use strict";var i=n(2109),r=n(7854),a=n(5005),o=n(2104),s=n(6916),c=n(1702),u=n(1913),l=n(9781),h=n(133),f=n(7293),d=n(2597),v=n(3157),p=n(614),m=n(111),y=n(7976),g=n(2190),_=n(9670),x=n(7908),w=n(5656),k=n(4948),b=n(1340),S=n(9114),I=n(30),C=n(1956),E=n(8006),D=n(1156),T=n(5181),A=n(1236),P=n(3070),L=n(6048),O=n(5296),M=n(206),R=n(1320),$=n(2309),B=n(6200),j=n(3501),F=n(9711),N=n(5112),V=n(6061),z=n(7235),H=n(8003),U=n(9909),W=n(2092).forEach,Y=B("hidden"),K="Symbol",q=N("toPrimitive"),Z=U.set,X=U.getterFor(K),G=Object.prototype,J=r.Symbol,Q=J&&J.prototype,tt=r.TypeError,et=r.QObject,nt=a("JSON","stringify"),it=A.f,rt=P.f,at=D.f,ot=O.f,st=c([].push),ct=$("symbols"),ut=$("op-symbols"),lt=$("string-to-symbol-registry"),ht=$("symbol-to-string-registry"),ft=$("wks"),dt=!et||!et.prototype||!et.prototype.findChild,vt=l&&f((function(){return 7!=I(rt({},"a",{get:function(){return rt(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=it(G,e);i&&delete G[e],rt(t,e,n),i&&t!==G&&rt(G,e,i)}:rt,pt=function(t,e){var n=ct[t]=I(Q);return Z(n,{type:K,tag:t,description:e}),l||(n.description=e),n},mt=function(t,e,n){t===G&&mt(ut,e,n),_(t);var i=k(e);return _(n),d(ct,i)?(n.enumerable?(d(t,Y)&&t[Y][i]&&(t[Y][i]=!1),n=I(n,{enumerable:S(0,!1)})):(d(t,Y)||rt(t,Y,S(1,{})),t[Y][i]=!0),vt(t,i,n)):rt(t,i,n)},yt=function(t,e){_(t);var n=w(e),i=C(n).concat(wt(n));return W(i,(function(e){l&&!s(gt,n,e)||mt(t,e,n[e])})),t},gt=function(t){var e=k(t),n=s(ot,this,e);return!(this===G&&d(ct,e)&&!d(ut,e))&&(!(n||!d(this,e)||!d(ct,e)||d(this,Y)&&this[Y][e])||n)},_t=function(t,e){var n=w(t),i=k(e);if(n!==G||!d(ct,i)||d(ut,i)){var r=it(n,i);return!r||!d(ct,i)||d(n,Y)&&n[Y][i]||(r.enumerable=!0),r}},xt=function(t){var e=at(w(t)),n=[];return W(e,(function(t){d(ct,t)||d(j,t)||st(n,t)})),n},wt=function(t){var e=t===G,n=at(e?ut:w(t)),i=[];return W(n,(function(t){!d(ct,t)||e&&!d(G,t)||st(i,ct[t])})),i};if(h||(J=function(){if(y(Q,this))throw tt("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?b(arguments[0]):void 0,e=F(t),n=function(t){this===G&&s(n,ut,t),d(this,Y)&&d(this[Y],e)&&(this[Y][e]=!1),vt(this,e,S(1,t))};return l&&dt&&vt(G,e,{configurable:!0,set:n}),pt(e,t)},R(Q=J.prototype,"toString",(function(){return X(this).tag})),R(J,"withoutSetter",(function(t){return pt(F(t),t)})),O.f=gt,P.f=mt,L.f=yt,A.f=_t,E.f=D.f=xt,T.f=wt,V.f=function(t){return pt(N(t),t)},l&&(rt(Q,"description",{configurable:!0,get:function(){return X(this).description}}),u||R(G,"propertyIsEnumerable",gt,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:J}),W(C(ft),(function(t){z(t)})),i({target:K,stat:!0,forced:!h},{for:function(t){var e=b(t);if(d(lt,e))return lt[e];var n=J(e);return lt[e]=n,ht[n]=e,n},keyFor:function(t){if(!g(t))throw tt(t+" is not a symbol");if(d(ht,t))return ht[t]},useSetter:function(){dt=!0},useSimple:function(){dt=!1}}),i({target:"Object",stat:!0,forced:!h,sham:!l},{create:function(t,e){return void 0===e?I(t):yt(I(t),e)},defineProperty:mt,defineProperties:yt,getOwnPropertyDescriptor:_t}),i({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:xt,getOwnPropertySymbols:wt}),i({target:"Object",stat:!0,forced:f((function(){T.f(1)}))},{getOwnPropertySymbols:function(t){return T.f(x(t))}}),nt&&i({target:"JSON",stat:!0,forced:!h||f((function(){var t=J();return"[null]"!=nt([t])||"{}"!=nt({a:t})||"{}"!=nt(Object(t))}))},{stringify:function(t,e,n){var i=M(arguments),r=e;if((m(e)||void 0!==t)&&!g(t))return v(e)||(e=function(t,e){if(p(r)&&(e=s(r,this,t,e)),!g(e))return e}),i[1]=e,o(nt,null,i)}}),!Q[q]){var kt=Q.valueOf;R(Q,q,(function(t){return s(kt,this)}))}H(J,K),j[Y]=!0},2990:function(t,e,n){"use strict";var i=n(1702),r=n(260),a=i(n(1048)),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("copyWithin",(function(t,e){return a(o(this),t,e,arguments.length>2?arguments[2]:void 0)}))},8927:function(t,e,n){"use strict";var i=n(260),r=n(2092).every,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("every",(function(t){return r(a(this),t,arguments.length>1?arguments[1]:void 0)}))},3105:function(t,e,n){"use strict";var i=n(260),r=n(6916),a=n(1285),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("fill",(function(t){var e=arguments.length;return r(a,o(this),t,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)}))},5035:function(t,e,n){"use strict";var i=n(260),r=n(2092).filter,a=n(3074),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("filter",(function(t){var e=r(o(this),t,arguments.length>1?arguments[1]:void 0);return a(this,e)}))},7174:function(t,e,n){"use strict";var i=n(260),r=n(2092).findIndex,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("findIndex",(function(t){return r(a(this),t,arguments.length>1?arguments[1]:void 0)}))},4345:function(t,e,n){"use strict";var i=n(260),r=n(2092).find,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("find",(function(t){return r(a(this),t,arguments.length>1?arguments[1]:void 0)}))},2846:function(t,e,n){"use strict";var i=n(260),r=n(2092).forEach,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("forEach",(function(t){r(a(this),t,arguments.length>1?arguments[1]:void 0)}))},4731:function(t,e,n){"use strict";var i=n(260),r=n(1318).includes,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("includes",(function(t){return r(a(this),t,arguments.length>1?arguments[1]:void 0)}))},7209:function(t,e,n){"use strict";var i=n(260),r=n(1318).indexOf,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("indexOf",(function(t){return r(a(this),t,arguments.length>1?arguments[1]:void 0)}))},5125:function(t,e,n){n(9843)("Int32",(function(t){return function(e,n,i){return t(this,e,n,i)}}))},6319:function(t,e,n){"use strict";var i=n(7854),r=n(7293),a=n(1702),o=n(260),s=n(6992),c=n(5112)("iterator"),u=i.Uint8Array,l=a(s.values),h=a(s.keys),f=a(s.entries),d=o.aTypedArray,v=o.exportTypedArrayMethod,p=u&&u.prototype,m=!r((function(){p[c].call([1])})),y=!!p&&p.values&&p[c]===p.values&&"values"===p.values.name,g=function(){return l(d(this))};v("entries",(function(){return f(d(this))}),m),v("keys",(function(){return h(d(this))}),m),v("values",g,m||!y,{name:"values"}),v(c,g,m||!y,{name:"values"})},8867:function(t,e,n){"use strict";var i=n(260),r=n(1702),a=i.aTypedArray,o=i.exportTypedArrayMethod,s=r([].join);o("join",(function(t){return s(a(this),t)}))},7789:function(t,e,n){"use strict";var i=n(260),r=n(2104),a=n(6583),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("lastIndexOf",(function(t){var e=arguments.length;return r(a,o(this),e>1?[t,arguments[1]]:[t])}))},3739:function(t,e,n){"use strict";var i=n(260),r=n(2092).map,a=n(6304),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("map",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(a(t))(e)}))}))},4483:function(t,e,n){"use strict";var i=n(260),r=n(3671).right,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduceRight",(function(t){var e=arguments.length;return r(a(this),t,e,e>1?arguments[1]:void 0)}))},9368:function(t,e,n){"use strict";var i=n(260),r=n(3671).left,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduce",(function(t){var e=arguments.length;return r(a(this),t,e,e>1?arguments[1]:void 0)}))},2056:function(t,e,n){"use strict";var i=n(260),r=i.aTypedArray,a=i.exportTypedArrayMethod,o=Math.floor;a("reverse",(function(){for(var t,e=this,n=r(e).length,i=o(n/2),a=0;a<i;)t=e[a],e[a++]=e[--n],e[n]=t;return e}))},3462:function(t,e,n){"use strict";var i=n(7854),r=n(6916),a=n(260),o=n(6244),s=n(4590),c=n(7908),u=n(7293),l=i.RangeError,h=i.Int8Array,f=h&&h.prototype,d=f&&f.set,v=a.aTypedArray,p=a.exportTypedArrayMethod,m=!u((function(){var t=new Uint8ClampedArray(2);return r(d,t,{length:1,0:3},1),3!==t[1]})),y=m&&a.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var t=new h(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));p("set",(function(t){v(this);var e=s(arguments.length>1?arguments[1]:void 0,1),n=c(t);if(m)return r(d,this,n,e);var i=this.length,a=o(n),u=0;if(a+e>i)throw l("Wrong length");for(;u<a;)this[e+u]=n[u++]}),!m||y)},678:function(t,e,n){"use strict";var i=n(260),r=n(6304),a=n(7293),o=n(206),s=i.aTypedArray;(0,i.exportTypedArrayMethod)("slice",(function(t,e){for(var n=o(s(this),t,e),i=r(this),a=0,c=n.length,u=new i(c);c>a;)u[a]=n[a++];return u}),a((function(){new Int8Array(1).slice()})))},7462:function(t,e,n){"use strict";var i=n(260),r=n(2092).some,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("some",(function(t){return r(a(this),t,arguments.length>1?arguments[1]:void 0)}))},3824:function(t,e,n){"use strict";var i=n(7854),r=n(1702),a=n(7293),o=n(9662),s=n(4362),c=n(260),u=n(8886),l=n(256),h=n(7392),f=n(8008),d=i.Array,v=c.aTypedArray,p=c.exportTypedArrayMethod,m=i.Uint16Array,y=m&&r(m.prototype.sort),g=!(!y||a((function(){y(new m(2),null)}))&&a((function(){y(new m(2),{})}))),_=!!y&&!a((function(){if(h)return h<74;if(u)return u<67;if(l)return!0;if(f)return f<602;var t,e,n=new m(516),i=d(516);for(t=0;t<516;t++)e=t%4,n[t]=515-t,i[t]=t-2*e+3;for(y(n,(function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(n[t]!==i[t])return!0}));p("sort",(function(t){return void 0!==t&&o(t),_?y(this,t):s(v(this),function(t){return function(e,n){return void 0!==t?+t(e,n)||0:n!=n?-1:e!=e?1:0===e&&0===n?1/e>0&&1/n<0?1:-1:e>n}}(t))}),!_||g)},5021:function(t,e,n){"use strict";var i=n(260),r=n(7466),a=n(1400),o=n(6304),s=i.aTypedArray;(0,i.exportTypedArrayMethod)("subarray",(function(t,e){var n=s(this),i=n.length,c=a(t,i);return new(o(n))(n.buffer,n.byteOffset+c*n.BYTES_PER_ELEMENT,r((void 0===e?i:a(e,i))-c))}))},2974:function(t,e,n){"use strict";var i=n(7854),r=n(2104),a=n(260),o=n(7293),s=n(206),c=i.Int8Array,u=a.aTypedArray,l=a.exportTypedArrayMethod,h=[].toLocaleString,f=!!c&&o((function(){h.call(new c(1))}));l("toLocaleString",(function(){return r(h,f?s(u(this)):u(this),s(arguments))}),o((function(){return[1,2].toLocaleString()!=new c([1,2]).toLocaleString()}))||!o((function(){c.prototype.toLocaleString.call([1,2])})))},5016:function(t,e,n){"use strict";var i=n(260).exportTypedArrayMethod,r=n(7293),a=n(7854),o=n(1702),s=a.Uint8Array,c=s&&s.prototype||{},u=[].toString,l=o([].join);r((function(){u.call({})}))&&(u=function(){return l(this)});var h=c.toString!=u;i("toString",u,h)},5743:function(t,e,n){n(5837)},4747:function(t,e,n){var i=n(7854),r=n(8324),a=n(8509),o=n(8533),s=n(8880),c=function(t){if(t&&t.forEach!==o)try{s(t,"forEach",o)}catch(e){t.forEach=o}};for(var u in r)r[u]&&c(i[u]&&i[u].prototype);c(a)},3948:function(t,e,n){var i=n(7854),r=n(8324),a=n(8509),o=n(6992),s=n(8880),c=n(5112),u=c("iterator"),l=c("toStringTag"),h=o.values,f=function(t,e){if(t){if(t[u]!==h)try{s(t,u,h)}catch(e){t[u]=h}if(t[l]||s(t,l,e),r[e])for(var n in o)if(t[n]!==o[n])try{s(t,n,o[n])}catch(e){t[n]=o[n]}}};for(var d in r)f(i[d]&&i[d].prototype,d);f(a,"DOMTokenList")},8676:function(t,e){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function i(t,e,i){var r,a=new Promise((function(a,o){n(r=t[e].apply(t,i)).then(a,o)}));return a.request=r,a}function r(t,e,n){var r=i(t,e,n);return r.then((function(t){if(t)return new l(t,r.request)}))}function a(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function o(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function s(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})}))}function c(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function u(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function d(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new f(n)}function v(t){this._db=t}a(u,"_index",["name","keyPath","multiEntry","unique"]),o(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),a(l,"_cursor",["direction","key","primaryKey","value"]),o(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,i=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,i),n(e._request).then((function(t){if(t)return new l(t,e._request)}))}))})})),h.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},a(h,"_store",["name","keyPath","indexNames","autoIncrement"]),o(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},a(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},a(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),v.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},a(v,"_db",["name","version","objectStoreNames"]),s(v,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[h,u].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),i=n[n.length-1],r=this._store||this._index,a=r[t].apply(r,n.slice(0,-1));a.onsuccess=function(){i(a.result)}})}))})),[u,h].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,i=[];return new Promise((function(r){n.iterateCursor(t,(function(t){t?(i.push(t.value),void 0===e||i.length!=e?t.continue():r(i)):r(i)}))}))})})),t.openDb=function(t,e,n){var r=i(indexedDB,"open",[t,e]),a=r.request;return a&&(a.onupgradeneeded=function(t){n&&n(new d(a.result,t.oldVersion,a.transaction))}),r.then((function(t){return new v(t)}))},t.deleteDb=function(t){return i(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},6270:function(t,e){!function(t){"use strict";var e={name:"BBI",series:"price",precision:2,calcParams:[3,6,12,24],shouldCheckParamCount:!0,shouldOhlc:!0,plots:[{key:"bbi",title:"BBI: ",type:"line"}],calcTechnicalIndicator:function(t,e){var n=e.params,i=Math.max.apply(null,n),r=[],a=[];return t.map((function(e,o){var s={},c=e.close;if(n.forEach((function(e,n){r[n]=(r[n]||0)+c,e-1>o||(a[n]=r[n]/e,r[n]-=t[o-(e-1)].close)})),o>=i-1){var u=0;a.forEach((function(t){u+=t})),s.bbi=u/4}return s}))}},n={name:"DMA",calcParams:[10,50,10],plots:[{key:"dma",title:"DMA: ",type:"line"},{key:"ama",title:"AMA: ",type:"line"}],calcTechnicalIndicator:function(t,e){var n=e.params,i=Math.max(n[0],n[1]),r=0,a=0,o=0,s=[];return t.forEach((function(e,c){var u,l,h={},f=e.close;if(r+=f,a+=f,n[0]-1>c||(u=r/n[0],r-=t[c-(n[0]-1)].close),n[1]-1>c||(l=a/n[1],a-=t[c-(n[1]-1)].close),c>=i-1){var d=u-l;h.dma=d,o+=d,i+n[2]-2>c||(h.ama=o/n[2],o-=s[c-(n[2]-1)].dma)}s.push(h)})),s}},i={name:"DMI",calcParams:[14,6],plots:[{key:"pdi",title:"PDI: ",type:"line"},{key:"mdi",title:"MDI: ",type:"line"},{key:"adx",title:"ADX: ",type:"line"},{key:"adxr",title:"ADXR: ",type:"line"}],calcTechnicalIndicator:function(t,e){var n=e.params,i=0,r=0,a=0,o=0,s=0,c=0,u=0,l=0,h=[];return t.forEach((function(e,f){var d={},v=t[f-1]||e,p=v.close,m=e.high,y=e.low,g=m-y,_=Math.abs(m-p),x=Math.abs(p-y),w=m-v.high,k=v.low-y,b=Math.max(Math.max(g,_),x),S=w>0&&w>k?w:0,I=k>0&&k>w?k:0;if(i+=b,r+=S,a+=I,f>=n[0]-1){f>n[0]-1?(o=o-o/n[0]+b,s=s-s/n[0]+S,c=c-c/n[0]+I):(o=i,s=r,c=a);var C=0,E=0;0!==o&&(C=100*s/o,E=100*c/o),d.pdi=C,d.mdi=E;var D=0;E+C!==0&&(D=Math.abs(E-C)/(E+C)*100),u+=D,2*n[0]-2>f||(d.adx=l=f>2*n[0]-2?(l*(n[0]-1)+D)/n[0]:u/n[0],2*n[0]+n[1]-3>f||(d.adxr=(h[f-(n[1]-1)].adx+l)/2))}h.push(d)})),h}},r={name:"MACD",calcParams:[12,26,9],plots:[{key:"dif",title:"DIF: ",type:"line"},{key:"dea",title:"DEA: ",type:"line"},{key:"macd",title:"MACD: ",type:"bar",baseValue:0,color:function(t,e){var n=(t.current.technicalIndicatorData||{}).macd;return n>0?e.bar.upColor:0>n?e.bar.downColor:e.bar.noChangeColor},isStroke:function(t){return(t.current.technicalIndicatorData||{}).macd>(t.prev.technicalIndicatorData||{}).macd}}],calcTechnicalIndicator:function(t,e){var n,i,r=e.params,a=0,o=0,s=0,c=0,u=Math.max(r[0],r[1]);return t.map((function(t,e){var l={},h=t.close;return a+=h,r[0]-1>e||(n=e>r[0]-1?(2*h+(r[0]-1)*n)/(r[0]+1):a/r[0]),r[1]-1>e||(i=e>r[1]-1?(2*h+(r[1]-1)*i)/(r[1]+1):a/r[1]),u-1>e||(l.dif=o=n-i,s+=o,u+r[2]-2>e||(l.macd=2*(o-(c=e>u+r[2]-2?(2*o+c*(r[2]-1))/(r[2]+1):s/r[2])),l.dea=c)),l}))}},a={name:"CR",calcParams:[26,10,20,40,60],plots:[{key:"cr",title:"CR: ",type:"line"},{key:"ma1",title:"MA1: ",type:"line"},{key:"ma2",title:"MA2: ",type:"line"},{key:"ma3",title:"MA3: ",type:"line"},{key:"ma4",title:"MA4: ",type:"line"}],calcTechnicalIndicator:function(t,e){var n=e.params,i=Math.ceil(n[1]/2.5+1),r=Math.ceil(n[2]/2.5+1),a=Math.ceil(n[3]/2.5+1),o=Math.ceil(n[4]/2.5+1),s=0,c=[],u=0,l=[],h=0,f=[],d=0,v=[],p=[];return t.forEach((function(e,m){var y={},g=t[m-1]||e,_=(g.high+g.close+g.low+g.open)/4,x=Math.max(0,e.high-_),w=Math.max(0,_-e.low);n[0]-1>m||(y.cr=0!==w?x/w*100:0,s+=y.cr,u+=y.cr,h+=y.cr,d+=y.cr,n[0]+n[1]-2>m||(c.push(s/n[1]),n[0]+n[1]+i-3>m||(y.ma1=c[c.length-1-i]),s-=p[m-(n[1]-1)].cr),n[0]+n[2]-2>m||(l.push(u/n[2]),n[0]+n[2]+r-3>m||(y.ma2=l[l.length-1-r]),u-=p[m-(n[2]-1)].cr),n[0]+n[3]-2>m||(f.push(h/n[3]),n[0]+n[3]+a-3>m||(y.ma3=f[f.length-1-a]),h-=p[m-(n[3]-1)].cr),n[0]+n[4]-2>m||(v.push(d/n[4]),n[0]+n[4]+o-3>m||(y.ma4=v[v.length-1-o]),d-=p[m-(n[4]-1)].cr)),p.push(y)})),p}},o={name:"AO",calcParams:[5,34],shouldCheckParamCount:!0,plots:[{key:"ao",title:"AO: ",type:"bar",baseValue:0,color:function(t,e){return(t.current.technicalIndicatorData||{}).ao>(t.prev.technicalIndicatorData||{}).ao?e.bar.upColor:e.bar.downColor},isStroke:function(t){return(t.current.technicalIndicatorData||{}).ao>(t.prev.technicalIndicatorData||{}).ao}}],calcTechnicalIndicator:function(t,e){var n=e.params,i=Math.max(n[0],n[1]),r=0,a=0,o=0,s=0;return t.map((function(e,c){var u={},l=(e.low+e.high)/2;if(r+=l,a+=l,c>=n[0]-1){o=r/n[0];var h=t[c-(n[0]-1)];r-=(h.low+h.high)/2}if(c>=n[1]-1){s=a/n[1];var f=t[c-(n[1]-1)];a-=(f.low+f.high)/2}return i-1>c||(u.ao=o-s),u}))}},s={name:"CCI",calcParams:[20],plots:[{key:"cci",title:"CCI: ",type:"line"}],calcTechnicalIndicator:function(t,e){var n=e.params,i=n[0]-1,r=0,a=[];return t.map((function(e,o){var s={},c=(e.high+e.low+e.close)/3;if(r+=c,a.push(c),o>=i){var u=r/n[0],l=a.slice(o-i,o+1),h=0;l.forEach((function(t){h+=Math.abs(t-u)}));var f=h/n[0];s.cci=0!==f?(c-u)/f/.015:0,r-=(t[o-i].high+t[o-i].low+t[o-i].close)/3}return s}))}},c={name:"RSI",calcParams:[6,12,24],shouldCheckParamCount:!1,plots:[{key:"rsi1",title:"RSI1: ",type:"line"},{key:"rsi2",title:"RSI2: ",type:"line"},{key:"rsi3",title:"RSI3: ",type:"line"}],regeneratePlots:function(t){return t.map((function(t,e){var n=e+1;return{key:"rsi".concat(n),title:"RSI".concat(n,": "),type:"line"}}))},calcTechnicalIndicator:function(t,e){var n=e.params,i=e.plots,r=[],a=[];return t.map((function(e,o){var s={},c=e.close-(t[o-1]||e).close;return n.forEach((function(e,n){if(c>0?r[n]=(r[n]||0)+c:a[n]=(a[n]||0)+Math.abs(c),o>=e-1){s[i[n].key]=0!==a[n]?100-100/(1+r[n]/a[n]):0;var u=t[o-(e-1)],l=u.close-(t[o-e]||u).close;l>0?r[n]-=l:a[n]-=Math.abs(l)}})),s}))}};function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER;return t.forEach((function(t){e=Math.max(t.high,e),n=Math.min(t.low,n)})),{hn:e,ln:n}}var l={name:"KDJ",calcParams:[9,3,3],plots:[{key:"k",title:"K: ",type:"line"},{key:"d",title:"D: ",type:"line"},{key:"j",title:"J: ",type:"line"}],calcTechnicalIndicator:function(t,e){var n=e.params,i=[];return t.forEach((function(e,r){var a={},o=e.close;if(r>=n[0]-1){var s=u(t.slice(r-(n[0]-1),r+1)),c=s.ln,l=s.hn-c;a.k=((n[1]-1)*(i[r-1].k||50)+(o-c)/(0===l?1:l)*100)/n[1],a.d=((n[2]-1)*(i[r-1].d||50)+a.k)/n[2],a.j=3*a.k-2*a.d}i.push(a)})),i}},h={name:"WR",calcParams:[6,10,14],shouldCheckParamCount:!1,plots:[{key:"wr1",title:"WR1: ",type:"line"},{key:"wr2",title:"WR2: ",type:"line"},{key:"wr3",title:"WR3: ",type:"line"}],regeneratePlots:function(t){return t.map((function(t,e){return{key:"wr".concat(e+1),title:"WR".concat(e+1,": "),type:"line"}}))},calcTechnicalIndicator:function(t,e){var n=e.params,i=e.plots;return t.map((function(e,r){var a={},o=e.close;return n.forEach((function(e,n){var s=e-1;if(r>=s){var c=u(t.slice(r-s,r+1)),l=c.hn,h=l-c.ln;a[i[n].key]=0===h?0:(o-l)/h*100}})),a}))}},f={name:"BOLL",calcParams:[20,{value:2,allowDecimal:!0}],precision:2,shouldOhlc:!0,plots:[{key:"up",title:"UP: ",type:"line"},{key:"mid",title:"MID: ",type:"line"},{key:"dn",title:"DN: ",type:"line"}],calcTechnicalIndicator:function(t,e){var n=e.params,i=n[0]-1,r=0;return t.map((function(e,a){var o={};if(r+=e.close,a>=i){o.mid=r/n[0];var s=function(t,e){var n=t.length,i=0;t.forEach((function(t){var n=t.close-e;i+=n*n}));var r=i>0,a=Math.sqrt((i=Math.abs(i))/n);return r?a:-1*a}(t.slice(a-i,a+1),o.mid);o.up=o.mid+n[1]*s,o.dn=o.mid-n[1]*s,r-=t[a-i].close}return o}))}},d={name:"SAR",series:"price",calcParams:[2,2,20],precision:2,shouldOhlc:!0,plots:[{key:"sar",title:"SAR: ",type:"circle",color:function(t,e){var n=t.current,i=n.kLineData||{};return(i.high+i.low)/2>(n.technicalIndicatorData||{}).sar?e.circle.upColor:e.circle.downColor}}],calcTechnicalIndicator:function(t,e){var n=e.params,i=n[0]/100,r=n[1]/100,a=n[2]/100,o=i,s=-100,c=!1,u=0;return t.map((function(e,n){var l=u,h=e.high,f=e.low;if(c){(-100===s||h>s)&&(s=h,o=Math.min(o+r,a)),u=l+o*(s-l);var d=Math.min(t[Math.max(1,n)-1].low,f);u>e.low?(u=s,o=i,s=-100,c=!c):u>d&&(u=d)}else{(-100===s||s>f)&&(s=f,o=Math.min(o+r,a)),u=l+o*(s-l);var v=Math.max(t[Math.max(1,n)-1].high,h);e.high>u?(u=s,o=0,s=-100,c=!c):v>u&&(u=v)}return{sar:u}}))}},v={technicalIndicatorExtensions:{},shapeExtensions:{},addTechnicalIndicatorTemplate:function(t){var e=this;t&&[].concat(t).forEach((function(t){t.name&&(e.technicalIndicatorExtensions[t.name]=t)}))},addShapeTemplate:function(t){var e=this;t&&[].concat(t).forEach((function(t){t.name&&(e.shapeExtensions[t.name]=t)}))}};function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function m(t){for(var e=1;arguments.length>e;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;e.length>n;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function x(t,e,n){return e&&_(t.prototype,e),n&&_(t,n),t}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function S(t,e){return S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},S(t,e)}function I(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=b(t);if(e){var r=b(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return I(this,n)}}function E(t,e,n){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}},E(t,e,n||t)}function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);e>n;n++)i[n]=t[n];return i}function T(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return D(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return t.length>i?{done:!1,value:t[i++]}:{done:!0}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function A(t,e){if(M(t)&&M(e))for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&n in t){var i=t[n],r=e[n];M(r)&&M(i)&&!L(r)&&!L(i)?A(i,r):$(e[n])&&(t[n]=e[n])}}function P(t){if(!M(t))return t;var e;for(var n in e=L(t)?[]:{},t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];e[n]=M(i)?P(i):i}return e}function L(t){return"[object Array]"===Object.prototype.toString.call(t)}function O(t){return t&&"function"==typeof t}function M(t){return!!t&&"object"===y(t)}function R(t){return"number"==typeof t&&!isNaN(t)}function $(t){return null!=t}function B(t){return"boolean"==typeof t}function j(t){return"string"==typeof t}var F="stroke",N="fill",V="dash",z="solid",H="left",U="right",W="normal",Y="percentage",K="log",q="candle_solid",Z="area",X="always",G="rect",J="standard",Q="circle",tt="rect",et="triangle",nt="diamond",it="custom",rt="point",at="top",ot="bottom",st={grid:{show:!0,horizontal:{show:!0,size:1,color:"#EDEDED",style:V,dashValue:[2,2]},vertical:{show:!0,size:1,color:"#EDEDED",style:V,dashValue:[2,2]}},candle:{margin:{top:.2,bottom:.1},type:q,bar:{upColor:"#26A69A",downColor:"#EF5350",noChangeColor:"#999999"},area:{lineSize:2,lineColor:"#2196F3",value:"close",backgroundColor:[{offset:0,color:"rgba(33, 150, 243, 0.01)"},{offset:1,color:"rgba(33, 150, 243, 0.2)"}]},priceMark:{show:!0,high:{show:!0,color:"#76808F",textMargin:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"},low:{show:!0,color:"#76808F",textMargin:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"},last:{show:!0,upColor:"#26A69A",downColor:"#EF5350",noChangeColor:"#888888",line:{show:!0,style:V,dashValue:[4,4],size:1},text:{show:!0,size:12,paddingLeft:2,paddingTop:2,paddingRight:2,paddingBottom:2,color:"#FFFFFF",family:"Helvetica Neue",weight:"normal",borderRadius:2}}},tooltip:{showRule:X,showType:J,labels:["时间: ","开: ","收: ","高: ","低: ","成交量: "],values:null,defaultValue:"n/a",rect:{paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:6,offsetLeft:8,offsetTop:8,offsetRight:8,borderRadius:4,borderSize:1,borderColor:"#F2F3F5",backgroundColor:"#FEFEFE"},text:{size:12,family:"Helvetica Neue",weight:"normal",color:"#76808F",marginLeft:8,marginTop:6,marginRight:8,marginBottom:0}}},technicalIndicator:{margin:{top:.2,bottom:.1},bar:{upColor:"rgba(38, 166, 154, .65)",downColor:"rgba(239, 83, 80, .65)",noChangeColor:"#888888"},line:{size:1,colors:["#FF9600","#9D65C9","#2196F3","#E11D74","#01C5C4"]},circle:{upColor:"rgba(38, 166, 154, .65)",downColor:"rgba(239, 83, 80, .65)",noChangeColor:"#888888"},lastValueMark:{show:!1,text:{show:!1,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",paddingLeft:3,paddingTop:2,paddingRight:3,paddingBottom:2,borderRadius:2}},tooltip:{showRule:X,showType:J,showName:!0,showParams:!0,defaultValue:"n/a",text:{size:12,family:"Helvetica Neue",weight:"normal",color:"#76808F",marginTop:6,marginRight:8,marginBottom:0,marginLeft:8}}},xAxis:{show:!0,height:null,axisLine:{show:!0,color:"#DDDDDD",size:1},tickText:{show:!0,color:"#76808F",size:12,family:"Helvetica Neue",weight:"normal",paddingTop:3,paddingBottom:6},tickLine:{show:!0,size:1,length:3,color:"#DDDDDD"}},yAxis:{show:!0,width:null,type:W,position:U,inside:!1,axisLine:{show:!0,color:"#DDDDDD",size:1},tickText:{show:!0,color:"#76808F",size:12,family:"Helvetica Neue",weight:"normal",paddingLeft:3,paddingRight:6},tickLine:{show:!0,size:1,length:3,color:"#DDDDDD"}},separator:{size:1,color:"#DDDDDD",fill:!0,activeBackgroundColor:"rgba(33, 150, 243, 0.08)"},crosshair:{show:!0,horizontal:{show:!0,line:{show:!0,style:V,dashValue:[4,2],size:1,color:"#76808F"},text:{show:!0,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",paddingLeft:2,paddingRight:2,paddingTop:2,paddingBottom:2,borderSize:1,borderColor:"#686D76",borderRadius:2,backgroundColor:"#686D76"}},vertical:{show:!0,line:{show:!0,style:V,dashValue:[4,2],size:1,color:"#76808F"},text:{show:!0,color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",paddingLeft:2,paddingRight:2,paddingTop:2,paddingBottom:2,borderSize:1,borderRadius:2,borderColor:"#686D76",backgroundColor:"#686D76"}}},shape:{point:{backgroundColor:"#2196F3",borderColor:"rgba(33, 150, 243, 0.35)",borderSize:1,radius:5,activeBackgroundColor:"#2196F3",activeBorderColor:"rgba(33, 150, 243, 0.35)",activeBorderSize:3,activeRadius:5},line:{style:z,color:"#2196F3",size:1,dashValue:[2,2]},polygon:{style:F,stroke:{style:z,size:1,color:"#2196F3",dashValue:[2,2]},fill:{color:"#2196F3"}},arc:{style:F,stroke:{style:z,size:1,color:"#2196F3",dashValue:[2,2]},fill:{color:"#2196F3"}},text:{style:N,color:"#2196F3",size:12,family:"Helvetica Neue",weight:"normal",offset:[0,0]}},annotation:{position:at,offset:[20,0],symbol:{type:nt,size:8,color:"#2196F3",activeSize:10,activeColor:"#FF9600"}},tag:{position:rt,offset:0,line:{show:!0,style:V,dashValue:[4,2],size:1,color:"#2196F3"},text:{color:"#FFFFFF",backgroundColor:"#2196F3",size:12,family:"Helvetica Neue",weight:"normal",paddingLeft:2,paddingRight:2,paddingTop:2,paddingBottom:2,borderRadius:2},mark:{color:"#FFFFFF",backgroundColor:"#2196F3",size:12,family:"Helvetica Neue",weight:"normal",paddingLeft:2,paddingRight:2,paddingTop:2,paddingBottom:2,borderRadius:2}}};function ct(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"--";if(M(t)){var i=t[e];if($(i))return i}return n}function ut(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"MM-DD hh:mm";if(R(e)){var i=t.format(new Date(e)).split(", "),r=i[0].split("/"),a={YYYY:r[2],MM:r[0],DD:r[1],"hh:mm":"24"===i[1].match(/^[\d]{2}/)[0]?i[1].replace(/^[\d]{2}/,"00"):i[1]};return n.replace(/YYYY|MM|DD|(hh:mm)/g,(function(t){return a[t]}))}return"--"}function lt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=+t;return(n||0===n)&&R(n)?n.toFixed(e):"".concat(n)}function ht(t){return R(+t)?t>1e9?"".concat(+(t/1e9).toFixed(3),"B"):t>1e6?"".concat(+(t/1e6).toFixed(3),"M"):t>1e3?"".concat(+(t/1e3).toFixed(3),"K"):t:"--"}function ft(t,e){return null==e&&(e=10),+(t=(+t).toFixed(e=Math.min(Math.max(0,e),20)))}function dt(t){return Math.log(t)/Math.log(10)}function vt(t){return Math.pow(10,t)}var pt="technical_indicator_pane_",mt="candle_pane",yt={ZOOM:"zoom",SCROLL:"scroll",CROSSHAIR:"crosshair",PANE_DRAG:"pane_drag"},gt=function(){function t(e){g(this,t),this._chartData=e,this._dateTimeFormat=new Intl.DateTimeFormat("en",{hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),this._zoomEnabled=!0,this._scrollEnabled=!0,this._loading=!0,this._loadMoreCallback=null,this._more=!0,this._totalDataSpace=0,this._dataSpace=6,this._barSpace=this._calcBarSpace(),this._offsetRightSpace=50,this._offsetRightBarCount=this._offsetRightSpace/this._dataSpace,this._leftMinVisibleBarCount=2,this._rightMinVisibleBarCount=2,this._from=0,this._to=0,this._preOffsetRightBarCount=0}return x(t,[{key:"_calcBarSpace",value:function(){return Math.max(1,Math.min(Math.floor(.82*this._dataSpace),Math.floor(this._dataSpace)-1))}},{key:"adjustFromTo",value:function(){var t=this._chartData.dataList().length,e=this._totalDataSpace/this._dataSpace,n=e-Math.min(this._leftMinVisibleBarCount,t);this._offsetRightBarCount>n&&(this._offsetRightBarCount=n);var i=-t+Math.min(this._rightMinVisibleBarCount,t);i>this._offsetRightBarCount&&(this._offsetRightBarCount=i),this._to=Math.round(this._offsetRightBarCount+t+.5),this._from=Math.round(this._to-e)-1,this._to>t&&(this._to=t),0>this._from&&(this._from=0),this._chartData.adjustVisibleDataList(),0===this._from&&this._more&&!this._loading&&O(this._loadMoreCallback)&&(this._loading=!0,this._loadMoreCallback(ct(this._chartData.dataList()[0],"timestamp")))}},{key:"setMore",value:function(t){this._more=t}},{key:"setLoading",value:function(t){this._loading=t}},{key:"dateTimeFormat",value:function(){return this._dateTimeFormat}},{key:"setTimezone",value:function(t){var e;try{e=new Intl.DateTimeFormat("en",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch(t){}e&&(this._dateTimeFormat=e)}},{key:"timezone",value:function(){return this._dateTimeFormat.resolvedOptions().timeZone}},{key:"dataSpace",value:function(){return this._dataSpace}},{key:"barSpace",value:function(){return this._barSpace}},{key:"halfBarSpace",value:function(){return this._barSpace/2}},{key:"setDataSpace",value:function(t,e){1>t||t>50||this._dataSpace===t||(this._dataSpace=t,this._barSpace=this._calcBarSpace(),e&&e(),this.adjustFromTo(),this._chartData.crosshairStore().recalculate(!0),this._chartData.invalidate())}},{key:"setTotalDataSpace",value:function(t){this._totalDataSpace!==t&&(this._totalDataSpace=t,this.adjustFromTo(),this._chartData.crosshairStore().recalculate(!0))}},{key:"setOffsetRightSpace",value:function(t,e){this._offsetRightSpace=t,this._offsetRightBarCount=t/this._dataSpace,e&&(this.adjustFromTo(),this._chartData.crosshairStore().recalculate(!0),this._chartData.invalidate())}},{key:"resetOffsetRightSpace",value:function(){this.setOffsetRightSpace(this._offsetRightSpace)}},{key:"offsetRightSpace",value:function(){return this._offsetRightSpace}},{key:"offsetRightBarCount",value:function(){return this._offsetRightBarCount}},{key:"setOffsetRightBarCount",value:function(t){this._offsetRightBarCount=t}},{key:"setLeftMinVisibleBarCount",value:function(t){this._leftMinVisibleBarCount=t}},{key:"setRightMinVisibleBarCount",value:function(t){this._rightMinVisibleBarCount=t}},{key:"from",value:function(){return this._from}},{key:"to",value:function(){return this._to}},{key:"startScroll",value:function(){this._preOffsetRightBarCount=this._offsetRightBarCount}},{key:"scroll",value:function(t,e){if(this._scrollEnabled){var n=t/this._dataSpace;this._chartData.actionStore().execute(yt.SCROLL,{barCount:n,distance:t}),this._offsetRightBarCount=this._preOffsetRightBarCount-n,this.adjustFromTo();var i=e||this._chartData.crosshairStore().get();this._chartData.crosshairStore().set(i,!0),this._chartData.invalidate()}}},{key:"getDataByDataIndex",value:function(t){return this._chartData.dataList()[t]}},{key:"coordinateToFloatIndex",value:function(t){var e=this._chartData.dataList().length;return Math.round(1e6*(e+this._offsetRightBarCount-(this._totalDataSpace-t)/this._dataSpace))/1e6}},{key:"dataIndexToTimestamp",value:function(t){var e=this.getDataByDataIndex(t);if(e)return e.timestamp}},{key:"timestampToDataIndex",value:function(t){return 0===this._chartData.dataList().length?0:function(t,e,n){var i=0,r=0;for(r=t.length-1;i!==r;){var a=Math.floor((r+i)/2),o=r-i,s=t[a][e];if(n===t[i][e])return i;if(n===t[r][e])return r;if(n===s)return a;if(n>s?i=a:r=a,2>=o)break}return i}(this._chartData.dataList(),"timestamp",t)}},{key:"dataIndexToCoordinate",value:function(t){var e=this._chartData.dataList().length;return this._totalDataSpace-(e+this._offsetRightBarCount-t-.5)*this._dataSpace}},{key:"coordinateToDataIndex",value:function(t){return Math.ceil(this.coordinateToFloatIndex(t))-1}},{key:"zoom",value:function(t,e){var n=this;if(this._zoomEnabled){if(!e||!$(e.x)){var i=this._chartData.crosshairStore().get();e={x:$(i.x)?i.x:this._totalDataSpace/2}}this._chartData.actionStore().execute(yt.ZOOM,{coordinate:e,scale:t});var r=this.coordinateToFloatIndex(e.x);this.setDataSpace(this._dataSpace+t*(this._dataSpace/10),(function(){n._offsetRightBarCount+=r-n.coordinateToFloatIndex(e.x)}))}}},{key:"setZoomEnabled",value:function(t){this._zoomEnabled=t}},{key:"zoomEnabled",value:function(){return this._zoomEnabled}},{key:"setScrollEnabled",value:function(t){this._scrollEnabled=t}},{key:"scrollEnabled",value:function(){return this._scrollEnabled}},{key:"setLoadMoreCallback",value:function(t){this._loadMoreCallback=t}},{key:"clear",value:function(){this._more=!0,this._loading=!0,this._from=0,this._to=0}}]),t}(),_t="line",xt="bar",wt="circle",kt={PRICE:"price",VOLUME:"volume",NORMAL:"normal"},bt=function(){function t(e){var n=e.name,i=e.series,r=e.calcParams,a=e.plots,o=e.precision,s=e.shouldCheckParamCount,c=e.shouldOhlc,u=e.shouldFormatBigNumber,l=e.minValue,h=e.maxValue,f=e.styles;g(this,t),this.name=n||"",this.series=-1!==Object.values(kt).indexOf(i)?i:kt.NORMAL,this.precision=R(o)&&o>=0?o:4,this._precisionFlag=!1,this.calcParams=L(r)?r:[],this.plots=L(a)?a:[],this.shouldCheckParamCount=!B(s)||s,this.shouldOhlc=!!B(c)&&c,this.shouldFormatBigNumber=!!B(u)&&u,this.minValue=l,this.maxValue=h,this.styles=f,this.result=[]}return x(t,[{key:"_createParams",value:function(t){return t.map((function(t){return M(t)?t.value:t}))}},{key:"setPrecision",value:function(t,e){return!(!R(t)||0>t||e&&(!e||this._precisionFlag)||(this.precision=parseInt(t,10),e||(this._precisionFlag=!0),0))}},{key:"setCalcParams",value:function(t){if(!L(t))return!1;if(this.shouldCheckParamCount&&t.length!==this.calcParams.length)return!1;for(var e=[],n=0;t.length>n;n++){var i=t[n],r=void 0,a=void 0;M(i)?(r=i.value,a=i.allowDecimal):(r=i,a=!1);var o=this.calcParams[n];if(M(o)&&B(o.allowDecimal)&&(a=o.allowDecimal),!R(r)||0>=r||!a&&parseInt(r,10)!==r)return!1;e.push({allowDecimal:a,value:r})}this.calcParams=e;var s=this.regeneratePlots(this._createParams(e));return s&&L(s)&&(this.plots=s),!0}},{key:"setShouldOhlc",value:function(t){return!(!B(t)||this.shouldOhlc===t||(this.shouldOhlc=t,0))}},{key:"setShouldFormatBigNumber",value:function(t){return!(!B(t)||this.shouldFormatBigNumber===t||(this.shouldFormatBigNumber=t,0))}},{key:"setStyles",value:function(t,e){return!!M(t)&&(this.styles||(this.styles={bar:P(e.bar),line:P(e.line),circle:P(e.circle)}),A(this.styles,t),!0)}},{key:"calc",value:function(t){this.result=this.calcTechnicalIndicator(t,{params:this._createParams(this.calcParams),plots:this.plots})||[]}},{key:"calcTechnicalIndicator",value:function(t,e){}},{key:"regeneratePlots",value:function(t){}}]),t}();function St(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.calcParams,i=e.plots,r=e.precision,a=e.shouldFormatBigNumber,o=[],s="",c="";if(i.length>0&&(s=e.name),n.length>0){var u=n.map((function(t){return M(t)?t.value:t}));c="(".concat(u.join(","),")")}return i.forEach((function(e){var n={};if($(e.title)){var i=t[e.key];$(i)&&(i=lt(i,r),a&&(i=ht(i))),n.title=e.title,n.value=i}o.push(n)})),{values:o,name:s,calcParamText:c}}var It=function(){function t(e){g(this,t),this._chartData=e,this._templates=this._createTemplates(),this._instances=new Map}return x(t,[{key:"_createTechInfo",value:function(t){return{name:t.name,series:t.series,calcParams:t.calcParams,shouldCheckParamCount:t.shouldCheckParamCount,shouldOhlc:t.shouldOhlc,shouldFormatBigNumber:t.shouldFormatBigNumber,precision:t.precision,styles:t.styles,result:t.result||[]}}},{key:"_createTemplates",value:function(){var t={},e=v.technicalIndicatorExtensions;for(var n in e){var i=this._createTemplateInstance(e[n]);i&&(t[n]=i)}return t}},{key:"_createTemplateInstance",value:function(t){var e=t.name,n=t.series,i=t.calcParams,r=t.plots,a=t.precision,o=t.shouldCheckParamCount,s=t.shouldOhlc,c=t.shouldFormatBigNumber,u=t.minValue,l=t.maxValue,h=t.styles,f=t.calcTechnicalIndicator,d=t.regeneratePlots,v=t.render;if(!e||!O(f))return null;var p=function(t){k(d,t);var f=C(d);function d(){return g(this,d),f.call(this,{name:e,series:n,calcParams:i,plots:r,precision:a,shouldCheckParamCount:o,shouldOhlc:s,shouldFormatBigNumber:c,minValue:u,maxValue:l,styles:h})}return d}(bt);return p.prototype.calcTechnicalIndicator=f,O(d)&&(p.prototype.regeneratePlots=d),O(v)&&(p.prototype.render=v),new p}},{key:"addTemplate",value:function(t){var e=this;t.forEach((function(t){var n=e._createTemplateInstance(t||{});n&&(e._templates[n.name]=n)}))}},{key:"hasTemplate",value:function(t){return!!this._templates[t]}},{key:"getTemplateInfo",value:function(t){if(!$(t)){var e={};for(var n in this._templates)e[n]=this._createTechInfo(this._templates[n]);return e}var i=this._templates[t];return i?this._createTechInfo(i):{}}},{key:"addInstance",value:function(t,e,n){if(e){var i=e.name,r=e.calcParams,a=e.precision,o=e.shouldOhlc,s=e.shouldFormatBigNumber,c=e.styles,u=this._instances.get(t);if(u&&u.has(i))return!1;u||(u=new Map,this._instances.set(t,u));var l,h=this._templates[i];if(h)for(var f in l=Object.create(Object.getPrototypeOf(h)),h)Object.prototype.hasOwnProperty.call(h,f)&&(l[f]=h[f]);if(l)return l.setCalcParams(r),l.setPrecision(a),l.setShouldOhlc(o),l.setShouldFormatBigNumber(s),l.setStyles(c,this._chartData.styleOptions().technicalIndicator),n||u.clear(),u.set(i,l),l.calc(this._chartData.dataList()),!0}return!1}},{key:"instances",value:function(t){return this._instances.get(t)||new Map}},{key:"removeInstance",value:function(t,e){var n=!1;if(this._instances.has(t)){var i=this._instances.get(t);$(e)?i.has(e)&&(i.delete(e),n=!0):(i.clear(),n=!0),0===i.size&&this._instances.delete(t)}return n}},{key:"hasInstance",value:function(t){return this._instances.has(t)}},{key:"calcInstance",value:function(t,e){var n=this,i=!1;if($(t))if($(e)){var r=this._instances.get(e);r&&r.has(t)&&(r.get(t).calc(this._chartData.dataList()),i=!0)}else this._instances.forEach((function(e){e.has(t)&&(e.get(t).calc(n._chartData.dataList()),i=!0)}));else this._instances.forEach((function(t){t.forEach((function(t){t.calc(n._chartData.dataList()),i=!0}))}));return i}},{key:"getInstanceInfo",value:function(t,e){var n=this,i=function(t){var i,r=[],a=T(t);try{for(a.s();!(i=a.n()).done;){var o=i.value[1];if(o){var s=n._createTechInfo(o);if(o.name===e)return s;r.push(s)}}}catch(t){a.e(t)}finally{a.f()}return r};if(!$(t)){var r={};return this._instances.forEach((function(t,e){r[e]=i(t)})),r}return this._instances.has(t)?i(this._instances.get(t)):{}}},{key:"setSeriesPrecision",value:function(t,e){var n=function(n){n.series===kt.PRICE&&n.setPrecision(t,!0),n.series===kt.VOLUME&&n.setPrecision(e,!0)};for(var i in this._templates)n(this._templates[i]);this._instances.forEach((function(t){t.forEach((function(t){n(t)}))}))}},{key:"override",value:function(t,e){var n=this,i=t.name,r=t.calcParams,a=t.precision,o=t.shouldOhlc,s=t.shouldFormatBigNumber,c=t.styles,u=this._chartData.styleOptions().technicalIndicator,l=new Map;if($(e))this._instances.has(e)&&l.set(e,this._instances.get(e));else{l=this._instances;var h=this._templates[i];h&&(h.setCalcParams(r),h.setPrecision(a),h.setShouldOhlc(o),h.setShouldFormatBigNumber(s),h.setStyles(c,u))}var f=!1,d=[];if(l.forEach((function(t){if(t.has(i)){var e=t.get(i),l=e.setCalcParams(r),h=e.setPrecision(a),v=e.setShouldOhlc(o),p=e.setShouldFormatBigNumber(s),m=e.setStyles(c,u);(l||h||v||p||m)&&(f=!0),l&&d.push(Promise.resolve(e.calc(n._chartData.dataList())))}})),f)return Promise.all(d)}}]),t}();function Ct(t,e){e.forEach((function(e){var n=e.key,i=e.fn;O(i)&&(t[n]=i)}))}var Et=function(){function t(e){var n=e.id,i=e.chartData,r=e.xAxis,a=e.yAxis;g(this,t),this._id=n,this._chartData=i,this._xAxis=r,this._yAxis=a,this._styles=null}return x(t,[{key:"draw",value:function(t){}},{key:"setStyles",value:function(t,e){return!!M(t)&&(this._styles||(this._styles=P(e)),A(this._styles,t),!0)}},{key:"id",value:function(){return this._id}},{key:"styles",value:function(){return this._styles}},{key:"setYAxis",value:function(t){t&&(this._yAxis=t)}},{key:"checkEventCoordinateOn",value:function(t){}},{key:"onClick",value:function(t){}},{key:"onRightClick",value:function(t){}},{key:"onMouseEnter",value:function(t){}},{key:"onMouseLeave",value:function(t){}}]),t}();function Dt(t,e,n,i){t.fillStyle=e,t.beginPath(),t.arc(n.x,n.y,i,0,2*Math.PI),t.closePath(),t.fill()}function Tt(t,e,n){var i=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y),a=Math.abs(n.x-t.x);return Math.abs(i*Math.abs(n.y-t.y)-a*r)/2}function At(t,e){var n=t.x-e.x;if(0!==n){var i=(t.y-e.y)/n;return{k:i,b:t.y-i*t.x}}}function Pt(t,e,n){return Lt(At(t,e),n)}function Lt(t,e){return t?e.x*t.k+t.b:e.y}function Ot(t,e,n){if(!n||!t||!e)return!1;if(t.x===e.x)return 2>Math.abs(n.x-t.x);var i=At(t,e),r=Lt(i,n),a=Math.abs(r-n.y);return 4>a*a/(i.k*i.k+1)}function Mt(t,e,n){return!!Ot(t,e,n)&&(t.x===e.x?e.y>t.y?2>t.y-n.y:2>n.y-t.y:e.x>t.x?2>t.x-n.x:2>n.x-t.x)}function Rt(t,e,n){return!!Ot(t,e,n)&&(t.x===e.x?4>Math.abs(t.y-n.y)+Math.abs(e.y-n.y)-Math.abs(t.y-e.y):4>Math.abs(t.x-n.x)+Math.abs(e.x-n.x)-Math.abs(t.x-e.x))}function $t(t,e,n){if(!n)return!1;var i=n.x-t.x,r=n.y-t.y;return!(i*i+r*r>e*e)}function Bt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=[];if(t.length>1)if(t[0].x===t[1].x){var r=0,a=e.y;if(i.push([{x:t[0].x,y:r},{x:t[0].x,y:a}]),t.length>2){i.push([{x:t[2].x,y:r},{x:t[2].x,y:a}]);for(var o=t[0].x-t[2].x,s=0;n>s;s++){var c=o*(s+1);i.push([{x:t[0].x+c,y:r},{x:t[0].x+c,y:a}])}}}else{var u=0,l=e.x,h=At(t[0],t[1]),f=h.k,d=h.b;if(i.push([{x:u,y:u*f+d},{x:l,y:l*f+d}]),t.length>2){var v=t[2].y-f*t[2].x;i.push([{x:u,y:u*f+v},{x:l,y:l*f+v}]);for(var p=d-v,m=0;n>m;m++){var y=d+p*(m+1);i.push([{x:u,y:u*f+y},{x:l,y:l*f+y}])}}}return i}function jt(t,e,n){t.save(),t.lineWidth%2&&t.translate(.5,.5),t.beginPath();var i=!0;e.forEach((function(e){e&&(i?(t.moveTo(e.x,e.y),i=!1):t.lineTo(e.x,e.y))})),n(),t.restore()}function Ft(t,e){jt(t,e,(function(){t.stroke(),t.closePath()}))}function Nt(t,e){jt(t,e,(function(){t.closePath(),t.fill()}))}function Vt(t,e,n,i){t.beginPath();var r=t.lineWidth%2?.5:0;t.moveTo(n,e+r),t.lineTo(i,e+r),t.stroke(),t.closePath()}function zt(t,e,n,i){t.beginPath();var r=t.lineWidth%2?.5:0;t.moveTo(e+r,n),t.lineTo(e+r,i),t.stroke(),t.closePath()}function Ht(t,e){Ft(t,e)}function Ut(t){return t.ownerDocument&&t.ownerDocument.defaultView&&t.ownerDocument.defaultView.devicePixelRatio||2}function Wt(t,e){return Math.round(t.measureText(e).width)}function Yt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Helvetica Neue";return"".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal"," ").concat(t,"px ").concat(e)}var Kt="point",qt="none",Zt={NORMAL:"normal",WEAK_MAGNET:"weak_magnet",STRONG_MAGNET:"strong_magnet"},Xt=function(t){k(n,t);var e=C(n);function n(t){var i,r=t.id,a=t.name,o=t.totalStep,s=t.chartData,c=t.xAxis,u=t.yAxis,l=t.points,h=t.styles,f=t.lock,d=t.data;return g(this,n),(i=e.call(this,{id:r,chartData:s,xAxis:c,yAxis:u}))._name=a,i._totalStep=o,i._lock=f,i._mode=Zt.NORMAL,i._data=d,i._drawStep=1,i._points=[],i.setPoints(l),i.setStyles(h,s.styleOptions().shape),i._prevPressPoint=null,i._prevPoints=null,i._coordinates=[],i}return x(n,[{key:"setPoints",value:function(t){if(L(t)&&t.length>0){var e;this._totalStep-1>t.length?(this._drawStep=t.length+1,this._points=P(t),e=t.length):(this._drawStep=-1,this._points=t.slice(0,this._totalStep-1),e=this._totalStep-1);for(var n=0;e>n;n++)this.performEventMoveForDrawing({step:n+2,mode:this._mode,points:this._points,movePoint:this._points[n],xAxis:this._xAxis,yAxis:this._yAxis});-1===this._drawStep&&this.performEventPressedMove({mode:this._mode,points:this._points,pressPointIndex:this._points.length-1,pressPoint:this._points[this._points.length-1],xAxis:this._xAxis,yAxis:this._yAxis})}}},{key:"_timestampOrDataIndexToCoordinateX",value:function(t){var e=t.timestamp,n=t.dataIndex;return e&&(n=this._chartData.timeScaleStore().timestampToDataIndex(e)),this._xAxis.convertToPixel(n)}},{key:"_drawLines",value:function(t,e,n,i){t.save(),t.strokeStyle=n.color||i.color,t.lineWidth=n.size||i.size,n.style===V&&t.setLineDash(n.dashValue||i.dashValue),e.forEach((function(e){var n,i;if(e.length>1)switch((n=e[0]).x===(i=e[1]).x?2:n.y===i.y?1:0){case 0:Ht(t,e);break;case 1:Vt(t,e[0].y,e[0].x,e[1].x);break;case 2:zt(t,e[0].x,e[0].y,e[1].y)}})),t.restore()}},{key:"_drawContinuousLines",value:function(t,e,n,i){t.save(),t.strokeStyle=n.color||i.color,t.lineWidth=n.size||i.size,n.style===V&&t.setLineDash(n.dashValue||i.dashValue),e.forEach((function(e){e.length>0&&Ht(t,e)})),t.restore()}},{key:"_drawPolygons",value:function(t,e,n,i){var r;if(t.save(),n.style===N)t.fillStyle=(n.fill||i.fill).color,r=Nt;else{var a=n.stroke||i.stroke;a.style===V&&t.setLineDash(a.dashValue),t.lineWidth=a.size,t.strokeStyle=a.color,r=Ft}e.forEach((function(e){e.length>0&&r(t,e)})),t.restore()}},{key:"_drawArcs",value:function(t,e,n,i){if(t.save(),n.style===N)t.fillStyle=(n.fill||i.fill).color;else{var r=n.stroke||i.stroke;r.style===V&&t.setLineDash(r.dashValue),t.lineWidth=r.size,t.strokeStyle=r.color}e.forEach((function(e){var i=e.x,r=e.y,a=e.radius,o=e.startAngle,s=e.endAngle;t.beginPath(),t.arc(i,r,a,o,s),n.style===N?(t.closePath(),t.fill()):(t.stroke(),t.closePath())})),t.restore()}},{key:"_drawText",value:function(t,e,n,i){var r;t.save(),n.style===F?(t.strokeStyle=n.color||i.color,r=t.strokeText):(t.fillStyle=n.color||i.color,r=t.fillText),t.font=Yt(n.size||i.size,n.family||i.family,n.weight||i.weight);var a=n.offset||i.offset||[0,0];e.forEach((function(e){r.call(t,e.text,e.x+a[1],e.y+a[0])})),t.restore()}},{key:"draw",value:function(t){var e=this;this._coordinates=this._points.map((function(t){var n=t.value;return{x:e._timestampOrDataIndexToCoordinateX({timestamp:t.timestamp,dataIndex:t.dataIndex}),y:e._yAxis.convertToPixel(n)}}));var n=this._styles||this._chartData.styleOptions().shape;if(1!==this._drawStep&&this._coordinates.length>0){var i={width:this._xAxis.width(),height:this._yAxis.height()},r={price:this._chartData.pricePrecision(),volume:this._chartData.volumePrecision()};this._shapeDataSources=this.createShapeDataSource({step:this._drawStep,mode:this._mode,points:this._points,coordinates:this._coordinates,viewport:{width:this._xAxis.width(),height:this._yAxis.height()},precision:{price:this._chartData.pricePrecision(),volume:this._chartData.volumePrecision()},styles:n,xAxis:this._xAxis,yAxis:this._yAxis,data:this._data})||[],this._shapeDataSources.forEach((function(i){var r=i.styles,a=i.dataSource,o=void 0===a?[]:a;if(i.isDraw)switch(i.type){case"line":e._drawLines(t,o,r||n.line,n.line);break;case"continuous_line":e._drawContinuousLines(t,o,r||n.line,n.line);break;case"polygon":e._drawPolygons(t,o,r||n.polygon,n.polygon);break;case"arc":e._drawArcs(t,o,r||n.arc,n.arc);break;case"text":e._drawText(t,o,r||n.text,n.text)}})),this.drawExtend&&(t.save(),this.drawExtend({ctx:t,dataSource:this._shapeDataSources,styles:n,viewport:i,precision:r,mode:this._mode,xAxis:this._xAxis,yAxis:this._yAxis,data:this._data}),t.restore())}var a=this._chartData.shapeStore().mouseOperate();(a.hover.id===this._id&&a.hover.element!==qt||a.click.id===this._id&&a.click.element!==qt||this.isDrawing())&&this._coordinates.forEach((function(i,r){var o=i.x,s=i.y,c=n.point.radius,u=n.point.backgroundColor,l=n.point.borderColor,h=n.point.borderSize;a.hover.id===e._id&&a.hover.element===Kt&&r===a.hover.elementIndex&&(c=n.point.activeRadius,u=n.point.activeBackgroundColor,l=n.point.activeBorderColor,h=n.point.activeBorderSize),Dt(t,l,{x:o,y:s},c+h),Dt(t,u,{x:o,y:s},c)}))}},{key:"setLock",value:function(t){this._lock=t}},{key:"name",value:function(){return this._name}},{key:"lock",value:function(){return this._lock}},{key:"totalStep",value:function(){return this._totalStep}},{key:"mode",value:function(){return this._mode}},{key:"setMode",value:function(t){Object.values(Zt).indexOf>-1&&(this._mode=t)}},{key:"setData",value:function(t){return t!==this._data&&(this._data=t,!0)}},{key:"data",value:function(){return this._data}},{key:"points",value:function(){return this._points}},{key:"isDrawing",value:function(){return-1!==this._drawStep}},{key:"isStart",value:function(){return 1===this._drawStep}},{key:"checkEventCoordinateOn",value:function(t){for(var e=this._styles||this._chartData.styleOptions().shape,n=this._coordinates.length-1;n>-1;n--)if($t(this._coordinates[n],e.point.radius,t))return{id:this._id,element:Kt,elementIndex:n,instance:this};if(this._shapeDataSources){var i,r=T(this._shapeDataSources);try{for(r.s();!(i=r.n()).done;){var a=i.value,o=a.key,s=a.type,c=a.dataSource,u=void 0===c?[]:c;if(a.isCheck)for(var l=0;u.length>l;l++)if(this.checkEventCoordinateOnShape({key:o,type:s,dataSource:u[l],eventCoordinate:t}))return{id:this._id,element:"other",elementIndex:l,instance:this}}}catch(t){r.e(t)}finally{r.f()}}}},{key:"_performValue",value:function(t,e,n){var i=this._yAxis.convertFromPixel(t);if(this._mode===Zt.NORMAL||"candle_pane"!==n)return i;var r=this._chartData.timeScaleStore().getDataByDataIndex(e);if(!r)return i;if(i>r.high){if(this._mode===Zt.WEAK_MAGNET){var a=this._yAxis.convertToPixel(r.high);return this._yAxis.convertFromPixel(a-8)>i?r.high:i}return r.high}if(r.low>i){if(this._mode===Zt.WEAK_MAGNET){var o=this._yAxis.convertToPixel(r.low);return i>this._yAxis.convertFromPixel(o-8)?r.low:i}return r.low}var s=Math.max(r.open,r.close);if(i>s)return r.high-i>i-s?s:r.high;var c=Math.min(r.open,r.close);return c>i?c-i>i-r.low?r.low:c:i-c>s-i?s:c}},{key:"mouseMoveForDrawing",value:function(t,e){var n=this._xAxis.convertFromPixel(t.x),i=this._chartData.timeScaleStore().dataIndexToTimestamp(n),r=this._performValue(t.y,n,e.paneId);this._points[this._drawStep-1]={timestamp:i,value:r,dataIndex:n},this.performEventMoveForDrawing({step:this._drawStep,mode:this._mode,points:this._points,movePoint:{timestamp:i,value:r,dataIndex:n},xAxis:this._xAxis,yAxis:this._yAxis}),this.onDrawing({id:this._id,step:this._drawStep,points:this._points})}},{key:"mouseLeftButtonDownForDrawing",value:function(){this._drawStep===this._totalStep-1?(this._drawStep=-1,this._chartData.shapeStore().progressInstanceComplete(),this.onDrawEnd({id:this._id,points:this._points})):this._drawStep++}},{key:"mousePressedPointMove",value:function(t,e){var n=this._chartData.shapeStore().mouseOperate(),i=n.click.elementIndex;if(!this._lock&&n.click.id===this._id&&n.click.element===Kt&&-1!==i){var r=this._xAxis.convertFromPixel(t.x),a=this._chartData.timeScaleStore().dataIndexToTimestamp(r),o=this._performValue(t.y,r,e.paneId);this._points[i].timestamp=a,this._points[i].dataIndex=r,this._points[i].value=o,this.performEventPressedMove({points:this._points,mode:this._mode,pressPointIndex:i,pressPoint:{dataIndex:r,timestamp:a,value:o},xAxis:this._xAxis,yAxis:this._yAxis}),this.onPressedMove({id:n.click.id,points:this._points,event:e})}}},{key:"startPressedOtherMove",value:function(t){var e=this._xAxis.convertFromPixel(t.x),n=this._yAxis.convertFromPixel(t.y);this._prevPressPoint={dataIndex:e,value:n},this._prevPoints=P(this._points)}},{key:"mousePressedOtherMove",value:function(t){var e=this;if(this._prevPressPoint){var n=this._xAxis.convertFromPixel(t.x),i=this._yAxis.convertFromPixel(t.y),r=n-this._prevPressPoint.dataIndex,a=i-this._prevPressPoint.value;this._points=this._prevPoints.map((function(t){$(t.dataIndex)||(t.dataIndex=e._chartData.timeScaleStore().timestampToDataIndex(t.timestamp));var n=t.dataIndex+r;return{dataIndex:n,value:t.value+a,timestamp:e._chartData.timeScaleStore().dataIndexToTimestamp(n)}}))}}},{key:"onDrawStart",value:function(t){}},{key:"onDrawing",value:function(t){}},{key:"onDrawEnd",value:function(t){}},{key:"onPressedMove",value:function(t){}},{key:"onRemove",value:function(t){}},{key:"checkEventCoordinateOnShape",value:function(t){}},{key:"createShapeDataSource",value:function(t){}},{key:"performEventMoveForDrawing",value:function(t){}},{key:"performEventPressedMove",value:function(t){}}]),n}(Et),Gt=function(){function t(e){g(this,t),this._chartData=e,this._templates=this._createTemplates(),this._mouseOperate={click:{id:"",element:qt,elementIndex:-1},hover:{id:"",element:qt,elementIndex:-1}},this._progressInstance=null,this._pressedInstance=null,this._instances=new Map}return x(t,[{key:"_createTemplates",value:function(){var t={},e=v.shapeExtensions;for(var n in e){var i=this._createTemplateClass(e[n]);i&&(t[n]=i)}return t}},{key:"_createTemplateClass",value:function(t){var e=t.name,n=t.totalStep,i=t.checkEventCoordinateOnShape,r=t.createShapeDataSource,a=t.performEventPressedMove,o=t.performEventMoveForDrawing,s=t.drawExtend;if(!(e&&R(n)&&O(i)&&O(r)))return null;var c=function(t){k(r,t);var i=C(r);function r(t){var a=t.id,o=t.chartData,s=t.xAxis,c=t.yAxis,u=t.points,l=t.styles,h=t.lock,f=t.data;return g(this,r),i.call(this,{id:a,name:e,totalStep:n,chartData:o,xAxis:s,yAxis:c,points:u,styles:l,lock:h,data:f})}return r}(Xt);return c.prototype.checkEventCoordinateOnShape=i,c.prototype.createShapeDataSource=r,O(a)&&(c.prototype.performEventPressedMove=a),O(o)&&(c.prototype.performEventMoveForDrawing=o),O(s)&&(c.prototype.drawExtend=s),c}},{key:"addTemplate",value:function(t){var e=this;t.forEach((function(t){var n=e._createTemplateClass(t);n&&(e._templates[t.name]=n)}))}},{key:"getTemplate",value:function(t){return this._templates[t]}},{key:"getInstance",value:function(t){var e,n=T(this._instances);try{for(n.s();!(e=n.n()).done;){var i=(e.value[1]||[]).find((function(e){return e.id()===t}));if(i)return i}}catch(t){n.e(t)}finally{n.f()}return null}},{key:"hasInstance",value:function(t){return!!this.getInstance(t)}},{key:"addInstance",value:function(t,e){t.isDrawing()?this._progressInstance={paneId:e,instance:t,fixed:$(e)}:(this._instances.has(e)||this._instances.set(e,[]),this._instances.get(e).push(t)),this._chartData.invalidate(1)}},{key:"progressInstance",value:function(){return this._progressInstance||{}}},{key:"progressInstanceComplete",value:function(){var t=this.progressInstance(),e=t.instance,n=t.paneId;e&&!e.isDrawing()&&(this._instances.has(n)||this._instances.set(n,[]),this._instances.get(n).push(e),this._progressInstance=null)}},{key:"updateProgressInstance",value:function(t,e){var n=this.progressInstance(),i=n.instance;i&&!n.fixed&&(i.setYAxis(t),this._progressInstance.paneId=e)}},{key:"pressedInstance",value:function(){return this._pressedInstance||{}}},{key:"updatePressedInstance",value:function(t,e,n){this._pressedInstance=t?{instance:t,paneId:e,element:n}:null}},{key:"instances",value:function(t){return this._instances.get(t)||[]}},{key:"setInstanceOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,n=t.styles,i=t.lock,r=t.mode,a=t.data,o=this._chartData.styleOptions().shape,s=!1;if($(e)){var c=this.getInstance(e);c&&(c.setLock(i),c.setMode(r),(c.setStyles(n,o)||c.setData(a))&&(s=!0))}else this._instances.forEach((function(t){t.forEach((function(t){t.setLock(i),t.setMode(r),(t.setStyles(n,o)||t.setData(a))&&(s=!0)}))}));s&&this._chartData.invalidate(1)}},{key:"getInstanceInfo",value:function(t){var e=function(t){return{name:t.name(),id:t.id(),totalStep:t.totalStep(),lock:t.lock(),mode:t.mode(),points:t.points(),styles:t.styles(),data:t.data()}},n=this.progressInstance();if(!$(t)){var i={};return this._instances.forEach((function(t,r){i[r]=t.map((function(t){return e(t)})),n.paneId===r&&n.instance&&i[r].push(e(n.instance))})),i}if(n.instance&&n.instance.id()===t)return e(n.instance);var r=this.getInstance(t);return r?e(r):null}},{key:"removeInstance",value:function(t){var e=!1,n=this.progressInstance().instance;if(!n||$(t)&&n.id()!==t||(n.onRemove({id:n.id()}),this._progressInstance=null,e=!0),$(t)){var i,r=T(this._instances);try{for(r.s();!(i=r.n()).done;){var a=i.value,o=a[1]||[],s=o.findIndex((function(e){return e.id()===t}));if(s>-1){o[s].onRemove({id:o[s].id()}),o.splice(s,1),0===o.length&&this._instances.delete(a[0]),e=!0;break}}}catch(t){r.e(t)}finally{r.f()}}else this._instances.forEach((function(t){t.length>0&&t.forEach((function(t){t.onRemove({id:t.id()})}))})),this._instances.clear(),e=!0;e&&this._chartData.invalidate(1)}},{key:"mouseOperate",value:function(){return this._mouseOperate}},{key:"setMouseOperate",value:function(t){var e=this._mouseOperate,n=e.hover,i=e.click;!t.hover||n.id===t.hover.id&&n.element===t.hover.element&&n.elementIndex===t.hover.elementIndex||(this._mouseOperate.hover=m({},t.hover)),!t.click||i.id===t.click.id&&i.element===t.click.element&&i.elementIndex===t.click.elementIndex||(this._mouseOperate.click=m({},t.click))}},{key:"isEmpty",value:function(){return 0===this._instances.size&&!this.progressInstance().instance}},{key:"isDrawing",value:function(){var t=this.progressInstance().instance;return t&&t.isDrawing()}},{key:"isPressed",value:function(){return!!this.pressedInstance().instance}}]),t}(),Jt=function(){function t(e){g(this,t),this._chartData=e,this._annotations=new Map,this._visibleAnnotations=new Map,this._mouseOperate={id:""}}return x(t,[{key:"mouseOperate",value:function(){return this._mouseOperate}},{key:"setMouseOperate",value:function(t){t&&this._mouseOperate.id!==t.id&&(this._mouseOperate=m({},t))}},{key:"createVisibleAnnotations",value:function(){var t=this;this._visibleAnnotations.clear(),this._annotations.size>0&&this._chartData.visibleDataList().forEach((function(e){var n=e.data,i=e.x;t._annotations.forEach((function(e,r){if(e.size>0){var a=e.get(n.timestamp)||[];if(a.length>0){var o,s=T(a);try{for(s.s();!(o=s.n()).done;){var c=o.value;c.createSymbolCoordinate(i),t._visibleAnnotations.has(r)?t._visibleAnnotations.get(r).push(c):t._visibleAnnotations.set(r,[c])}}catch(t){s.e(t)}finally{s.f()}}}}))}))}},{key:"add",value:function(t,e){var n=this;this._annotations.has(e)||this._annotations.set(e,new Map),t.forEach((function(t){var i=n._annotations.get(e);i.has(t.id())?i.get(t.id()).push(t):i.set(t.id(),[t])})),this.createVisibleAnnotations(),this._chartData.invalidate(1)}},{key:"get",value:function(t){return this._visibleAnnotations.get(t)}},{key:"remove",value:function(t,e){var n=!1;if($(t)){if(this._annotations.has(t))if($(e)){var i=this._annotations.get(t);[].concat(e).forEach((function(t){var e=t.timestamp;i.has(e)&&(n=!0,i.delete(e))})),0===i.size&&this._annotations.delete(t),n&&this.createVisibleAnnotations()}else n=!0,this._annotations.delete(t),this._visibleAnnotations.delete(t)}else n=!0,this._annotations.clear(),this._visibleAnnotations.clear();n&&this._chartData.invalidate(1)}},{key:"isEmpty",value:function(){return 0===this._visibleAnnotations.size}}]),t}(),Qt=function(){function t(e){g(this,t),this._chartData=e,this._tags=new Map}return x(t,[{key:"_getById",value:function(t,e){var n=this.get(e);return n?n.get(t):null}},{key:"has",value:function(t,e){return!!this._getById(t,e)}},{key:"update",value:function(t,e,n){var i=this._getById(t,e);return!!i&&i.update(n)}},{key:"get",value:function(t){return this._tags.get(t)}},{key:"add",value:function(t,e){this._tags.has(e)||this._tags.set(e,new Map);var n=this._tags.get(e);t.forEach((function(t){n.set(t.id(),t)})),this._chartData.invalidate(1)}},{key:"remove",value:function(t,e){var n=!1;if($(t)){if(this._tags.has(t))if($(e)){var i=this._tags.get(t);[].concat(e).forEach((function(t){i.has(t)&&(n=!0,i.delete(t))})),0===i.size&&this._tags.delete(t)}else n=!0,this._tags.delete(t)}else n=!0,this._tags.clear();n&&this._chartData.invalidate(1)}}]),t}(),te=function(){function t(e){g(this,t),this._chartData=e,this._crosshair={}}return x(t,[{key:"set",value:function(t,e){var n,i,r=this._chartData.dataList(),a=t||{},o=r[i=$(a.x)?0>(n=this._chartData.timeScaleStore().coordinateToDataIndex(a.x))?0:n>r.length-1?r.length-1:n:n=r.length-1],s=this._chartData.timeScaleStore().dataIndexToCoordinate(n),c=this._crosshair.x,u=this._crosshair.y,l=this._crosshair.paneId;this._crosshair=m(m({},a),{},{realX:s,kLineData:o,realDataIndex:n,dataIndex:i}),a.paneId&&o&&this._chartData.crosshairChange({realDataIndex:n,dataIndex:i,kLineData:o,x:a.x,y:a.y}),c===a.x&&u===a.y&&l===a.paneId||e||this._chartData.invalidate(1)}},{key:"recalculate",value:function(t){this.set(this._crosshair,t)}},{key:"get",value:function(){return this._crosshair}}]),t}(),ee=function(){function t(){g(this,t),this._observers=[]}return x(t,[{key:"subscribe",value:function(t){0>this._observers.indexOf(t)&&this._observers.push(t)}},{key:"unsubscribe",value:function(t){var e=this._observers.indexOf(t);e>-1?this._observers.splice(e,1):this._observers=[]}},{key:"execute",value:function(t){this._observers.forEach((function(e){e(t)}))}},{key:"hasObservers",value:function(){return this._observers.length>0}}]),t}(),ne=function(){function t(){g(this,t),this._delegates=new Map}return x(t,[{key:"execute",value:function(t,e){this.has(t)&&this._delegates.get(t).execute(e)}},{key:"has",value:function(t){return this._delegates.has(t)&&this._delegates.get(t).hasObservers()}},{key:"subscribe",value:function(t,e){return Object.values(yt).indexOf(t)>=0&&(this._delegates.has(t)||this._delegates.set(t,new ee),this._delegates.get(t).subscribe(e),!0)}},{key:"unsubscribe",value:function(t,e){if(0>Object.values(yt).indexOf(t))return!1;if(this._delegates.has(t)){var n=this._delegates.get(t);return n.unsubscribe(e),n.hasObservers()||this._delegates.delete(t),!0}return!1}}]),t}(),ie=function(){function t(e,n){g(this,t),this._handler=n,this._styleOptions=P(st),A(this._styleOptions,e),this._pricePrecision=2,this._volumePrecision=0,this._dataList=[],this._visibleDataList=[],this._dragPaneFlag=!1,this._timeScaleStore=new gt(this),this._technicalIndicatorStore=new It(this),this._shapeStore=new Gt(this),this._annotationStore=new Jt(this),this._tagStore=new Qt(this),this._crosshairStore=new te(this),this._actionStore=new ne}return x(t,[{key:"adjustVisibleDataList",value:function(){this._visibleDataList=[];for(var t=this._timeScaleStore.from(),e=this._timeScaleStore.to(),n=t;e>n;n++){var i=this._dataList[n],r=this._timeScaleStore.dataIndexToCoordinate(n);this._visibleDataList.push({index:n,x:r,data:i})}this._annotationStore.createVisibleAnnotations()}},{key:"styleOptions",value:function(){return this._styleOptions}},{key:"applyStyleOptions",value:function(t){A(this._styleOptions,t)}},{key:"pricePrecision",value:function(){return this._pricePrecision}},{key:"volumePrecision",value:function(){return this._volumePrecision}},{key:"setPriceVolumePrecision",value:function(t,e){this._pricePrecision=t,this._volumePrecision=e,this._technicalIndicatorStore.setSeriesPrecision(t,e)}},{key:"dataList",value:function(){return this._dataList}},{key:"visibleDataList",value:function(){return this._visibleDataList}},{key:"addData",value:function(t,e,n){if(M(t)){if(L(t)){this._timeScaleStore.setLoading(!1),this._timeScaleStore.setMore(!B(n)||n);var i=0===this._dataList.length;this._dataList=t.concat(this._dataList),i&&this._timeScaleStore.resetOffsetRightSpace(),this._timeScaleStore.adjustFromTo()}else if(e<this._dataList.length)this._dataList[e]=t,this.adjustVisibleDataList();else{this._dataList.push(t);var r=this._timeScaleStore.offsetRightBarCount();0>r&&this._timeScaleStore.setOffsetRightBarCount(--r),this._timeScaleStore.adjustFromTo()}this._crosshairStore.recalculate(!0)}}},{key:"clearDataList",value:function(){this._dataList=[],this._visibleDataList=[],this._timeScaleStore.clear()}},{key:"timeScaleStore",value:function(){return this._timeScaleStore}},{key:"technicalIndicatorStore",value:function(){return this._technicalIndicatorStore}},{key:"shapeStore",value:function(){return this._shapeStore}},{key:"annotationStore",value:function(){return this._annotationStore}},{key:"tagStore",value:function(){return this._tagStore}},{key:"crosshairStore",value:function(){return this._crosshairStore}},{key:"actionStore",value:function(){return this._actionStore}},{key:"invalidate",value:function(t){this._handler.invalidate(t)}},{key:"crosshairChange",value:function(t){this._handler.crosshair(t)}},{key:"dragPaneFlag",value:function(){return this._dragPaneFlag}},{key:"setDragPaneFlag",value:function(t){this._dragPaneFlag=t}}]),t}();function re(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.createElement(t);for(var i in e)n.style[i]=e[i];return n}var ae=function(){function t(e){g(this,t),this._height=-1,this._container=e.container,this._chartData=e.chartData,this._initBefore(e),this._initElement(),this._mainWidget=this._createMainWidget(this._element,e),this._yAxisWidget=this._createYAxisWidget(this._element,e)}return x(t,[{key:"_initBefore",value:function(t){}},{key:"_initElement",value:function(){this._element=re("div",{width:"100%",margin:"0",padding:"0",position:"relative",overflow:"hidden"});var t=this._container.lastChild;t?this._container.insertBefore(this._element,t):this._container.appendChild(this._element)}},{key:"_createMainWidget",value:function(t,e){}},{key:"_createYAxisWidget",value:function(t,e){}},{key:"width",value:function(){return this._element.offsetWidth}},{key:"setWidth",value:function(t,e){this._mainWidget.setWidth(t),this._yAxisWidget&&this._yAxisWidget.setWidth(e)}},{key:"height",value:function(){return this._height}},{key:"setHeight",value:function(t){this._height=t,this._mainWidget.setHeight(t),this._yAxisWidget&&this._yAxisWidget.setHeight(t)}},{key:"setOffsetLeft",value:function(t,e){this._mainWidget.setOffsetLeft(t),this._yAxisWidget&&this._yAxisWidget.setOffsetLeft(e)}},{key:"layout",value:function(){this._element.offsetHeight!==this._height&&(this._element.style.height="".concat(this._height,"px")),this._mainWidget.layout(),this._yAxisWidget&&this._yAxisWidget.layout()}},{key:"invalidate",value:function(t){this._yAxisWidget&&this._yAxisWidget.invalidate(t),this._mainWidget.invalidate(t)}},{key:"getImage",value:function(t){var e=this._element.offsetWidth,n=this._element.offsetHeight,i=re("canvas",{width:"".concat(e,"px"),height:"".concat(n,"px")}),r=i.getContext("2d"),a=Ut(i);i.width=e*a,i.height=n*a,r.scale(a,a);var o=this._mainWidget.getElement(),s=o.offsetWidth,c=o.offsetHeight,u=parseInt(o.style.left,10);if(r.drawImage(this._mainWidget.getImage(t),u,0,s,c),this._yAxisWidget){var l=this._yAxisWidget.getElement(),h=l.offsetWidth,f=l.offsetHeight,d=parseInt(l.style.left,10);r.drawImage(this._yAxisWidget.getImage(t),d,0,h,f)}return i}},{key:"destroy",value:function(){this._container.removeChild(this._element)}}]),t}(),oe=function(){function t(e){g(this,t),this._width=0,this._height=0,this._initElement(e.container),this._mainView=this._createMainView(this._element,e),this._overlayView=this._createOverlayView(this._element,e)}return x(t,[{key:"_initElement",value:function(t){this._element=re("div",{margin:"0",padding:"0",position:"absolute",top:"0",overflow:"hidden"}),t.appendChild(this._element)}},{key:"_createMainView",value:function(t,e){}},{key:"_createOverlayView",value:function(t,e){}},{key:"getElement",value:function(){return this._element}},{key:"setWidth",value:function(t){this._width=t,this._mainView.setWidth(t),this._overlayView.setWidth(t)}},{key:"setHeight",value:function(t){this._height=t,this._mainView.setHeight(t),this._overlayView.setHeight(t)}},{key:"setOffsetLeft",value:function(t){this._element.style.left="".concat(t,"px")}},{key:"layout",value:function(){this._element.offsetWidth!==this._width&&(this._element.style.width="".concat(this._width,"px")),this._element.offsetHeight!==this._height&&(this._element.style.height="".concat(this._height,"px")),this._mainView.layout(),this._overlayView.layout()}},{key:"invalidate",value:function(t){switch(t){case 1:this._overlayView.flush();break;case 2:case 3:this._mainView.flush(),this._overlayView.flush()}}},{key:"getImage",value:function(t){var e=re("canvas",{width:"".concat(this._width,"px"),height:"".concat(this._height,"px")}),n=e.getContext("2d"),i=Ut(e);return e.width=this._width*i,e.height=this._height*i,n.scale(i,i),n.drawImage(this._mainView.getImage(),0,0,this._width,this._height),t&&this._overlayView&&n.drawImage(this._overlayView.getImage(),0,0,this._width,this._height),e}}]),t}();function se(t){return window.requestAnimationFrame?window.requestAnimationFrame(t):window.setTimeout(t,20)}var ce=function(){function t(e,n){g(this,t),this._chartData=n,this._initCanvas(e)}return x(t,[{key:"_initCanvas",value:function(t){this._canvas=re("canvas",{position:"absolute",top:"0",left:"0",zIndex:"2"}),this._ctx=this._canvas.getContext("2d"),t.appendChild(this._canvas)}},{key:"_redraw",value:function(t){this._ctx.clearRect(0,0,this._canvas.offsetWidth,this._canvas.offsetHeight),t&&t(),this._draw()}},{key:"_draw",value:function(){}},{key:"setWidth",value:function(t){this._width=t}},{key:"setHeight",value:function(t){this._height=t}},{key:"layout",value:function(){var t=this;this._height!==this._canvas.offsetHeight||this._width!==this._canvas.offsetWidth?this._redraw((function(){var e=Ut(t._canvas);t._canvas.style.width="".concat(t._width,"px"),t._canvas.style.height="".concat(t._height,"px"),t._canvas.width=Math.floor(t._width*e),t._canvas.height=Math.floor(t._height*e),t._ctx.scale(e,e)})):this.flush()}},{key:"flush",value:function(){var t,e=this;this.requestAnimationId&&(t=this.requestAnimationId,window.cancelAnimationFrame||clearTimeout(t),window.cancelAnimationFrame(t),this.requestAnimationId=null),this.requestAnimationId=se((function(){e._redraw()}))}},{key:"getImage",value:function(){return this._canvas}}]),t}(),ue=function(t){k(n,t);var e=C(n);function n(t,i,r,a,o){var s;return g(this,n),(s=e.call(this,t,i))._xAxis=r,s._yAxis=a,s._paneId=o,s}return x(n,[{key:"_draw",value:function(){this._ctx.globalCompositeOperation="destination-over",this._drawContent()}},{key:"_drawContent",value:function(){this._drawTechs(),this._drawGrid()}},{key:"_drawGrid",value:function(){var t=this,e=this._chartData.styleOptions().grid;if(e.show){var n=e.horizontal;this._ctx.save(),n.show&&(this._ctx.strokeStyle=n.color,this._ctx.lineWidth=n.size,this._ctx.setLineDash(n.style===V?n.dashValue:[]),this._yAxis.ticks().forEach((function(e){Vt(t._ctx,e.y,0,t._width)})));var i=e.vertical;i.show&&(this._ctx.strokeStyle=i.color,this._ctx.lineWidth=i.size,this._ctx.setLineDash(i.style===V?i.dashValue:[]),this._xAxis.ticks().forEach((function(e){zt(t._ctx,e.x,0,t._height)}))),this._ctx.restore()}}},{key:"_drawTechs",value:function(){var t=this;this._ctx.globalCompositeOperation="source-over";var e=this._chartData.styleOptions().technicalIndicator;this._chartData.technicalIndicatorStore().instances(this._paneId).forEach((function(n){var i=n.plots,r=[],a=t._chartData.dataList(),o=n.result,s=n.styles||e;n.render&&(t._ctx.save(),n.render({ctx:t._ctx,dataSource:{from:t._chartData.timeScaleStore().from(),to:t._chartData.timeScaleStore().to(),kLineDataList:t._chartData.dataList(),technicalIndicatorDataList:o},viewport:{width:t._width,height:t._height,dataSpace:t._chartData.timeScaleStore().dataSpace(),barSpace:t._chartData.timeScaleStore().barSpace()},styles:s,xAxis:t._xAxis,yAxis:t._yAxis}),t._ctx.restore());var c=t._yAxis.isCandleYAxis();t._ctx.lineWidth=1,t._drawGraphics((function(e,u,l,h,f){var d=o[u]||{},v=0;n.shouldOhlc&&!c&&t._drawCandleBar(e,h,f,u,l,s.bar,"ohlc"),i.forEach((function(n){var i=d[n.key],c=t._yAxis.convertToPixel(i);switch(n.type){case wt:if($(i)){var f={prev:{kLineData:a[u-1],technicalIndicatorData:o[u-1]},current:{kLineData:l,technicalIndicatorData:d},next:{kLineData:a[u+1],technicalIndicatorData:o[u+1]}};t._drawCircle({x:e,y:c,radius:h,color:n.color&&n.color(f,s)||s.circle.noChangeColor,isStroke:!n.isStroke||n.isStroke(f)})}break;case xt:if($(i)){var p,m={prev:{kLineData:a[u-1],technicalIndicatorData:o[u-1]},current:{kLineData:l,technicalIndicatorData:d},next:{kLineData:a[u+1],technicalIndicatorData:o[u+1]}};p=$(n.baseValue)?n.baseValue:t._yAxis.min();var y=t._yAxis.convertToPixel(p),g=Math.abs(y-c),_={x:e-h,width:2*h,height:Math.max(1,g)};_.y=c>y?y:1>g?y-1:c,_.color=n.color&&n.color(m,s)||s.bar.noChangeColor,_.isStroke=!!n.isStroke&&n.isStroke(m),t._drawBar(_)}break;case _t:var x=null;$(i)&&(x={x:e,y:c}),r[v]?r[v].push(x):r[v]=[x],v++}}))}),(function(){t._drawLines(r,s)}))})),this._ctx.globalCompositeOperation="destination-over"}},{key:"_drawGraphics",value:function(t,e){var n=this._chartData.visibleDataList(),i=this._chartData.timeScaleStore().barSpace(),r=this._chartData.timeScaleStore().halfBarSpace();n.forEach((function(e,n){t(e.x,e.index,e.data,r,i,n)})),e&&e()}},{key:"_drawLines",value:function(t,e){var n=this,i=e.line.colors||[],r=i.length;this._ctx.lineWidth=e.line.size,t.forEach((function(t,e){n._ctx.strokeStyle=i[e%r],Ht(n._ctx,t)}))}},{key:"_drawBar",value:function(t){t.isStroke?(this._ctx.strokeStyle=t.color,this._ctx.strokeRect(t.x+.5,t.y,t.width-1,t.height)):(this._ctx.fillStyle=t.color,this._ctx.fillRect(t.x,t.y,t.width,t.height))}},{key:"_drawCircle",value:function(t){this._ctx.strokeStyle=t.color,this._ctx.fillStyle=t.color,this._ctx.beginPath(),this._ctx.arc(t.x,t.y,t.radius,2*Math.PI,0,!0),t.isStroke?this._ctx.stroke():this._ctx.fill(),this._ctx.closePath()}},{key:"_drawCandleBar",value:function(t,e,n,i,r,a,o){var s=r.open,c=r.close,u=r.high,l=r.low;c>s?(this._ctx.strokeStyle=a.upColor,this._ctx.fillStyle=a.upColor):s>c?(this._ctx.strokeStyle=a.downColor,this._ctx.fillStyle=a.downColor):(this._ctx.strokeStyle=a.noChangeColor,this._ctx.fillStyle=a.noChangeColor);var h=this._yAxis.convertToPixel(s),f=this._yAxis.convertToPixel(c),d=this._yAxis.convertToPixel(u),v=this._yAxis.convertToPixel(l),p=Math.min(h,f),m=Math.max(h,f);this._ctx.fillRect(t-.5,d,1,p-d),this._ctx.fillRect(t-.5,m,1,v-m);var y=Math.max(1,m-p);switch(o){case q:this._ctx.fillRect(t-e,p,n,y);break;case"candle_stroke":this._ctx.strokeRect(t-e+.5,p,n-1,y);break;case"candle_up_stroke":c>s?this._ctx.strokeRect(t-e+.5,p,n-1,y):this._ctx.fillRect(t-e,p,n,y);break;case"candle_down_stroke":c>s?this._ctx.fillRect(t-e,p,n,y):this._ctx.strokeRect(t-e+.5,p,n-1,y);break;default:this._ctx.fillRect(t-.5,d,1,v-d),this._ctx.fillRect(t-e,h-.5,e,1),this._ctx.fillRect(t,f-.5,e,1)}}}]),n}(ce);function le(t,e,n,i,r){t.fillStyle=e,t.fillText(r,n,i)}var he=function(t){k(n,t);var e=C(n);function n(t,i,r,a,o){var s;return g(this,n),(s=e.call(this,t,i))._xAxis=r,s._yAxis=a,s._paneId=o,s}return x(n,[{key:"_draw",value:function(){this._ctx.textBaseline="alphabetic",this._drawTag(),this._drawShape(),this._drawAnnotation();var t=this._chartData.crosshairStore().get();if(t.kLineData){var e=this._chartData.styleOptions().crosshair;t.paneId===this._paneId&&this._drawCrosshairLine(e,"horizontal",t.y,0,this._width,Vt),t.paneId&&this._drawCrosshairLine(e,"vertical",t.realX,0,this._height,zt),this._drawTooltip(t,this._chartData.technicalIndicatorStore().instances(this._paneId))}}},{key:"_drawAnnotation",value:function(){var t=this,e=this._chartData.annotationStore().get(this._paneId);e&&e.forEach((function(e){e.draw(t._ctx)}))}},{key:"_drawTag",value:function(){var t=this,e=this._chartData.tagStore().get(this._paneId);e&&e.forEach((function(e){e.drawMarkLine(t._ctx)}))}},{key:"_drawShape",value:function(){var t=this;this._chartData.shapeStore().instances(this._paneId).forEach((function(e){e.draw(t._ctx)}));var e=this._chartData.shapeStore().progressInstance();e.paneId===this._paneId&&e.instance.draw(this._ctx)}},{key:"_drawTooltip",value:function(t,e){var n=this._chartData.styleOptions().technicalIndicator;this._drawBatchTechToolTip(t,e,n,0,this._shouldDrawTooltip(t,n.tooltip))}},{key:"_drawCrosshairLine",value:function(t,e,n,i,r,a){var o=t[e],s=o.line;t.show&&o.show&&s.show&&(this._ctx.save(),this._ctx.lineWidth=s.size,this._ctx.strokeStyle=s.color,s.style===V&&this._ctx.setLineDash(s.dashValue),a(this._ctx,n,i,r),this._ctx.restore())}},{key:"_drawBatchTechToolTip",value:function(t,e,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(arguments.length>4?arguments[4]:void 0){var a=n.tooltip,o=r;e.forEach((function(e){i._drawTechTooltip(t,e,n,o),o+=a.text.marginTop+a.text.size+a.text.marginBottom}))}}},{key:"_drawTechTooltip",value:function(t,e,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=n.tooltip,o=e.styles||n,s=e.result,c=s[t.dataIndex],u=St(c,e),l=o.line.colors,h=this._chartData.dataList(),f={prev:{kLineData:h[t.dataIndex-1],technicalIndicatorData:s[t.dataIndex-1]},current:{kLineData:h[t.dataIndex],technicalIndicatorData:c},next:{kLineData:h[t.dataIndex+1],technicalIndicatorData:s[t.dataIndex+1]}},d=e.plots,v=a.text,p=u.values,m=v.marginLeft,y=v.marginRight,g=0,_=v.marginTop+r,x=v.size,w=v.color,k=l.length;if(this._ctx.textBaseline="top",this._ctx.font=Yt(x,v.weight,v.family),a.showName){var b=u.name,S=Wt(this._ctx,b);le(this._ctx,w,g+=m,_,b),g+=S,a.showParams||(g+=y)}if(a.showParams){var I=u.calcParamText,C=Wt(this._ctx,I);a.showName||(g+=m),le(this._ctx,w,g,_,I),g+=C+y}var E,D=0;d.forEach((function(t,e){switch(t.type){case wt:E=t.color&&t.color(f,o)||o.circle.noChangeColor;break;case xt:E=t.color&&t.color(f,o)||o.bar.noChangeColor;break;case _t:E=l[D%k]||w,D++}var n=p[e].title;if($(n)){g+=m;var r="".concat(n).concat(p[e].value||v.defaultValue),a=Wt(i._ctx,r);le(i._ctx,E,g,_,r),g+=a+y}}))}},{key:"_shouldDrawTooltip",value:function(t,e){var n=e.showRule;return n===X||"follow_cross"===n&&!!t.paneId}}]),n}(ce),fe=function(t){k(n,t);var e=C(n);function n(){return g(this,n),e.apply(this,arguments)}return x(n,[{key:"_createMainView",value:function(t,e){return new ue(t,e.chartData,e.xAxis,e.yAxis,e.paneId)}},{key:"_createOverlayView",value:function(t,e){return new he(t,e.chartData,e.xAxis,e.yAxis,e.paneId)}}]),n}(oe);function de(t,e,n,i,r,a,o,s,c){pe(t,e,r,a,o,s,c),ve(t,n,i,r,a,o,s,c)}function ve(t,e,n,i,r,a,o,s){t.lineWidth=n,t.strokeStyle=e,me(t,i,r,a,o,s),t.stroke()}function pe(t,e,n,i,r,a,o){t.fillStyle=e,me(t,n,i,r,a,o),t.fill()}function me(t,e,n,i,r,a){t.beginPath(),t.moveTo(e+a,n),t.arcTo(e+i,n,e+i,n+r,a),t.arcTo(e+i,n+r,e,n+r,a),t.arcTo(e,n+r,e,n,a),t.arcTo(e,n,e+i,n,a),t.closePath()}var ye=function(t){k(n,t);var e=C(n);function n(t,i,r,a){var o;return g(this,n),(o=e.call(this,t,i))._yAxis=r,o._paneId=a,o}return x(n,[{key:"_draw",value:function(){var t=this._chartData.styleOptions().yAxis;t.show&&(this._drawAxisLine(t),this._drawTickLines(t),this._drawTickLabels(t),this._drawTechLastValue(),this._drawLastPriceLabel())}},{key:"_drawAxisLine",value:function(t){var e,n=t.axisLine;n.show&&(this._ctx.strokeStyle=n.color,this._ctx.lineWidth=n.size,e=this._yAxis.isFromYAxisZero()?0:this._width-1,zt(this._ctx,e,0,this._height))}},{key:"_drawTickLines",value:function(t){var e=this,n=t.tickLine;if(n.show){this._ctx.lineWidth=n.size,this._ctx.strokeStyle=n.color;var i,r,a=n.length;this._yAxis.isFromYAxisZero()?(i=0,t.axisLine.show&&(i+=t.axisLine.size),r=i+a):(i=this._width,t.axisLine.show&&(i-=t.axisLine.size),r=i-a),this._yAxis.ticks().forEach((function(t){Vt(e._ctx,t.y,i,r)}))}}},{key:"_drawTickLabels",value:function(t){var e=this,n=t.tickText;if(n.show){var i,r=t.tickLine,a=r.show,o=r.length;this._yAxis.isFromYAxisZero()?(i=n.paddingLeft,t.axisLine.show&&(i+=t.axisLine.size),a&&(i+=o),this._ctx.textAlign="left"):(i=this._width-n.paddingRight,t.axisLine.show&&(i-=t.axisLine.size),a&&(i-=o),this._ctx.textAlign="right"),this._ctx.textBaseline="middle",this._ctx.font=Yt(n.size,n.weight,n.family),this._ctx.fillStyle=n.color,this._yAxis.ticks().forEach((function(t){e._ctx.fillText(t.v,i,t.y)})),this._ctx.textAlign="left"}}},{key:"_drawTechLastValue",value:function(){var t=this,e=this._chartData.styleOptions().technicalIndicator,n=e.lastValueMark;if(n.show&&n.text.show){var i=this._chartData.technicalIndicatorStore().instances(this._paneId),r=this._chartData.dataList();i.forEach((function(i){var a=i.result||[],o=a.length,s=a[o-1]||{},c={prev:{kLineData:r[o-2],technicalIndicatorData:a[o-2]},current:{kLineData:r[o-1],technicalIndicatorData:s},next:{kLineData:null,technicalIndicatorData:null}},u=i.precision,l=i.styles||e,h=l.line.colors||[],f=h.length,d=0;i.plots.forEach((function(e){var r,a=s[e.key];switch(e.type){case wt:r=e.color&&e.color(c,l)||l.circle.noChangeColor;break;case xt:r=e.color&&e.color(c,l)||l.bar.noChangeColor;break;case _t:r=h[d%f],d++}$(a)&&t._drawMarkLabel(a,u,i.shouldFormatBigNumber,m(m({},n.text),{},{backgroundColor:r}))}))}))}}},{key:"_drawLastPriceLabel",value:function(){if(this._yAxis.isCandleYAxis()){var t=this._chartData.styleOptions().candle.priceMark,e=t.last;if(t.show&&e.show&&e.text.show){var n=this._chartData.dataList(),i=n[n.length-1];if(i){var r,a=i.close,o=i.open;r=a>o?e.upColor:o>a?e.downColor:e.noChangeColor,this._drawMarkLabel(a,this._chartData.pricePrecision(),!1,m(m({},e.text),{},{backgroundColor:r}))}}}}},{key:"_drawMarkLabel",value:function(t,e,n,i){var r,a=i.size,o=i.weight,s=i.family,c=i.color,u=i.backgroundColor,l=i.borderRadius,h=i.paddingLeft,f=i.paddingTop,d=i.paddingRight,v=i.paddingBottom,p=this._yAxis.convertToNicePixel(t);if(this._yAxis.yAxisType()===Y){var m=((this._chartData.visibleDataList()[0]||{}).data||{}).close;r="".concat(((t-m)/m*100).toFixed(2),"%")}else r=lt(t,e),n&&(r=ht(r));this._ctx.font=Yt(a,o,s);var y,g=Wt(this._ctx,r)+h+d,_=f+a+v;y=this._yAxis.isFromYAxisZero()?0:this._width-g,pe(this._ctx,u,y,p-f-a/2,g,_,l),this._ctx.textBaseline="middle",le(this._ctx,c,y+h,p,r)}}]),n}(ce),ge=function(t){k(n,t);var e=C(n);function n(t,i,r,a){var o;return g(this,n),(o=e.call(this,t,i))._yAxis=r,o._paneId=a,o}return x(n,[{key:"_draw",value:function(){this._ctx.textBaseline="middle",this._drawTag(),this._drawCrossHairLabel()}},{key:"_drawTag",value:function(){var t=this,e=this._chartData.tagStore().get(this._paneId);e&&e.forEach((function(e){e.drawText(t._ctx)}))}},{key:"_drawCrossHairLabel",value:function(){var t=this._chartData.crosshairStore().get();if(t.paneId===this._paneId&&0!==this._chartData.dataList().length){var e=this._chartData.styleOptions().crosshair,n=e.horizontal,i=n.text;if(e.show&&n.show&&i.show){var r,a=this._yAxis.convertFromPixel(t.y);if(this._yAxis.yAxisType()===Y){var o=(this._chartData.visibleDataList()[0]||{}).data||{};r="".concat(((a-o.close)/o.close*100).toFixed(2),"%")}else{var s=this._chartData.technicalIndicatorStore().instances(this._paneId),c=0,u=!1;this._yAxis.isCandleYAxis()?c=this._chartData.pricePrecision():s.forEach((function(t){c=Math.max(t.precision,c),u||(u=t.shouldFormatBigNumber)})),r=lt(a,c),u&&(r=ht(r))}var l=i.size;this._ctx.font=Yt(l,i.weight,i.family);var h,f=Wt(this._ctx,r),d=i.paddingLeft,v=i.paddingTop,p=i.borderSize,m=f+2*p+d+i.paddingRight,y=l+2*p+v+i.paddingBottom;h=this._yAxis.isFromYAxisZero()?0:this._width-m,de(this._ctx,i.backgroundColor,i.borderColor,p,h,t.y-p-v-l/2,m,y,i.borderRadius),le(this._ctx,i.color,h+p+d,t.y,r)}}}}]),n}(ce),_e=function(t){k(n,t);var e=C(n);function n(){return g(this,n),e.apply(this,arguments)}return x(n,[{key:"_createMainView",value:function(t,e){return new ye(t,e.chartData,e.yAxis,e.paneId)}},{key:"_createOverlayView",value:function(t,e){return new ge(t,e.chartData,e.yAxis,e.paneId)}}]),n}(oe),xe=function(){function t(e){g(this,t),this._chartData=e,this._width=0,this._height=0,this._cacheMinValue=0,this._cacheMaxValue=0,this._minValue=0,this._maxValue=0,this._range=0,this._ticks=[],this._initMeasureCanvas()}return x(t,[{key:"_initMeasureCanvas",value:function(){var t=re("canvas"),e=Ut(t);this._measureCtx=t.getContext("2d"),this._measureCtx.scale(e,e)}},{key:"min",value:function(){return this._minValue}},{key:"max",value:function(){return this._maxValue}},{key:"width",value:function(){return this._width}},{key:"height",value:function(){return this._height}},{key:"setWidth",value:function(t){this._width=t}},{key:"setHeight",value:function(t){this._height=t}},{key:"ticks",value:function(){return this._ticks}},{key:"computeAxis",value:function(t){var e=this._optimalMinMax(this._computeMinMax());return this._minValue=e.min,this._maxValue=e.max,this._range=e.range,!(this._cacheMinValue===e.min&&this._cacheMaxValue===e.max&&!t||(this._cacheMinValue=e.min,this._cacheMaxValue=e.max,this._ticks=this._optimalTicks(this._computeTicks()),0))}},{key:"_computeMinMax",value:function(){}},{key:"_optimalMinMax",value:function(t){}},{key:"_computeTicks",value:function(){var t=[];if(this._range>=0){var e=this._computeInterval(this._range),n=e.interval,i=e.precision,r=ft(Math.ceil(this._minValue/n)*n,i),a=ft(Math.floor(this._maxValue/n)*n,i),o=0,s=r;if(0!==n)for(;a>=s;)t[o]={v:s.toFixed(i)},++o,s+=n}return t}},{key:"_optimalTicks",value:function(t){}},{key:"_computeInterval",value:function(t){var e,n,i,r,a=(n=Math.floor(dt(e=t/8)),e=(1.5>(r=e/(i=vt(n)))?1:2.5>r?2:3.5>r?3:4.5>r?4:5.5>r?5:6.5>r?6:8)*i,-20>n?e:+e.toFixed(0>n?-n:0)),o=function(t){var e=""+t,n=e.indexOf("e");if(n>0){var i=+e.slice(n+1);return 0>i?-i:0}var r=e.indexOf(".");return 0>r?0:e.length-1-r}(a);return{interval:a,precision:o}}}]),t}(),we=function(t){k(n,t);var e=C(n);function n(t,i,r){var a;return g(this,n),(a=e.call(this,t))._realRange=0,a._isCandleYAxis=i,a._paneId=r,a}return x(n,[{key:"_computeMinMax",value:function(){var t=this,e=[Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER],n=[],i=!1,r=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER;this._chartData.technicalIndicatorStore().instances(this._paneId).forEach((function(t){i||(i=t.shouldOhlc),o=Math.min(o,t.precision),R(t.minValue)&&(r=Math.min(r,t.minValue)),R(t.maxValue)&&(a=Math.max(a,t.maxValue)),n.push({plots:t.plots,result:t.result})}));var s=4;if(this._isCandleYAxis){var c=this._chartData.pricePrecision();s=o!==Number.MAX_SAFE_INTEGER?Math.min(o,c):c}else o!==Number.MAX_SAFE_INTEGER&&(s=o);var u=this._chartData.visibleDataList(),l=this._chartData.styleOptions().candle,h=l.type===Z,f=l.area.value,d=this._isCandleYAxis&&!h||!this._isCandleYAxis&&i;return u.forEach((function(i){var r=i.index,a=i.data;d&&(e[0]=Math.min(e[0],a.low),e[1]=Math.max(e[1],a.high)),t._isCandleYAxis&&h&&(e[0]=Math.min(e[0],a[f]),e[1]=Math.max(e[1],a[f])),n.forEach((function(t){var n=t.result[r]||{};t.plots.forEach((function(t){var i=n[t.key];$(i)&&(e[0]=Math.min(e[0],i),e[1]=Math.max(e[1],i))}))}))})),e[0]!==Number.MAX_SAFE_INTEGER&&e[1]!==Number.MIN_SAFE_INTEGER?(e[0]=Math.min(r,e[0]),e[1]=Math.max(a,e[1])):(e[0]=0,e[1]=10),{min:e[0],max:e[1],precision:s,specifyMin:r,specifyMax:a}}},{key:"_optimalMinMax",value:function(t){var e,n,i,r,a=t.precision,o=t.specifyMin,s=t.specifyMax,c=t.min,u=t.max,l=this.yAxisType();switch(l){case Y:var h=(this._chartData.visibleDataList()[0]||{}).data||{};R(h.close)&&(c=(c-h.close)/h.close*100,u=(u-h.close)/h.close*100),e=.01;break;case K:c=dt(c),u=dt(u),e=.05*vt(-a);break;default:e=vt(-a)}if(c===u||e>Math.abs(c-u)){var f=o===c,d=s===u;c=f?c:d?c-8*e:c-4*e,u=d?u:f?u+8*e:u+4*e}i=(n=this._isCandleYAxis?this._chartData.styleOptions().candle.margin:this._chartData.styleOptions().technicalIndicator.margin).top>1?n.top/this._height:R(n.top)?n.top:.2,r=n.bottom>1?n.bottom/this._height:R(n.bottom)?n.bottom:.1;var v=Math.abs(u-c);return v=Math.abs((u+=v*i)-(c-=v*r)),this._realRange=l===K?Math.abs(vt(u)-vt(c)):v,{min:c,max:u,range:v}}},{key:"_optimalTicks",value:function(t){var e=this,n=[],i=this.yAxisType(),r=this._chartData.technicalIndicatorStore().instances(this._paneId),a=0,o=!1;this._isCandleYAxis?a=this._chartData.pricePrecision():r.forEach((function(t){a=Math.max(a,t.precision),o||(o=t.shouldFormatBigNumber)}));var s,c,u=this._chartData.styleOptions().xAxis.tickText.size;return i===K&&(s=this._computeInterval(this._realRange)),t.forEach((function(t){var r,l=t.v,h=e._innerConvertToPixel(+l);switch(i){case Y:r="".concat(lt(l,2),"%");break;case K:r=ft(vt(l),s.precision),h=e._innerConvertToPixel(dt(r)),r=lt(r,a);break;default:r=lt(l,a),o&&(r=ht(r))}h>u&&e._height-u>h&&(c&&c-h>2*u||!c)&&(n.push({v:r,y:h}),c=h)})),n}},{key:"_innerConvertToPixel",value:function(t){return Math.round((1-(t-this._minValue)/this._range)*this._height)}},{key:"isCandleYAxis",value:function(){return this._isCandleYAxis}},{key:"yAxisType",value:function(){return this._isCandleYAxis?this._chartData.styleOptions().yAxis.type:W}},{key:"isFromYAxisZero",value:function(){var t=this._chartData.styleOptions().yAxis;return t.position===H&&t.inside||t.position===U&&!t.inside}},{key:"getSelfWidth",value:function(){var t=this,e=this._chartData.styleOptions(),n=e.yAxis,i=n.width;if(R(i))return i;var r=0;if(n.show&&(n.axisLine.show&&(r+=n.axisLine.size),n.tickLine.show&&(r+=n.tickLine.length),n.tickText.show)){var a=0;this._measureCtx.font=Yt(n.tickText.size,n.tickText.weight,n.tickText.family),this._ticks.forEach((function(e){a=Math.max(a,Wt(t._measureCtx,e.v))})),r+=n.tickText.paddingLeft+n.tickText.paddingRight+a}var o=e.crosshair,s=0;if(o.show&&o.horizontal.show&&o.horizontal.text.show){var c=this._chartData.technicalIndicatorStore().instances(this._paneId),u=0,l=!1;c.forEach((function(t){u=Math.max(t.precision,u),l||(l=t.shouldFormatBigNumber)})),this._measureCtx.font=Yt(o.horizontal.text.size,o.horizontal.text.weight,o.horizontal.text.family);var h=2;if(this.yAxisType()!==Y)if(this._isCandleYAxis){var f=this._chartData.pricePrecision(),d=e.technicalIndicator.lastValueMark;h=d.show&&d.text.show?Math.max(u,f):f}else h=u;var v=lt(this._maxValue,h);l&&(v=ht(v)),s+=o.horizontal.text.paddingLeft+o.horizontal.text.paddingRight+2*o.horizontal.text.borderSize+Wt(this._measureCtx,v)}return Math.max(r,s)}},{key:"convertFromPixel",value:function(t){var e=(1-t/this._height)*this._range+this._minValue;switch(this.yAxisType()){case Y:var n=(this._chartData.visibleDataList()[0]||{}).data||{};if(R(n.close))return n.close*e/100+n.close;break;case K:return vt(e);default:return e}}},{key:"convertToPixel",value:function(t){var e;switch(this.yAxisType()){case Y:var n=(this._chartData.visibleDataList()[0]||{}).data||{};R(n.close)&&(e=(t-n.close)/n.close*100);break;case K:e=dt(t);break;default:e=t}return this._innerConvertToPixel(e)}},{key:"convertToNicePixel",value:function(t){var e=this.convertToPixel(t);return Math.round(Math.max(.05*this._height,Math.min(e,.98*this._height)))}}]),n}(xe),ke=function(t){k(n,t);var e=C(n);function n(t){var i;return g(this,n),i=e.call(this,t),"height"in t&&i.setHeight(t.height),i}return x(n,[{key:"_initBefore",value:function(t){this._id=t.id,this._yAxis=this._createYAxis(t)}},{key:"_createYAxis",value:function(t){return new we(t.chartData,!1,t.id)}},{key:"_createMainWidget",value:function(t,e){return new fe({container:t,chartData:e.chartData,xAxis:e.xAxis,yAxis:this._yAxis,paneId:e.id})}},{key:"_createYAxisWidget",value:function(t,e){return new _e({container:t,chartData:e.chartData,yAxis:this._yAxis,paneId:e.id})}},{key:"setHeight",value:function(t){E(b(n.prototype),"setHeight",this).call(this,t),this._yAxis.setHeight(t)}},{key:"setWidth",value:function(t,e){E(b(n.prototype),"setWidth",this).call(this,t,e),this._yAxis.setWidth(e)}},{key:"id",value:function(){return this._id}},{key:"yAxis",value:function(){return this._yAxis}}]),n}(ae),be=function(t){k(n,t);var e=C(n);function n(){return g(this,n),e.apply(this,arguments)}return x(n,[{key:"_drawContent",value:function(){var t=this._chartData.styleOptions().candle;this._drawLastPriceLine(t.priceMark),t.type===Z?this._drawArea(t):(this._drawLowHighPrice(t.priceMark,"high","high",Number.MIN_SAFE_INTEGER,[-2,-5],(function(t,e){if(t>e)return t})),this._drawLowHighPrice(t.priceMark,"low","low",Number.MAX_SAFE_INTEGER,[2,5],(function(t,e){if(e>t)return t})),this._drawCandle(t)),this._drawTechs(),this._drawGrid()}},{key:"_drawArea",value:function(t){var e=this,n=[],i=[],r=Number.MAX_SAFE_INTEGER,a=t.area;this._drawGraphics((function(t,o,s,c,u,l){var h=s[a.value];if(R(h)){var f=e._yAxis.convertToPixel(h);if(0===l){var d=t-c;i.push({x:d,y:e._height}),i.push({x:d,y:f}),n.push({x:d,y:f})}n.push({x:t,y:f}),i.push({x:t,y:f}),r=Math.min(r,f)}}),(function(){var t=i.length;if(t>0){var o=i[t-1],s=e._chartData.timeScaleStore().halfBarSpace(),c=o.x+s;n.push({x:c,y:o.y}),i.push({x:c,y:o.y}),i.push({x:c,y:e._height})}if(n.length>0&&(e._ctx.lineWidth=a.lineSize,e._ctx.strokeStyle=a.lineColor,Ht(e._ctx,n)),i.length>0){var u=a.backgroundColor;if(L(u)){var l=e._ctx.createLinearGradient(0,e._height,0,r);try{u.forEach((function(t){l.addColorStop(t.offset,t.color)}))}catch(t){}e._ctx.fillStyle=l}else e._ctx.fillStyle=u;Nt(e._ctx,i)}}))}},{key:"_drawCandle",value:function(t){var e=this;this._drawGraphics((function(n,i,r,a,o){e._drawCandleBar(n,a,o,i,r,t.bar,t.type)}))}},{key:"_drawLowHighPrice",value:function(t,e,n,i,r,a){var o=t[e];if(t.show&&o.show){var s=this._chartData.visibleDataList(),c=i,u=-1;s.forEach((function(t){var e=t.index,r=a(ct(t.data,n,i),c);r&&(c=r,u=e)}));var l=this._chartData.pricePrecision(),h=this._yAxis.convertToPixel(c),f=this._xAxis.convertToPixel(u),d=h+r[0];this._ctx.textAlign="left",this._ctx.lineWidth=1,this._ctx.strokeStyle=o.color,this._ctx.fillStyle=o.color,Ht(this._ctx,[{x:f-2,y:d+r[0]},{x:f,y:d},{x:f+2,y:d+r[0]}]);var v=d+r[1];Ht(this._ctx,[{x:f,y:d},{x:f,y:v},{x:f+5,y:v}]),this._ctx.font=Yt(o.textSize,o.textWeight,o.textFamily);var p=lt(c,l);this._ctx.textBaseline="middle",this._ctx.fillText(p,f+5+o.textMargin,v)}}},{key:"_drawLastPriceLine",value:function(t){var e=t.last;if(t.show&&e.show&&e.line.show){var n=this._chartData.dataList(),i=n[n.length-1];if(i){var r,a=i.close,o=i.open,s=this._yAxis.convertToNicePixel(a);r=a>o?e.upColor:o>a?e.downColor:e.noChangeColor,this._ctx.save(),this._ctx.strokeStyle=r,this._ctx.lineWidth=e.line.size,e.line.style===V&&this._ctx.setLineDash(e.line.dashValue),Vt(this._ctx,s,0,this._width),this._ctx.restore()}}}}]),n}(ue),Se=function(t){k(n,t);var e=C(n);function n(){return g(this,n),e.apply(this,arguments)}return x(n,[{key:"_drawTooltip",value:function(t,e){var n=this._chartData.styleOptions(),i=n.candle,r=i.tooltip,a=n.technicalIndicator,o=a.tooltip,s=this._shouldDrawTooltip(t,r),c=this._shouldDrawTooltip(t,o);r.showType===G&&o.showType===G?this._drawCandleTooltipWithRect(t,e,i,s,a,c):r.showType===J?(this._drawCandleTooltipWithStandard(t.kLineData,i,s),o.showType===J?this._drawBatchTechToolTip(t,e,a,s?r.text.size+r.text.marginTop:0,c):this._drawCandleTooltipWithRect(t,e,i,!1,a,c)):(this._drawCandleTooltipWithRect(t,e,i,s,a,!1),this._drawBatchTechToolTip(t,e,a,0,c))}},{key:"_drawCandleTooltipWithStandard",value:function(t,e,n){var i=this;if(n){var r=this._getCandleTooltipData(t,e),a=e.tooltip,o=a.text.marginLeft,s=a.text.marginRight,c=a.text.size,u=a.text.color,l=a.labels;this._ctx.textBaseline="top",this._ctx.font=Yt(c,a.text.weight,a.text.family);var h=o,f=a.text.marginTop;l.forEach((function(t,e){var n=Wt(i._ctx,t);le(i._ctx,u,h,f,t),h+=n;var c,l,d=r[e]||a.defaultValue;M(d)?(c=d.value||a.defaultValue,l=d.color||u):(l=u,c=d);var v=Wt(i._ctx,c);le(i._ctx,l,h,f,c),h+=v+o+s}))}}},{key:"_drawCandleTooltipWithRect",value:function(t,e,n,i,r,a){var o=this;if(i||a){var s=n.tooltip,c=s.labels,u=this._getCandleTooltipData(t.kLineData,n),l=s.text.marginLeft,h=s.text.marginRight,f=s.text.marginTop,d=s.text.marginBottom,v=s.text.size,p=s.text.color,m=s.rect,y=m.borderSize,g=m.paddingLeft,_=m.paddingRight,x=m.paddingTop,w=m.paddingBottom,k=m.offsetLeft,b=m.offsetRight,S=0,I=0,C=0;this._ctx.save(),this._ctx.textBaseline="top",i&&(this._ctx.font=Yt(v,s.text.weight,s.text.family),c.forEach((function(t,e){var n,i=u[e];n=M(i)?i.value||s.defaultValue:i;var r="".concat(t).concat(n),a=Wt(o._ctx,r)+l+h;S=Math.max(S,a)})),C+=(d+f+v)*c.length);var E=r.tooltip,D=E.text.marginLeft,T=E.text.marginRight,A=E.text.marginTop,P=E.text.marginBottom,L=E.text.size,O=[],R=this._chartData.dataList();if(e.forEach((function(e){var n=e.result;O.push({name:e.name,tooltipData:St(n[t.dataIndex],e),cbData:{prev:{kLineData:R[t.dataIndex-1],technicalIndicatorData:n[t.dataIndex-1]},current:{kLineData:R[t.dataIndex],technicalIndicatorData:n[t.dataIndex]},next:{kLineData:R[t.dataIndex+1],technicalIndicatorData:n[t.dataIndex+1]}}})})),a&&(this._ctx.font=Yt(L,E.text.weight,E.text.family),O.forEach((function(t){t.tooltipData.values.forEach((function(t){var e=t.title,n=t.value;if($(e)){var i=n||E.defaultValue,r="".concat(e).concat(i),a=Wt(o._ctx,r)+D+T;S=Math.max(S,a),C+=A+P+L}}))}))),0!==(I+=S)&&0!==C){var B;I+=2*y+g+_;var j=m.offsetTop,F=m.borderRadius;pe(this._ctx,m.backgroundColor,B=this._width/2>t.realX?this._width-b-I:k,j,I,C+=2*y+x+w,F),ve(this._ctx,m.borderColor,y,B,j,I,C,F);var N=B+y+g+l,V=j+y+x;if(i&&(this._ctx.font=Yt(v,s.text.weight,s.text.family),c.forEach((function(t,e){V+=f,o._ctx.textAlign="left",le(o._ctx,p,N,V,t);var n,i,r=u[e];M(r)?(i=r.color||p,n=r.value||s.defaultValue):(i=p,n=r||s.defaultValue),o._ctx.textAlign="right",le(o._ctx,i,B+I-y-h-_,V,n),V+=v+d}))),a){var z=this._chartData.styleOptions().technicalIndicator,H=B+y+g+D;this._ctx.font=Yt(L,E.text.weight,E.text.family),O.forEach((function(t){var n,i=t.tooltipData,r=t.cbData,a=e.get(t.name),s=a.styles||z,c=s.line.colors,u=c.length,l=0;a.plots.forEach((function(t,e){switch(t.type){case wt:n=t.color&&t.color(r,s)||s.circle.noChangeColor;break;case xt:n=t.color&&t.color(r,s)||s.bar.noChangeColor;break;case _t:n=c[l%u]||s.text.color,l++}var a=i.values[e];$(a.title)&&(V+=A,o._ctx.textAlign="left",o._ctx.fillStyle=n,o._ctx.fillText("".concat(a.title),H,V),o._ctx.textAlign="right",o._ctx.fillText(a.value||E.defaultValue,B+I-y-T-_,V),V+=L+P)}))}))}this._ctx.restore()}}}},{key:"_getCandleTooltipData",value:function(t,e){var n=this,i=e.tooltip.values,r=[];if(i)O(i)?r=i(t,e)||[]:L(i)&&(r=i);else{var a=this._chartData.pricePrecision(),o=this._chartData.volumePrecision();(r=[ct(t,"timestamp"),ct(t,"open"),ct(t,"close"),ct(t,"high"),ct(t,"low"),ct(t,"volume")]).forEach((function(t,e){switch(e){case 0:r[e]=ut(n._chartData.timeScaleStore().dateTimeFormat(),t,"YYYY-MM-DD hh:mm");break;case r.length-1:r[e]=ht(lt(t,o));break;default:r[e]=lt(t,a)}}))}return r}}]),n}(he),Ie=function(t){k(n,t);var e=C(n);function n(){return g(this,n),e.apply(this,arguments)}return x(n,[{key:"_createMainView",value:function(t,e){return new be(t,e.chartData,e.xAxis,e.yAxis,e.paneId)}},{key:"_createOverlayView",value:function(t,e){return new Se(t,e.chartData,e.xAxis,e.yAxis,e.paneId)}}]),n}(fe),Ce=function(t){k(n,t);var e=C(n);function n(){return g(this,n),e.apply(this,arguments)}return x(n,[{key:"_createYAxis",value:function(t){return new we(t.chartData,!0,t.id)}},{key:"_createMainWidget",value:function(t,e){return new Ie({container:t,chartData:e.chartData,xAxis:e.xAxis,yAxis:this._yAxis,paneId:e.id})}}]),n}(ke),Ee=function(t){k(n,t);var e=C(n);function n(t,i,r){var a;return g(this,n),(a=e.call(this,t,i))._xAxis=r,a}return x(n,[{key:"_draw",value:function(){var t=this._chartData.styleOptions().xAxis;t.show&&(this._drawAxisLine(t),this._drawTickLines(t),this._drawTickLabels(t))}},{key:"_drawAxisLine",value:function(t){var e=t.axisLine;e.show&&(this._ctx.strokeStyle=e.color,this._ctx.lineWidth=e.size,Vt(this._ctx,0,0,this._width))}},{key:"_drawTickLines",value:function(t){var e=this,n=t.tickLine;if(n.show){this._ctx.lineWidth=n.size,this._ctx.strokeStyle=n.color;var i=t.axisLine.show?t.axisLine.size:0,r=i+n.length;this._xAxis.ticks().forEach((function(t){zt(e._ctx,t.x,i,r)}))}}},{key:"_drawTickLabels",value:function(t){var e=t.tickText;if(e.show){var n=t.tickLine;this._ctx.textBaseline="top",this._ctx.font=Yt(e.size,e.weight,e.family),this._ctx.textAlign="center",this._ctx.fillStyle=e.color;var i=e.paddingTop;t.axisLine.show&&(i+=t.axisLine.size),n.show&&(i+=n.length);for(var r=this._xAxis.ticks(),a=r.length,o=0;a>o;o++)this._ctx.fillText(r[o].v,r[o].x,i)}}}]),n}(ce),De=function(t){k(n,t);var e=C(n);function n(t,i,r){var a;return g(this,n),(a=e.call(this,t,i))._xAxis=r,a}return x(n,[{key:"_draw",value:function(){this._drawCrosshairLabel()}},{key:"_drawCrosshairLabel",value:function(){var t=this._chartData.crosshairStore().get();if(t.paneId){var e=this._chartData.styleOptions().crosshair,n=e.vertical,i=n.text;if(e.show&&n.show&&i.show&&t.dataIndex===t.realDataIndex){var r=t.realX,a=t.kLineData.timestamp,o=ut(this._chartData.timeScaleStore().dateTimeFormat(),a,"YYYY-MM-DD hh:mm"),s=i.size;this._ctx.font=Yt(s,i.weight,i.family);var c=Wt(this._ctx,o),u=r-c/2,l=i.paddingLeft,h=i.paddingRight,f=i.paddingTop,d=i.borderSize;l+d>u?u=l+d:u>this._width-c-d-h&&(u=this._width-c-d-h),de(this._ctx,i.backgroundColor,i.borderColor,d,u-d-l,0,c+2*d+h+l,s+2*d+f+i.paddingBottom,i.borderRadius),this._ctx.textBaseline="top",le(this._ctx,i.color,u,d+f,o)}}}}]),n}(ce),Te=function(t){k(n,t);var e=C(n);function n(){return g(this,n),e.apply(this,arguments)}return x(n,[{key:"_createMainView",value:function(t,e){return new Ee(t,e.chartData,e.xAxis)}},{key:"_createOverlayView",value:function(t,e){return new De(t,e.chartData,e.xAxis)}}]),n}(oe),Ae=function(t){k(n,t);var e=C(n);function n(){return g(this,n),e.apply(this,arguments)}return x(n,[{key:"_computeMinMax",value:function(){return{min:this._chartData.timeScaleStore().from(),max:this._chartData.timeScaleStore().to()-1}}},{key:"_optimalMinMax",value:function(t){var e=t.min,n=t.max;return{min:e,max:n,range:n-e+1}}},{key:"_optimalTicks",value:function(t){var e=[],n=t.length,i=this._chartData.dataList();if(n>0){var r=this._chartData.timeScaleStore().dateTimeFormat(),a=this._chartData.styleOptions().xAxis.tickText;this._measureCtx.font=Yt(a.size,a.weight,a.family);var o=Wt(this._measureCtx,"00-00 00:00"),s=this.convertToPixel(parseInt(t[0].v,10)),c=1;if(n>1){var u=this.convertToPixel(parseInt(t[1].v,10)),l=Math.abs(u-s);o>l&&(c=Math.ceil(o/l))}for(var h=0;n>h;h+=c){var f=parseInt(t[h].v,10),d=i[f].timestamp,v=ut(r,d,"hh:mm");0!==h&&(v=this._optimalTickLabel(r,d,i[parseInt(t[h-c].v,10)].timestamp)||v);var p=this.convertToPixel(f);e.push({v:v,x:p,oV:d})}if(1===e.length)e[0].v=ut(r,e[0].oV,"YYYY-MM-DD hh:mm");else{var m=e[0].oV,y=e[1].oV;if(e[2]){var g=e[2].v;/^[0-9]{2}-[0-9]{2}$/.test(g)?e[0].v=ut(r,m,"MM-DD"):/^[0-9]{4}-[0-9]{2}$/.test(g)?e[0].v=ut(r,m,"YYYY-MM"):/^[0-9]{4}$/.test(g)&&(e[0].v=ut(r,m,"YYYY"))}else e[0].v=this._optimalTickLabel(r,m,y)||e[0].v}}return e}},{key:"_optimalTickLabel",value:function(t,e,n){var i=ut(t,e,"YYYY"),r=ut(t,e,"YYYY-MM"),a=ut(t,e,"MM-DD");return i!==ut(t,n,"YYYY")?i:r!==ut(t,n,"YYYY-MM")?r:a!==ut(t,n,"MM-DD")?a:null}},{key:"getSelfHeight",value:function(){var t=this._chartData.styleOptions(),e=t.xAxis,n=e.height;if(R(n))return n;var i=t.crosshair,r=0;e.show&&(e.axisLine.show&&(r+=e.axisLine.size),e.tickLine.show&&(r+=e.tickLine.length),e.tickText.show&&(r+=e.tickText.paddingTop+e.tickText.paddingBottom+e.tickText.size));var a=0;return i.show&&i.vertical.show&&i.vertical.text.show&&(a+=i.vertical.text.paddingTop+i.vertical.text.paddingBottom+2*i.vertical.text.borderSize+i.vertical.text.size),Math.max(r,a)}},{key:"convertFromPixel",value:function(t){return this._chartData.timeScaleStore().coordinateToDataIndex(t)}},{key:"convertToPixel",value:function(t){return this._chartData.timeScaleStore().dataIndexToCoordinate(t)}}]),n}(xe),Pe=function(t){k(n,t);var e=C(n);function n(){return g(this,n),e.apply(this,arguments)}return x(n,[{key:"_initBefore",value:function(){this._xAxis=new Ae(this._chartData)}},{key:"_createMainWidget",value:function(t,e){return new Te({container:t,chartData:e.chartData,xAxis:this._xAxis})}},{key:"xAxis",value:function(){return this._xAxis}},{key:"setWidth",value:function(t,e){E(b(n.prototype),"setWidth",this).call(this,t,e),this._xAxis.setWidth(t)}},{key:"setHeight",value:function(t){E(b(n.prototype),"setHeight",this).call(this,t),this._xAxis.setHeight(t)}}]),n}(ae);function Le(t){return t.getBoundingClientRect()||{left:0,top:0}}function Oe(t){return!!t.touches}function Me(t){t.cancelable&&t.preventDefault()}var Re=!!navigator.maxTouchPoints||!!navigator.msMaxTouchPoints||"ontouchstart"in window||!!(window.DocumentTouch&&document instanceof window.DocumentTouch),$e="onorientationchange"in window&&Re;function Be(t,e){var n=t.clientX-e.clientX,i=t.clientY-e.clientY;return Math.sqrt(n*n+i*i)}var je="mouse",Fe="touch",Ne=function(){function t(e,n,i){g(this,t),this._target=e,this._handler=n,this._options=i,this._clickCount=0,this._clickTimeoutId=null,this._longTapTimeoutId=null,this._longTapActive=!1,this._mouseMoveStartPosition=null,this._moveExceededManhattanDistance=!1,this._cancelClick=!1,this._unsubscribeOutsideEvents=null,this._unsubscribeMousemove=null,this._unsubscribeRoot=null,this._startPinchMiddleCoordinate=null,this._startPinchDistance=0,this._pinchPrevented=!1,this._preventDragProcess=!1,this._mousePressed=!1,this._init()}return x(t,[{key:"destroy",value:function(){null!==this._unsubscribeOutsideEvents&&(this._unsubscribeOutsideEvents(),this._unsubscribeOutsideEvents=null),null!==this._unsubscribeMousemove&&(this._unsubscribeMousemove(),this._unsubscribeMousemove=null),null!==this._unsubscribeRoot&&(this._unsubscribeRoot(),this._unsubscribeRoot=null),this._clearLongTapTimeout(),this._resetClickTimeout()}},{key:"_mouseEnterHandler",value:function(t){var e=this;this._unsubscribeMousemove&&this._unsubscribeMousemove();var n=this._mouseMoveHandler.bind(this),i=this._mouseWheelHandler.bind(this);this._unsubscribeMousemove=function(){e._target.removeEventListener("mousemove",n),e._target.removeEventListener("wheel",i)},this._target.addEventListener("mousemove",n),this._target.addEventListener("wheel",i,{passive:!1}),Oe(t)&&this._mouseMoveHandler(t);var r=this._makeCompatEvent(t);this._processEvent(r,this._handler.mouseEnterEvent)}},{key:"_resetClickTimeout",value:function(){null!==this._clickTimeoutId&&clearTimeout(this._clickTimeoutId),this._clickCount=0,this._clickTimeoutId=null}},{key:"_mouseMoveHandler",value:function(t){if(!this._mousePressed||Oe(t)){var e=this._makeCompatEvent(t);this._processEvent(e,this._handler.mouseMoveEvent)}}},{key:"_mouseWheelHandler",value:function(t){var e=this._makeCompatEvent(t);t.localX=e.localX,t.localY=e.localY,this._processEvent(t,this._handler.mouseWheelEvent)}},{key:"_mouseMoveWithDownHandler",value:function(t){if((!("button"in t)||0===t.button)&&null===this._startPinchMiddleCoordinate){var e=Oe(t);if(!this._preventDragProcess||!e){this._pinchPrevented=!0;var n=this._makeCompatEvent(t),i=this._mouseMoveStartPosition,r=Math.abs(i.x-n.pageX),a=Math.abs(i.y-n.pageY),o=r+a>5;if(o||!e){if(o&&!this._moveExceededManhattanDistance&&e){var s=.5*r;a>=s&&!this._options.treatVertTouchDragAsPageScroll||s>a&&!this._options.treatHorzTouchDragAsPageScroll||(this._preventDragProcess=!0)}o&&(this._moveExceededManhattanDistance=!0,this._cancelClick=!0,e&&this._clearLongTapTimeout()),this._preventDragProcess||(this._processEvent(n,this._handler.pressedMouseMoveEvent),e&&Me(t))}}}}},{key:"_mouseUpHandler",value:function(t){if(!("button"in t)||0===t.button){var e=this._makeCompatEvent(t);this._clearLongTapTimeout(),this._mouseMoveStartPosition=null,this._mousePressed=!1,this._unsubscribeRoot&&(this._unsubscribeRoot(),this._unsubscribeRoot=null),Oe(t)&&this._mouseLeaveHandler(t),this._processEvent(e,this._handler.mouseUpEvent),++this._clickCount,this._clickTimeoutId&&this._clickCount>1?(this._processEvent(e,this._handler.mouseDoubleClickEvent),this._resetClickTimeout()):this._cancelClick||this._processEvent(e,this._handler.mouseClickEvent),Oe(t)&&(Me(t),this._mouseLeaveHandler(t),0===t.touches.length&&(this._longTapActive=!1))}}},{key:"_clearLongTapTimeout",value:function(){null!==this._longTapTimeoutId&&(clearTimeout(this._longTapTimeoutId),this._longTapTimeoutId=null)}},{key:"_mouseDownHandler",value:function(t){if(!("button"in t)||0===t.button||2===t.button){var e=this._makeCompatEvent(t);if("button"in t&&2===t.button)this._processEvent(e,this._handler.mouseRightDownEvent);else{this._cancelClick=!1,this._moveExceededManhattanDistance=!1,this._preventDragProcess=!1,Oe(t)&&this._mouseEnterHandler(t),this._mouseMoveStartPosition={x:e.pageX,y:e.pageY},this._unsubscribeRoot&&(this._unsubscribeRoot(),this._unsubscribeRoot=null);var n=this._mouseMoveWithDownHandler.bind(this),i=this._mouseUpHandler.bind(this),r=this._target.ownerDocument.documentElement;this._unsubscribeRoot=function(){r.removeEventListener("touchmove",n),r.removeEventListener("touchend",i),r.removeEventListener("mousemove",n),r.removeEventListener("mouseup",i)},r.addEventListener("touchmove",n,{passive:!1}),r.addEventListener("touchend",i,{passive:!1}),this._clearLongTapTimeout(),Oe(t)&&1===t.touches.length?this._longTapTimeoutId=setTimeout(this._longTapHandler.bind(this,t),600):(r.addEventListener("mousemove",n),r.addEventListener("mouseup",i)),this._mousePressed=!0,this._processEvent(e,this._handler.mouseDownEvent),this._clickTimeoutId||(this._clickCount=0,this._clickTimeoutId=setTimeout(this._resetClickTimeout.bind(this),500))}}}},{key:"_init",value:function(){var t=this;this._target.addEventListener("mouseenter",this._mouseEnterHandler.bind(this)),this._target.addEventListener("touchcancel",this._clearLongTapTimeout.bind(this));var e=this._target.ownerDocument,n=function(e){t._handler.mouseDownOutsideEvent&&(e.target&&t._target.contains(e.target)||t._handler.mouseDownOutsideEvent())};this._unsubscribeOutsideEvents=function(){e.removeEventListener("mousedown",n),e.removeEventListener("touchstart",n)},e.addEventListener("mousedown",n),e.addEventListener("touchstart",n,{passive:!0}),this._target.addEventListener("mouseleave",this._mouseLeaveHandler.bind(this)),this._target.addEventListener("touchstart",this._mouseDownHandler.bind(this),{passive:!0}),$e||this._target.addEventListener("mousedown",this._mouseDownHandler.bind(this)),this._initPinch(),this._target.addEventListener("touchmove",(function(){}),{passive:!1})}},{key:"_initPinch",value:function(){var t=this;void 0===this._handler.pinchStartEvent&&void 0===this._handler.pinchEvent&&void 0===this._handler.pinchEndEvent||(this._target.addEventListener("touchstart",(function(e){return t._checkPinchState(e.touches)}),{passive:!0}),this._target.addEventListener("touchmove",(function(e){if(2===e.touches.length&&null!==t._startPinchMiddleCoordinate&&void 0!==t._handler.pinchEvent){var n=Be(e.touches[0],e.touches[1]);t._handler.pinchEvent(t._startPinchMiddleCoordinate,n/t._startPinchDistance),Me(e)}}),{passive:!1}),this._target.addEventListener("touchend",(function(e){t._checkPinchState(e.touches)})))}},{key:"_checkPinchState",value:function(t){1===t.length&&(this._pinchPrevented=!1),2!==t.length||this._pinchPrevented||this._longTapActive?this._stopPinch():this._startPinch(t)}},{key:"_startPinch",value:function(t){var e=Le(this._target);this._startPinchMiddleCoordinate={x:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,y:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this._startPinchDistance=Be(t[0],t[1]),void 0!==this._handler.pinchStartEvent&&this._handler.pinchStartEvent(),this._clearLongTapTimeout()}},{key:"_stopPinch",value:function(){null!==this._startPinchMiddleCoordinate&&(this._startPinchMiddleCoordinate=null,void 0!==this._handler.pinchEndEvent&&this._handler.pinchEndEvent())}},{key:"_mouseLeaveHandler",value:function(t){this._unsubscribeMousemove&&this._unsubscribeMousemove();var e=this._makeCompatEvent(t);this._processEvent(e,this._handler.mouseLeaveEvent)}},{key:"_longTapHandler",value:function(t){var e=this._makeCompatEvent(t);this._processEvent(e,this._handler.longTapEvent),this._cancelClick=!0,this._longTapActive=!0}},{key:"_processEvent",value:function(t,e){e&&e.call(this._handler,t)}},{key:"_makeCompatEvent",value:function(t){var e;e="touches"in t&&t.touches.length?t.touches[0]:"changedTouches"in t&&t.changedTouches.length?t.changedTouches[0]:t;var n=Le(this._target);return{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY,localX:e.clientX-n.left,localY:e.clientY-n.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,type:t.type.startsWith("mouse")?je:Fe,target:e.target,view:t.view}}}]),t}(),Ve=function(){function t(e,n,i,r,a,o){g(this,t),this._chartData=n,this._topPaneId=i,this._bottomPaneId=r,this._dragEnabled=a,this._width=0,this._offsetLeft=0,this._dragEventHandler=o,this._dragFlag=!1,this._initElement(e),this._initEvent(a)}return x(t,[{key:"_initElement",value:function(t){this._container=t,this._wrapper=re("div",{margin:"0",padding:"0",position:"relative"}),this._element=re("div",{width:"100%",height:"7px",margin:"0",padding:"0",position:"absolute",top:"-3px",zIndex:"20"}),this._wrapper.appendChild(this._element);var e=t.lastChild;e?t.insertBefore(this._wrapper,e):t.appendChild(this._wrapper)}},{key:"_initEvent",value:function(t){t&&(this._element.style.cursor="ns-resize",this._dragEvent=new Ne(this._element,{mouseDownEvent:this._mouseDownEvent.bind(this),mouseUpEvent:this._mouseUpEvent.bind(this),pressedMouseMoveEvent:this._pressedMouseMoveEvent.bind(this),mouseEnterEvent:this._mouseEnterEvent.bind(this),mouseLeaveEvent:this._mouseLeaveEvent.bind(this)},{treatVertTouchDragAsPageScroll:!1,treatHorzTouchDragAsPageScroll:!0}))}},{key:"_mouseDownEvent",value:function(t){this._dragFlag=!0,this._startY=t.pageY,this._dragEventHandler.startDrag(this._topPaneId,this._bottomPaneId)}},{key:"_mouseUpEvent",value:function(){this._dragFlag=!1,this._chartData.setDragPaneFlag(!1)}},{key:"_pressedMouseMoveEvent",value:function(t){this._dragEventHandler.drag(t.pageY-this._startY,this._topPaneId,this._bottomPaneId),this._chartData.setDragPaneFlag(!0),this._chartData.crosshairStore().set()}},{key:"_mouseEnterEvent",value:function(){var t=this._chartData.styleOptions().separator;this._element.style.background=t.activeBackgroundColor,this._chartData.setDragPaneFlag(!0),this._chartData.crosshairStore().set()}},{key:"_mouseLeaveEvent",value:function(){this._dragFlag||(this._element.style.background=null,this._chartData.setDragPaneFlag(!1))}},{key:"height",value:function(){return this._wrapper.offsetHeight}},{key:"setSize",value:function(t,e){this._offsetLeft=t,this._width=e,this.invalidate()}},{key:"setDragEnabled",value:function(t){t!==this._dragEnabled&&(this._dragEnabled=t,t?!this._dragEvent&&this._initEvent(t):(this._element.style.cursor="default",this._dragEvent&&this._dragEvent.destroy(),this._dragEvent=null))}},{key:"topPaneId",value:function(){return this._topPaneId}},{key:"bottomPaneId",value:function(){return this._bottomPaneId}},{key:"updatePaneId",value:function(t,e){$(t)&&(this._topPaneId=t),$(e)&&(this._bottomPaneId=e)}},{key:"invalidate",value:function(){var t=this._chartData.styleOptions().separator;this._element.style.top="".concat(-Math.floor((7-t.size)/2),"px"),this._wrapper.style.backgroundColor=t.color,this._wrapper.style.height="".concat(t.size,"px"),this._wrapper.style.marginLeft="".concat(t.fill?0:this._offsetLeft,"px"),this._wrapper.style.width=t.fill?"100%":"".concat(this._width,"px")}},{key:"getImage",value:function(){var t=this._chartData.styleOptions().separator,e=this._wrapper.offsetWidth,n=t.size,i=re("canvas",{width:"".concat(e,"px"),height:"".concat(n,"px")}),r=i.getContext("2d"),a=Ut(i);return i.width=e*a,i.height=n*a,r.scale(a,a),r.fillStyle=t.color,r.fillRect(this._offsetLeft,0,e,n),i}},{key:"destroy",value:function(){this._dragEvent&&this._dragEvent.destroy(),this._container.removeChild(this._wrapper)}}]),t}();function ze(t){return t.type===Fe}function He(t){return t.type===je}var Ue=function t(e){g(this,t),this._chartData=e},We=function(t){k(n,t);var e=C(n);function n(t){var i;return g(this,n),(i=e.call(this,t))._startScrollCoordinate={},i._touchCoordinate=null,i._touchCancelCrosshair=!1,i._touchZoomed=!1,i._pinchScale=1,i}return x(n,[{key:"pinchStartEvent",value:function(){this._pinchScale=1,this._touchZoomed=!0}},{key:"pinchEvent",value:function(t,e){var n=5*(e-this._pinchScale);this._pinchScale=e,this._chartData.timeScaleStore().zoom(n,t)}},{key:"mouseLeaveEvent",value:function(t){He(t)&&this._chartData.crosshairStore().set()}},{key:"mouseMoveEvent",value:function(t){He(t)&&this._chartData.crosshairStore().set({x:t.localX,y:t.paneY,paneId:t.paneId})}},{key:"mouseWheelEvent",value:function(t){if(Math.abs(t.deltaX)>Math.abs(t.deltaY)){if(t.cancelable&&t.preventDefault(),0===Math.abs(t.deltaX))return;this._chartData.timeScaleStore().startScroll(),this._chartData.timeScaleStore().scroll(-t.deltaX)}else{var e=-t.deltaY/100;if(0===e)return;switch(t.cancelable&&t.preventDefault(),t.deltaMode){case t.DOM_DELTA_PAGE:e*=120;break;case t.DOM_DELTA_LINE:e*=32}if(0!==e){var n=Math.sign(e)*Math.min(1,Math.abs(e));this._chartData.timeScaleStore().zoom(n,{x:t.localX,y:t.localY})}}}},{key:"mouseClickEvent",value:function(t){ze(t)&&(this._touchCoordinate||this._touchCancelCrosshair||this._touchZoomed||(this._touchCoordinate={x:t.localX,y:t.localY},this._chartData.crosshairStore().set({x:t.localX,y:t.paneY,paneId:t.paneId})))}},{key:"mouseDownEvent",value:function(t){if(this._startScrollCoordinate={x:t.localX,y:t.localY},this._chartData.timeScaleStore().startScroll(),ze(t))if(this._touchZoomed=!1,this._touchCoordinate){var e=t.localX-this._touchCoordinate.x,n=t.localY-this._touchCoordinate.y;10>Math.sqrt(e*e+n*n)?(this._touchCoordinate={x:t.localX,y:t.localY},this._chartData.crosshairStore().set({x:t.localX,y:t.paneY,paneId:t.paneId})):(this._touchCancelCrosshair=!0,this._touchCoordinate=null,this._chartData.crosshairStore().set())}else this._touchCancelCrosshair=!1}},{key:"pressedMouseMoveEvent",value:function(t){var e={x:t.localX,y:t.paneY,paneId:t.paneId};if(ze(t)){if(this._touchCoordinate)return this._touchCoordinate={x:t.localX,y:t.localY},void this._chartData.crosshairStore().set(e);e=null}var n=t.localX-this._startScrollCoordinate.x;this._chartData.timeScaleStore().scroll(n,e)}},{key:"longTapEvent",value:function(t){ze(t)&&(this._touchCoordinate={x:t.localX,y:t.localY},this._chartData.crosshairStore().set({x:t.localX,y:t.paneY,paneId:t.paneId}))}}]),n}(Ue),Ye=function(t){k(n,t);var e=C(n);function n(t,i){var r;return g(this,n),(r=e.call(this,t))._yAxis=i,r}return x(n,[{key:"_performOverlayMouseHover",value:function(t,e,n,i){var r;if(t){var a,o=T(t);try{for(o.s();!(a=o.n()).done&&!(r=a.value.checkEventCoordinateOn(n)););}catch(t){o.e(t)}finally{o.f()}r&&e.id===r.id||(e.id&&e.instance&&He(i)&&e.instance.onMouseLeave({id:e.id,points:e.instance.points(),event:i}),r&&r.id!==e.id&&r.instance&&He(i)&&r.instance.onMouseEnter({id:r.id,points:r.instance.points(),event:i}))}return r}},{key:"mouseUpEvent",value:function(){this._chartData.shapeStore().updatePressedInstance()}},{key:"mouseMoveEvent",value:function(t){if(this._waitingForMouseMove)return!1;this._waitingForMouseMove=!0;var e,n,i,r={x:t.localX,y:t.paneY},a=this._chartData.shapeStore().progressInstance(),o=a.paneId,s=a.instance;if(s&&s.isDrawing())t.paneId&&(s.isStart()&&this._chartData.shapeStore().updateProgressInstance(this._yAxis(t.paneId),t.paneId),o===t.paneId&&s.mouseMoveForDrawing(r,t),e=s.checkEventCoordinateOn(r)),n={id:"",element:qt,elementIndex:-1};else{var c=this._chartData.annotationStore().get(t.paneId),u=this._chartData.shapeStore().instances(t.paneId),l=this._chartData.shapeStore().mouseOperate().hover,h=this._chartData.annotationStore().mouseOperate();e=this._performOverlayMouseHover(u,l,r,t),i=this._performOverlayMouseHover(c,h,r,t)}this._chartData.shapeStore().setMouseOperate({hover:e||{id:"",element:qt,elementIndex:-1},click:n}),this._chartData.annotationStore().setMouseOperate(i||{id:""}),this._waitingForMouseMove=!1}},{key:"mouseDownEvent",value:function(t){var e,n={x:t.localX,y:t.paneY},i=this._chartData.shapeStore().progressInstance(),r=i.instance,a=i.paneId,o={id:"",element:qt,elementIndex:-1};if(r&&r.isDrawing()&&a===t.paneId)r.mouseLeftButtonDownForDrawing(),e=r.checkEventCoordinateOn(n);else{var s,c=T(this._chartData.shapeStore().instances(t.paneId));try{for(c.s();!(s=c.n()).done;){var u=s.value;if(e=u.checkEventCoordinateOn(n)){this._chartData.shapeStore().updatePressedInstance(u,t.paneId,e.element),e.element===Kt?o=m({},e):u.startPressedOtherMove(n),u.onClick({id:e.id,points:u.points(),event:t});break}}}catch(t){c.e(t)}finally{c.f()}var l=this._chartData.annotationStore().get(t.paneId);if(l){var h,f=T(l);try{for(f.s();!(h=f.n()).done;){var d=h.value,v=d.checkEventCoordinateOn(n);if(v){d.onClick({id:v.id,points:d.points(),event:t});break}}}catch(t){f.e(t)}finally{f.f()}}}this._chartData.shapeStore().setMouseOperate({hover:o,click:e||{id:"",element:qt,elementIndex:-1}})&&this._chartData.invalidate(1)}},{key:"mouseRightDownEvent",value:function(t){var e;(e=this._chartData.shapeStore().progressInstance().instance||this._chartData.shapeStore().instances(t.paneId).find((function(e){return e.checkEventCoordinateOn({x:t.localX,y:t.paneY})})))&&!e.onRightClick({id:e.id(),points:e.points(),event:t})&&this._chartData.shapeStore().removeInstance(e.id());var n=this._chartData.annotationStore().get(t.paneId);if(n){var i=n.find((function(e){return e.checkEventCoordinateOn({x:t.localX,y:t.paneY})}));i&&i.onRightClick({id:i.id(),points:i.points(),event:t})}}},{key:"pressedMouseMoveEvent",value:function(t){var e=this._chartData.shapeStore().pressedInstance(),n=e.instance;if(n&&e.paneId===t.paneId){var i={x:t.localX,y:t.paneY};e.element===Kt?n.mousePressedPointMove(i,t):n.mousePressedOtherMove(i),this._chartData.crosshairStore().set({x:t.localX,y:t.paneY,paneId:t.paneId})}}}]),n}(Ue),Ke=function(t){k(n,t);var e=C(n);function n(){return g(this,n),e.apply(this,arguments)}return x(n,[{key:"keyBoardDownEvent",value:function(t){if(t.shiftKey)switch(t.code){case"Equal":this._chartData.timeScaleStore().zoom(.5);break;case"Minus":this._chartData.timeScaleStore().zoom(-.5);break;case"ArrowLeft":this._chartData.timeScaleStore().startScroll(),this._chartData.timeScaleStore().scroll(-3*this._chartData.timeScaleStore().dataSpace());break;case"ArrowRight":this._chartData.timeScaleStore().startScroll(),this._chartData.timeScaleStore().scroll(3*this._chartData.timeScaleStore().dataSpace())}}}]),n}(Ue),qe=function(){function t(e,n,i){g(this,t),this._target=e,this._chartData=n,this._chartContentLeftRight={},this._chartContentTopBottom={},this._paneContentSize={},this._event=new Ne(this._target,{pinchStartEvent:this._pinchStartEvent.bind(this),pinchEvent:this._pinchEvent.bind(this),mouseUpEvent:this._mouseUpEvent.bind(this),mouseClickEvent:this._mouseClickEvent.bind(this),mouseDownEvent:this._mouseDownEvent.bind(this),mouseRightDownEvent:this._mouseRightDownEvent.bind(this),mouseLeaveEvent:this._mouseLeaveEvent.bind(this),mouseMoveEvent:this._mouseMoveEvent.bind(this),mouseWheelEvent:this._mouseWheelEvent.bind(this),pressedMouseMoveEvent:this._pressedMouseMoveEvent.bind(this),longTapEvent:this._longTapEvent.bind(this)},{treatVertTouchDragAsPageScroll:!1,treatHorzTouchDragAsPageScroll:!1}),this._boundKeyBoardDownEvent=this._keyBoardDownEvent.bind(this),this._target.addEventListener("keydown",this._boundKeyBoardDownEvent),this._boundContextMenuEvent=function(t){t.preventDefault()},this._target.addEventListener("contextmenu",this._boundContextMenuEvent,!1),this._zoomScrollEventHandler=new We(n),this._overlayEventHandler=new Ye(n,i),this._keyBoardEventHandler=new Ke(n)}return x(t,[{key:"_keyBoardDownEvent",value:function(t){this._keyBoardEventHandler.keyBoardDownEvent(t)}},{key:"_pinchStartEvent",value:function(){this._zoomScrollEventHandler.pinchStartEvent()}},{key:"_pinchEvent",value:function(t,e){this._zoomScrollEventHandler.pinchEvent(t,e)}},{key:"_mouseUpEvent",value:function(t){this._checkEventInChartContent(t)&&(this._target.style.cursor="crosshair"),this._shouldPerformOverlayEvent()&&this._overlayEventHandler.mouseUpEvent(t)}},{key:"_mouseLeaveEvent",value:function(t){this._zoomScrollEventHandler.mouseLeaveEvent(t)}},{key:"_mouseMoveEvent",value:function(t){if(this._checkEventInChartContent(t)){this._target.style.cursor="crosshair";var e=this._compatChartEvent(t,!0);this._shouldPerformOverlayEvent()&&this._overlayEventHandler.mouseMoveEvent(e),this._chartData.dragPaneFlag()||this._zoomScrollEventHandler.mouseMoveEvent(e)}else this._target.style.cursor="default",this._zoomScrollEventHandler.mouseLeaveEvent(t)}},{key:"_mouseWheelEvent",value:function(t){this._checkZoomScroll()&&this._checkEventInChartContent(t)&&this._zoomScrollEventHandler.mouseWheelEvent(this._compatChartEvent(t))}},{key:"_mouseClickEvent",value:function(t){this._checkZoomScroll()&&this._checkEventInChartContent(t)&&this._zoomScrollEventHandler.mouseClickEvent(this._compatChartEvent(t,!0))}},{key:"_mouseDownEvent",value:function(t){if(this._checkEventInChartContent(t)){this._target.style.cursor="pointer";var e=this._compatChartEvent(t,!0);this._shouldPerformOverlayEvent()&&this._overlayEventHandler.mouseDownEvent(e),this._checkZoomScroll()&&this._zoomScrollEventHandler.mouseDownEvent(e)}}},{key:"_mouseRightDownEvent",value:function(t){this._shouldPerformOverlayEvent()&&this._checkEventInChartContent(t)&&this._overlayEventHandler.mouseRightDownEvent(this._compatChartEvent(t,!0))}},{key:"_pressedMouseMoveEvent",value:function(t){if(this._checkEventInChartContent(t)){var e=this._compatChartEvent(t,!0);this._checkZoomScroll()?this._zoomScrollEventHandler.pressedMouseMoveEvent(e):this._overlayEventHandler.pressedMouseMoveEvent(e)}}},{key:"_longTapEvent",value:function(t){this._checkZoomScroll()&&this._checkEventInChartContent(t)&&this._zoomScrollEventHandler.longTapEvent(this._compatChartEvent(t,!0))}},{key:"_checkZoomScroll",value:function(){return!this._chartData.dragPaneFlag()&&!this._chartData.shapeStore().isPressed()&&!this._chartData.shapeStore().isDrawing()}},{key:"_shouldPerformOverlayEvent",value:function(){return!this._chartData.shapeStore().isEmpty()||!this._chartData.annotationStore().isEmpty()}},{key:"_compatChartEvent",value:function(t,e){if(e)for(var n in this._paneContentSize)if(Object.prototype.hasOwnProperty.call(this._paneContentSize,n)){var i=this._paneContentSize[n];if(t.localY>i.contentTop&&i.contentBottom>t.localY){t.paneY=t.localY-i.contentTop,t.paneId=n;break}}return t.localX-=this._chartContentLeftRight.contentLeft,t}},{key:"_checkEventInChartContent",value:function(t){return t.localX>this._chartContentLeftRight.contentLeft&&this._chartContentLeftRight.contentRight>t.localX&&t.localY>this._chartContentTopBottom.contentTop&&this._chartContentTopBottom.contentBottom>t.localY}},{key:"setChartContentLeftRight",value:function(t){this._chartContentLeftRight=t}},{key:"setChartContentTopBottom",value:function(t){this._chartContentTopBottom=t}},{key:"setPaneContentSize",value:function(t){this._paneContentSize=t}},{key:"destroy",value:function(){this._event.destroy(),this._target.removeEventListener("keydown",this._boundKeyBoardDownEvent),this._target.removeEventListener("contextmenu",this._boundContextMenuEvent)}}]),t}();function Ze(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=0;return function(){var i=Date.now(),r=this,a=arguments;i-n>e&&(t.apply(r,a),n=i)}}var Xe=function(t){k(n,t);var e=C(n);function n(t){var i,r=t.id,a=t.point,o=t.chartData,s=t.xAxis,c=t.yAxis,u=t.styles;return g(this,n),(i=e.call(this,{id:r,chartData:o,xAxis:s,yAxis:c}))._point=a,i._symbolCoordinate={},i.setStyles(u,o.styleOptions().annotation),i}return x(n,[{key:"_drawSymbol",value:function(t,e,n){var i=this._chartData.timeScaleStore().barSpace(),r=n.symbol,a=r.size,o=r.activeSize,s=e?R(o)?o:i:R(a)?a:i,c=e?r.activeColor:r.color;switch(r.type){case Q:Dt(t,c,this._symbolCoordinate,s/2);break;case tt:!function(t,e,n,i,r,a){t.fillStyle=e,t.fillRect(n,i,r,a)}(t,c,this._symbolCoordinate.x-s/2,this._symbolCoordinate.y-s/2,s,s);break;case nt:!function(t,e,n,i,r){t.fillStyle=e,t.beginPath(),t.moveTo(n.x-i/2,n.y),t.lineTo(n.x,n.y-r/2),t.lineTo(n.x+i/2,n.y),t.lineTo(n.x,n.y+r/2),t.closePath(),t.fill()}(t,c,this._symbolCoordinate,s,s);break;case et:!function(t,e,n,i,r){t.fillStyle=e,t.beginPath(),t.moveTo(n.x-i/2,n.y+r/2),t.lineTo(n.x,n.y-r/2),t.lineTo(n.x+i/2,n.y+r/2),t.closePath(),t.fill()}(t,c,this._symbolCoordinate,s,s);break;case it:t.save(),this.drawCustomSymbol({ctx:t,point:this._point,coordinate:this._symbolCoordinate,viewport:{width:this._xAxis.width(),height:this._yAxis.height(),barSpace:i},styles:r,isActive:e}),t.restore()}}},{key:"draw",value:function(t){var e=this._styles||this._chartData.styleOptions().annotation,n=e.offset||[0,0],i=0;switch(e.position){case rt:i=this._yAxis.convertToPixel(this._point.value);break;case at:i=0;break;case ot:i=this._yAxis.height()}this._symbolCoordinate.y=i+n[0];var r=this._id===this._chartData.annotationStore().mouseOperate().id;this._drawSymbol(t,r,e),this.drawExtend&&(t.save(),this.drawExtend({ctx:t,point:this._point,coordinate:this._symbolCoordinate,viewport:{width:this._xAxis.width(),height:this._yAxis.height()},styles:e,isActive:r}),t.restore())}},{key:"checkEventCoordinateOn",value:function(t){var e,n,i,r,a,o=this._chartData.timeScaleStore().barSpace(),s=(this._styles||this._chartData.styleOptions().annotation).symbol,c=R(s.size)?s.size:o;switch(s.type){case Q:e=$t(this._symbolCoordinate,c/2,t);break;case tt:e=function(t,e,n){return!(t.x>n.x||n.x>e.x||t.y>n.y||n.y>e.y)}({x:this._symbolCoordinate.x-c/2,y:this._symbolCoordinate.y-c/2},{x:this._symbolCoordinate.x+c/2,y:this._symbolCoordinate.y+c/2},t);break;case nt:e=(i=c)*(r=c)/2+2>Math.abs((n=this._symbolCoordinate).x-(a=t).x)*r+Math.abs(n.y-a.y)*i;break;case et:e=function(t,e){var n=Tt(t[0],t[1],t[2]),i=Tt(t[0],t[1],e)+Tt(t[0],t[2],e)+Tt(t[1],t[2],e);return 2>Math.abs(n-i)}([{x:this._symbolCoordinate.x-c/2,y:this._symbolCoordinate.y+c/2},{x:this._symbolCoordinate.x,y:this._symbolCoordinate.y-c/2},{x:this._symbolCoordinate.x+c/2,y:this._symbolCoordinate.y+c/2}],t);break;case it:e=this.checkEventCoordinateOnCustomSymbol({eventCoordinate:t,coordinate:this._symbolCoordinate,size:c})}if(e)return{id:this._id,instance:this}}},{key:"createSymbolCoordinate",value:function(t){var e=this._styles||this._chartData.styleOptions().annotation;this._symbolCoordinate={x:t+(e.offset||[0,0])[1]}}},{key:"points",value:function(){return this._point}},{key:"checkEventCoordinateOnCustomSymbol",value:function(t){}},{key:"drawCustomSymbol",value:function(t){}}]),n}(Et),Ge=function(t){k(n,t);var e=C(n);function n(t){var i,r=t.id,a=t.point,o=t.text,s=t.mark,c=t.chartData,u=t.xAxis,l=t.yAxis,h=t.styles;return g(this,n),(i=e.call(this,{id:r,chartData:c,xAxis:u,yAxis:l}))._point=a||{},i._text=o,i._mark=s,i.setStyles(h,c.styleOptions().tag),i}return x(n,[{key:"update",value:function(t){var e=t.point,n=t.text,i=t.mark,r=t.styles,a=!1;return M(e)&&(this._point=e,a=!0),$(n)&&(this._text=n,a=!0),$(i)&&(this._mark=i,a=!0),this.setStyles(r,this._chartData.styleOptions().tag)&&(a=!0),a}},{key:"drawMarkLine",value:function(t){var e=this._chartData.styleOptions(),n=e.yAxis,i=this._styles||e.tag,r=this._getY(i);t.save(),this._drawLine(t,r,i.line),this._drawMark(t,r,i,n),t.restore()}},{key:"drawText",value:function(t){if($(this._text)){var e=this._chartData.styleOptions(),n=this._styles||e.tag,i=n.text;t.save(),t.font=Yt(i.size,i.weight,i.family);var r,a=this._getTextRectWidth(t,i),o=i.paddingTop+i.paddingBottom+i.size;r=this._yAxis.isFromYAxisZero()?0:this._yAxis.width()-a;var s=this._getY(n);pe(t,i.backgroundColor,r,s-o/2,a,o,i.borderRadius),le(t,i.color,r+i.paddingLeft,s,this._text),t.restore()}}},{key:"_drawLine",value:function(t,e,n){n.show&&(t.strokeStyle=n.color,t.lineWidth=n.size,n.style===V&&t.setLineDash(n.dashValue),Vt(t,e,0,this._xAxis.width()))}},{key:"_drawMark",value:function(t,e,n,i){if($(this._mark)){var r=n.mark;t.font=Yt(r.size,r.weight,r.family);var a,o=r.paddingLeft+r.paddingRight+Wt(t,this._mark),s=r.paddingTop+r.paddingBottom+r.size;if(i.inside){var c=0;$(this._text)&&(c=this._getTextRectWidth(t,n.text)),a=i.position===H?c:this._xAxis.width()-c-o}else a=i.position===H?0:this._xAxis.width()-o;pe(t,r.backgroundColor,a,e-s/2,o,s,r.borderRadius),t.textBaseline="middle",t.font=Yt(r.size,r.weight,r.family),le(t,r.color,a+r.paddingLeft,e,this._mark)}}},{key:"_getY",value:function(t){var e=t.offset;switch(t.position){case at:return e;case ot:return this._yAxis.height()+e;default:return this._yAxis.convertToNicePixel(this._point.value)+e}}},{key:"_getTextRectWidth",value:function(t,e){return t.font=Yt(e.size,e.weight,e.family),e.paddingLeft+e.paddingRight+Wt(t,this._text)}}]),n}(Et),Je=function(){function t(e,n){var i=this;g(this,t),this._initChartContainer(e),this._shapeBaseId=0,this._paneBaseId=0,this._separatorDragStartTopPaneHeight=0,this._separatorDragStartBottomPaneHeight=0,this._chartData=new ie(n,{invalidate:this._invalidatePane.bind(this),crosshair:this._crosshairObserver.bind(this)}),this._xAxisPane=new Pe({container:this._chartContainer,chartData:this._chartData}),this._panes=new Map([[mt,new Ce({container:this._chartContainer,chartData:this._chartData,xAxis:this._xAxisPane.xAxis(),id:mt})]]),this._separators=new Map,this._chartWidth={},this._chartHeight={},this._chartEvent=new qe(this._chartContainer,this._chartData,(function(t){return i._panes.get(t).yAxis()})),this.adjustPaneViewport(!0,!0,!0)}return x(t,[{key:"_initChartContainer",value:function(t){this._container=t,this._chartContainer=re("div",{userSelect:"none",webkitUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",webkitTapHighlightColor:"transparent",position:"relative",outline:"none",borderStyle:"none",width:"100%",cursor:"crosshair"}),this._chartContainer.tabIndex=1,t.appendChild(this._chartContainer)}},{key:"_crosshairObserver",value:function(t){var e=this,n=t.dataIndex,i=t.kLineData,r=t.x,a=t.y;if(this.chartData().actionStore().has(yt.CROSSHAIR)){var o={};this._panes.forEach((function(t,i){var r={};e.chartData().technicalIndicatorStore().instances(i).forEach((function(t){r[t.name]=t.result[n]})),o[i]=r})),this._chartData.actionStore().execute(yt.CROSSHAIR,{coordinate:{x:r,y:a},dataIndex:n,kLineData:i,technicalIndicatorData:o})}}},{key:"_separatorStartDrag",value:function(t,e){this._separatorDragStartTopPaneHeight=this._panes.get(t).height(),this._separatorDragStartBottomPaneHeight=this._panes.get(e).height()}},{key:"_separatorDrag",value:function(t,e,n){var i=this._separatorDragStartTopPaneHeight+t,r=this._separatorDragStartBottomPaneHeight-t;i>this._separatorDragStartTopPaneHeight+this._separatorDragStartBottomPaneHeight&&(i=this._separatorDragStartTopPaneHeight+this._separatorDragStartBottomPaneHeight,r=0),0>i&&(i=0,r=this._separatorDragStartTopPaneHeight+this._separatorDragStartBottomPaneHeight),this._panes.get(e).setHeight(i),this._panes.get(n).setHeight(r),this._chartData.actionStore().execute(yt.PANE_DRAG,{topPaneId:e,bottomPaneId:n,topPaneHeight:i,bottomPaneHeight:r}),this.adjustPaneViewport(!0,!0,!0,!0,!0)}},{key:"_invalidatePane",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;if(1===t)this._xAxisPane.invalidate(t),this._panes.forEach((function(e){e.invalidate(t)}));else{var e=!1;this._panes.forEach((function(t){var n=t.yAxis().computeAxis();n&&(e=n)})),this.adjustPaneViewport(!1,e,!0)}}},{key:"_measurePaneHeight",value:function(){var t=this,e=this._chartData.styleOptions(),n=this._container.offsetHeight,i=e.separator.size,r=i*this._separators.size,a=this._xAxisPane.xAxis().getSelfHeight(),o=n-a-r,s=0;this._panes.forEach((function(t){if(t.id()!==mt){var e=t.height();s+e>o?(t.setHeight(o-s),s=o):s+=e}}));var c=o-s,u={};u.candle_pane={contentTop:0,contentBottom:c};var l=c,h=c;this._panes.get(mt).setHeight(c),this._chartHeight.candle_pane=c,this._panes.forEach((function(e){if(e.id()!==mt){var n=e.height();h+=n+i,u[e.id()]={contentTop:l,contentBottom:h},t._chartHeight[e.id()]=n,l=h}})),this._xAxisPane.setHeight(a),this._chartHeight.xAxis=a,this._chartHeight.total=n,this._chartEvent.setPaneContentSize(u),this._chartEvent.setChartContentTopBottom({contentTop:0,contentBottom:h})}},{key:"_measurePaneWidth",value:function(){var t,e,n,i=this,r=this._chartData.styleOptions().yAxis,a=r.position===H,o=this._container.offsetWidth,s=Number.MIN_SAFE_INTEGER;r.inside?(t=o,s=o,e=0,n=0):(this._panes.forEach((function(t){s=Math.max(s,t.yAxis().getSelfWidth())})),t=o-s,a?(e=0,n=s):(n=0,e=o-s)),this._chartData.timeScaleStore().setTotalDataSpace(t),this._panes.forEach((function(r,a){r.setWidth(t,s),r.setOffsetLeft(n,e);var o=i._separators.get(a);o&&o.setSize(n,t)})),this._chartWidth={content:t,yAxis:s,total:o},this._xAxisPane.setWidth(t,s),this._xAxisPane.setOffsetLeft(n,e),this._chartEvent.setChartContentLeftRight({contentLeft:n,contentRight:n+t})}},{key:"adjustPaneViewport",value:function(t,e,n,i,r){t&&this._measurePaneHeight();var a=!1;i&&this._panes.forEach((function(t){var e=t.yAxis().computeAxis(r);a||(a=e)})),(!i&&e||i&&a)&&this._measurePaneWidth(),n&&(this._xAxisPane.xAxis().computeAxis(!0),this._xAxisPane.layout(),this._panes.forEach((function(t){t.layout()})))}},{key:"hasPane",value:function(t){return this._panes.has(t)}},{key:"chartData",value:function(){return this._chartData}},{key:"removeTechnicalIndicator",value:function(t,e){var n=this;if(this._chartData.technicalIndicatorStore().removeInstance(t,e)){var i=!1;if(t!==mt&&!this._chartData.technicalIndicatorStore().hasInstance(t)){i=!0,this._panes.get(t).destroy();var r=this._separators.get(t).topPaneId();this._separators.get(t).destroy(),this._panes.delete(t),this._separators.delete(t),this._separators.forEach((function(t){var e=t.topPaneId();n._separators.has(e)||t.updatePaneId(r)}))}this.adjustPaneViewport(i,!0,!0,!0,!0)}}},{key:"createTechnicalIndicator",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this._panes.has(n.id)){var i=!1;return this._chartData.technicalIndicatorStore().addInstance(n.id,t,e)&&(i=this._panes.get(n.id).yAxis().computeAxis()),this.setPaneOptions(n,i),n.id}var r=n.id||"".concat(pt).concat(++this._paneBaseId),a=!B(n.dragEnabled)||n.dragEnabled;this._separators.set(r,new Ve(this._chartContainer,this._chartData,Array.from(this._panes.keys()).pop(),r,a,{startDrag:this._separatorStartDrag.bind(this),drag:Ze(this._separatorDrag.bind(this),50)}));var o=new ke({container:this._chartContainer,chartData:this._chartData,xAxis:this._xAxisPane.xAxis(),id:r,height:n.height||100});return this._panes.set(r,o),this._chartData.technicalIndicatorStore().addInstance(r,t,e),this.adjustPaneViewport(!0,!0,!0,!0,!0),r}},{key:"createShape",value:function(t,e,n){var i=e.points,r=e.styles,a=e.lock,o=e.data,s=e.onDrawStart,c=e.onDrawing,u=e.onDrawEnd,l=e.onClick,h=e.onRightClick,f=e.onPressedMove,d=e.onMouseEnter,v=e.onMouseLeave,p=e.onRemove,m=e.id||"".concat("shape_").concat(++this._shapeBaseId);if(!this._chartData.shapeStore().hasInstance(m)){var y=null;this.hasPane(n)?y=this._panes.get(n).yAxis():i&&i.length>0&&(n=mt,y=this._panes.get(mt).yAxis());var g=new t({id:m,chartData:this._chartData,xAxis:this._xAxisPane.xAxis(),yAxis:y,points:i,styles:r,lock:a,data:o});return O(s)&&s({id:m}),Ct(g,[{key:"onDrawing",fn:c},{key:"onDrawEnd",fn:u},{key:"onClick",fn:l},{key:"onRightClick",fn:h},{key:"onPressedMove",fn:f},{key:"onMouseEnter",fn:d},{key:"onMouseLeave",fn:v},{key:"onRemove",fn:p}]),this._chartData.shapeStore().addInstance(g,n),m}return null}},{key:"createAnnotation",value:function(t,e){var n=this,i=[];t.forEach((function(t){var r=t.point,a=t.styles,o=t.checkEventCoordinateOnCustomSymbol,s=t.drawCustomSymbol,c=t.drawExtend,u=t.onClick,l=t.onRightClick,h=t.onMouseEnter,f=t.onMouseLeave;if(r&&r.timestamp){var d=new Xe({id:r.timestamp,chartData:n._chartData,point:r,xAxis:n._xAxisPane.xAxis(),yAxis:n._panes.get(e).yAxis(),styles:a});Ct(d,[{key:"drawExtend",fn:c},{key:"drawCustomSymbol",fn:s},{key:"checkEventCoordinateOnCustomSymbol",fn:o},{key:"onClick",fn:u},{key:"onRightClick",fn:l},{key:"onMouseEnter",fn:h},{key:"onMouseLeave",fn:f}]),i.push(d)}})),i.length>0&&this._chartData.annotationStore().add(i,e)}},{key:"createTag",value:function(t,e){var n=this,i=[],r=!1,a=!1;t.forEach((function(t){var o=t.id,s=t.point,c=t.text,u=t.mark,l=t.styles;if($(o))if(n._chartData.tagStore().has(o,e)){var h=n._chartData.tagStore().update(o,e,{point:s,text:c,mark:u,styles:l});r||(r=h)}else a=!0,i.push(new Ge({id:o,point:s,text:c,mark:u,styles:l,chartData:n._chartData,xAxis:n._xAxisPane.xAxis(),yAxis:n._panes.get(e).yAxis()}))})),a?this._chartData.tagStore().add(i,e):r&&this._invalidatePane(1)}},{key:"setPaneOptions",value:function(t,e){var n=e,i=!1;if(t.id!==mt){var r=this._panes.get(t.id);r&&(R(t.height)&&t.height>0&&r.height()!==t.height&&(n=!0,r.setHeight(t.height),i=!0),B(t.dragEnabled)&&this._separators.get(t.id).setDragEnabled(t.dragEnabled))}n&&this.adjustPaneViewport(i,!0,!0,!0,!0)}},{key:"setTimezone",value:function(t){this._chartData.timeScaleStore().setTimezone(t),this._xAxisPane.xAxis().computeAxis(!0),this._xAxisPane.invalidate(3)}},{key:"convertToPixel",value:function(t,e){var n,i=this,r=e.paneId,a=void 0===r?mt:r,o=e.absoluteYAxis,s=[].concat(t),c=[],u=this._chartData.styleOptions().separator.size,l=0,h=T(this._panes.values());try{var f=function(){var t=n.value;if(t.id()===a)return c=s.map((function(e){var n=e.timestamp,r=e.value,a={},s=e.dataIndex;if($(n)&&(s=i._chartData.timeScaleStore().timestampToDataIndex(n)),$(s)&&(a.x=i._xAxisPane.xAxis().convertToPixel(s)),$(r)){var c=t.yAxis().convertToPixel(r);a.y=o?l+c:c}return a})),"break";l+=t.height()+u};for(h.s();!(n=h.n()).done&&"break"!==f(););}catch(t){h.e(t)}finally{h.f()}return L(t)?c:c[0]||{}}},{key:"convertFromPixel",value:function(t,e){var n,i=this,r=e.paneId,a=void 0===r?mt:r,o=e.absoluteYAxis,s=[].concat(t),c=[],u=this._chartData.styleOptions().separator.size,l=0,h=T(this._panes.values());try{var f=function(){var t=n.value;if(t.id()===a)return c=s.map((function(e){var n=e.x,r=e.y,a={};if($(n)&&(a.dataIndex=i._xAxisPane.xAxis().convertFromPixel(n),a.timestamp=i._chartData.timeScaleStore().dataIndexToTimestamp(a.dataIndex)),$(r)){var s=o?r-l:r;a.value=t.yAxis().convertFromPixel(s)}return a})),"break";l+=t.height()+u};for(h.s();!(n=h.n()).done&&"break"!==f(););}catch(t){h.e(t)}finally{h.f()}return L(t)?c:c[0]||{}}},{key:"chartWidth",value:function(){return this._chartWidth}},{key:"chartHeight",value:function(){return this._chartHeight}},{key:"getConvertPictureUrl",value:function(t,e,n){var i=this,r=this._chartContainer.offsetWidth,a=this._chartContainer.offsetHeight,o=re("canvas",{width:"".concat(r,"px"),height:"".concat(a,"px")}),s=o.getContext("2d"),c=Ut(o);o.width=r*c,o.height=a*c,s.scale(c,c),s.fillStyle=n,s.fillRect(0,0,r,a);var u=0;return this._panes.forEach((function(e,n){if(n!==mt){var a=i._separators.get(n);s.drawImage(a.getImage(),0,u,r,a.height()),u+=a.height()}s.drawImage(e.getImage(t),0,u,r,e.height()),u+=e.height()})),s.drawImage(this._xAxisPane.getImage(t),0,u,r,this._xAxisPane.height()),o.toDataURL("image/".concat(e))}},{key:"destroy",value:function(){this._panes.forEach((function(t){t.destroy()})),this._separators.forEach((function(t){t.destroy()})),this._panes.clear(),this._separators.clear(),this._xAxisPane.destroy(),this._container.removeChild(this._chartContainer),this._chartEvent.destroy()}}]),t}(),Qe=function(){function t(e,n){g(this,t),this._chartPane=new Je(e,n)}return x(t,[{key:"getWidth",value:function(){return this._chartPane.chartWidth()}},{key:"getHeight",value:function(){return this._chartPane.chartHeight()}},{key:"setStyleOptions",value:function(t){M(t)&&(this._chartPane.chartData().applyStyleOptions(t),this._chartPane.adjustPaneViewport(!0,!0,!0,!0,!0))}},{key:"getStyleOptions",value:function(){return P(this._chartPane.chartData().styleOptions())}},{key:"setPriceVolumePrecision",value:function(t,e){R(t)&&t>=0&&R(e)&&e>=0&&this._chartPane.chartData().setPriceVolumePrecision(t,e)}},{key:"setTimezone",value:function(t){this._chartPane.setTimezone(t)}},{key:"getTimezone",value:function(){return this._chartPane.chartData().timeScaleStore().timezone()}},{key:"resize",value:function(){this._chartPane.adjustPaneViewport(!0,!0,!0,!0,!0)}},{key:"setOffsetRightSpace",value:function(t){R(t)&&this._chartPane.chartData().timeScaleStore().setOffsetRightSpace(t,!0)}},{key:"setLeftMinVisibleBarCount",value:function(t){R(t)&&t>0&&this._chartPane.chartData().timeScaleStore().setLeftMinVisibleBarCount(Math.ceil(t))}},{key:"setRightMinVisibleBarCount",value:function(t){R(t)&&t>0&&this._chartPane.chartData().timeScaleStore().setRightMinVisibleBarCount(Math.ceil(t))}},{key:"setDataSpace",value:function(t){R(t)&&this._chartPane.chartData().timeScaleStore().setDataSpace(t)}},{key:"getDataSpace",value:function(){return this._chartPane.chartData().timeScaleStore().dataSpace()}},{key:"getBarSpace",value:function(){return this._chartPane.chartData().timeScaleStore().barSpace()}},{key:"clearData",value:function(){this._chartPane.chartData().clearDataList()}},{key:"getDataList",value:function(){return this._chartPane.chartData().dataList()}},{key:"applyNewData",value:function(t,e){var n=this;if(L(t)){var i=this._chartPane.chartData();i.clearDataList(),i.addData(t,0,e),Promise.resolve(i.technicalIndicatorStore().calcInstance()).then((function(t){t&&n._chartPane.adjustPaneViewport(!1,!0,!0,!0)}))}}},{key:"applyMoreData",value:function(t,e){var n=this;if(L(t)){var i=this._chartPane.chartData();i.addData(t,0,e),Promise.resolve(i.technicalIndicatorStore().calcInstance()).then((function(t){t&&n._chartPane.adjustPaneViewport(!1,!0,!0,!0)}))}}},{key:"updateData",value:function(t){var e=this;if(M(t)&&!L(t)){var n=this._chartPane.chartData(),i=n.dataList(),r=i.length,a=ct(t,"timestamp",0),o=ct(i[r-1],"timestamp",0);if(a>=o){var s=r;a===o&&(s=r-1),n.addData(t,s),Promise.resolve(n.technicalIndicatorStore().calcInstance()).then((function(t){t&&e._chartPane.adjustPaneViewport(!1,!0,!0,!0)}))}}}},{key:"loadMore",value:function(t){O(t)&&this._chartPane.chartData().timeScaleStore().setLoadMoreCallback(t)}},{key:"createTechnicalIndicator",value:function(t,e,n){if(!$(t))return null;var i=M(t)&&!L(t)?t:{name:t};return this._chartPane.chartData().technicalIndicatorStore().hasTemplate(i.name)?this._chartPane.createTechnicalIndicator(i,e,n):null}},{key:"addTechnicalIndicatorTemplate",value:function(t){if(M(t)){var e=[].concat(t);this._chartPane.chartData().technicalIndicatorStore().addTemplate(e)}}},{key:"overrideTechnicalIndicator",value:function(t,e){var n=this;if(M(t)&&!L(t)){var i=this._chartPane.chartData().technicalIndicatorStore().override(t,e);i&&i.then((function(t){n._chartPane.adjustPaneViewport(!1,!0,!0,!0)}))}}},{key:"getTechnicalIndicatorTemplate",value:function(t){return this._chartPane.chartData().technicalIndicatorStore().getTemplateInfo(t)}},{key:"getTechnicalIndicatorByPaneId",value:function(t,e){return this._chartPane.chartData().technicalIndicatorStore().getInstanceInfo(t,e)}},{key:"removeTechnicalIndicator",value:function(t,e){this._chartPane.removeTechnicalIndicator(t,e)}},{key:"addShapeTemplate",value:function(t){if(M(t)){var e=[].concat(t);this._chartPane.chartData().shapeStore().addTemplate(e)}}},{key:"createShape",value:function(t,e){if(!$(t))return null;var n=M(t)&&!L(t)?t:{name:t},i=this._chartPane.chartData().shapeStore().getTemplate(n.name);return i?this._chartPane.createShape(i,n,e):null}},{key:"getShape",value:function(t){return this._chartPane.chartData().shapeStore().getInstanceInfo(t)}},{key:"setShapeOptions",value:function(t){M(t)&&!L(t)&&this._chartPane.chartData().shapeStore().setInstanceOptions(t)}},{key:"removeShape",value:function(t){this._chartPane.chartData().shapeStore().removeInstance(t)}},{key:"createAnnotation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mt;if(M(t)&&this._chartPane.hasPane(e)){var n=[].concat(t);this._chartPane.createAnnotation(n,e)}}},{key:"removeAnnotation",value:function(t,e){this._chartPane.chartData().annotationStore().remove(t,e)}},{key:"createTag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mt;if(M(t)&&this._chartPane.hasPane(e)){var n=[].concat(t);this._chartPane.createTag(n,e)}}},{key:"removeTag",value:function(t,e){this._chartPane.chartData().tagStore().remove(t,e)}},{key:"setPaneOptions",value:function(t){M(t)&&this._chartPane.setPaneOptions(t,!1)}},{key:"setZoomEnabled",value:function(t){this._chartPane.chartData().timeScaleStore().setZoomEnabled(t)}},{key:"isZoomEnabled",value:function(){return this._chartPane.chartData().timeScaleStore().zoomEnabled()}},{key:"setScrollEnabled",value:function(t){this._chartPane.chartData().timeScaleStore().setScrollEnabled(t)}},{key:"isScrollEnabled",value:function(){return this._chartPane.chartData().timeScaleStore().scrollEnabled()}},{key:"scrollByDistance",value:function(t,e){var n=this;if(R(t))if(R(e)&&e>0){this._chartPane.chartData().timeScaleStore().startScroll();var i=(new Date).getTime();!function r(){var a=((new Date).getTime()-i)/e,o=a>=1,s=o?t:t*a;n._chartPane.chartData().timeScaleStore().scroll(s),o||se(r)}()}else this._chartPane.chartData().timeScaleStore().startScroll(),this._chartPane.chartData().timeScaleStore().scroll(t)}},{key:"scrollToRealTime",value:function(t){var e=(this._chartPane.chartData().timeScaleStore().offsetRightBarCount()-this._chartPane.chartData().timeScaleStore().offsetRightSpace()/this._chartPane.chartData().timeScaleStore().dataSpace())*this._chartPane.chartData().timeScaleStore().dataSpace();this.scrollByDistance(e,t)}},{key:"scrollToDataIndex",value:function(t,e){if(R(t)){var n=(this._chartPane.chartData().dataList().length-1-t)*this._chartPane.chartData().timeScaleStore().dataSpace();this.scrollByDistance(n,e)}}},{key:"zoomAtCoordinate",value:function(t,e,n){var i=this;if(R(t))if(R(n)&&n>0){var r=this._chartPane.chartData().timeScaleStore().dataSpace(),a=r*t-r,o=(new Date).getTime();!function t(){var s=((new Date).getTime()-o)/n,c=s>=1,u=c?a:a*s;i._chartPane.chartData().timeScaleStore().zoom(u/r,e),c||se(t)}()}else this._chartPane.chartData().timeScaleStore().zoom(t,e)}},{key:"zoomAtDataIndex",value:function(t,e,n){if(R(t)&&R(e)){var i=this._chartPane.chartData().timeScaleStore().dataIndexToCoordinate(e);this.zoomAtCoordinate(t,{x:i},n)}}},{key:"convertToPixel",value:function(t,e){return this._chartPane.convertToPixel(t,e)}},{key:"convertFromPixel",value:function(t,e){return this._chartPane.convertFromPixel(t,e)}},{key:"subscribeAction",value:function(t,e){this._chartPane.chartData().actionStore().subscribe(t,e)}},{key:"unsubscribeAction",value:function(t,e){this._chartPane.chartData().actionStore().unsubscribe(t,e)}},{key:"getConvertPictureUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jpeg",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#FFFFFF";if("png"===e||"jpeg"===e||"bmp"===e)return this._chartPane.getConvertPictureUrl(t,e,n)}},{key:"destroy",value:function(){this._chartPane.destroy()}}]),t}(),tn={},en=1,nn="k_line_chart_";v.addTechnicalIndicatorTemplate([{name:"AVP",series:"price",precision:2,plots:[{key:"avp",title:"AVP: ",type:"line"}],calcTechnicalIndicator:function(t){var e=0,n=0;return t.map((function(t){var i={};return e+=t.turnover||0,0!==(n+=t.volume||0)&&(i.avp=e/n),i}))}},e,n,i,{name:"EMV",calcParams:[14,9],plots:[{key:"emv",title:"EMV: ",type:"line"},{key:"maEmv",title:"MAEMV: ",type:"line"}],calcTechnicalIndicator:function(t,e){var n=e.params,i=0,r=0,a=[],o=[];return t.forEach((function(e,s){var c={},u=t[s-1]||e,l=e.high,h=e.low,f=e.turnover||0,d=0;0!==f&&(d=((l+h)/2-(u.high+u.low)/2)*(l-h)/f),a.push(d),i+=d,n[0]-1>s||(c.emv=i,i-=a[s-(n[0]-1)],r+=c.emv,n[0]+n[1]-2>s||(c.maEmv=r/n[1],r-=o[s-(n[1]-1)].emv)),o.push(c)})),o}},{name:"EMA",series:"price",calcParams:[6,12,20],precision:2,shouldCheckParamCount:!1,shouldOhlc:!0,plots:[{key:"ema6",title:"EMA6: ",type:"line"},{key:"ema12",title:"EMA12: ",type:"line"},{key:"ema20",title:"EMA20: ",type:"line"}],regeneratePlots:function(t){return t.map((function(t){return{key:"ema".concat(t),title:"EMA".concat(t,": "),type:"line"}}))},calcTechnicalIndicator:function(t,e){var n=e.params,i=e.plots,r=0,a=[];return t.map((function(t,e){var o={},s=t.close;return r+=s,n.forEach((function(t,n){t-1>e||(a[n]=e>t-1?(2*s+(t-1)*a[n])/(t+1):r/t,o[i[n].key]=a[n])})),o}))}},{name:"MA",series:"price",calcParams:[5,10,30,60],precision:2,shouldCheckParamCount:!1,shouldOhlc:!0,plots:[{key:"ma5",title:"MA5: ",type:"line"},{key:"ma10",title:"MA10: ",type:"line"},{key:"ma30",title:"MA30: ",type:"line"},{key:"ma60",title:"MA60: ",type:"line"}],regeneratePlots:function(t){return t.map((function(t){return{key:"ma".concat(t),title:"MA".concat(t,": "),type:"line"}}))},calcTechnicalIndicator:function(t,e){var n=e.params,i=e.plots,r=[];return t.map((function(e,a){var o={},s=e.close;return n.forEach((function(e,n){r[n]=(r[n]||0)+s,e-1>a||(o[i[n].key]=r[n]/e,r[n]-=t[a-(e-1)].close)})),o}))}},r,{name:"SMA",series:"price",calcParams:[12,2],precision:2,plots:[{key:"sma",title:"SMA: ",type:"line"}],shouldCheckParamCount:!0,shouldOhlc:!0,calcTechnicalIndicator:function(t,e){var n=e.params,i=0,r=0;return t.map((function(t,e){var a={},o=t.close;return i+=o,n[0]-1>e||(a.sma=r=e>n[0]-1?(o*n[1]+r*(n[0]-n[1]+1))/(n[0]+1):i/n[0]),a}))}},{name:"TRIX",calcParams:[12,9],plots:[{key:"trix",title:"TRIX: ",type:"line"},{key:"maTrix",title:"MATRIX: ",type:"line"}],calcTechnicalIndicator:function(t,e){var n,i,r,a=e.params,o=0,s=0,c=0,u=0,l=[];return t.forEach((function(t,e){var h={},f=t.close;if(o+=f,e>=a[0]-1&&(s+=n=e>a[0]-1?(2*f+(a[0]-1)*n)/(a[0]+1):o/a[0],e>=2*a[0]-2&&(c+=i=e>2*a[0]-2?(2*n+(a[0]-1)*i)/(a[0]+1):s/a[0],e>=3*a[0]-3))){var d,v=0;e>3*a[0]-3?v=((d=(2*i+(a[0]-1)*r)/(a[0]+1))-r)/r*100:d=c/a[0],r=d,h.trix=v,u+=v,3*a[0]+a[1]-4>e||(h.maTrix=u/a[1],u-=l[e-(a[1]-1)].trix)}l.push(h)})),l}},{name:"BRAR",calcParams:[26],plots:[{key:"br",title:"BR: ",type:"line"},{key:"ar",title:"AR: ",type:"line"}],calcTechnicalIndicator:function(t,e){var n=e.params,i=0,r=0,a=0,o=0;return t.map((function(e,s){var c={},u=e.high,l=e.low,h=e.open,f=(t[s-1]||e).close;if(a+=u-h,o+=h-l,i+=u-f,r+=f-l,s>=n[0]-1){c.ar=0!==o?a/o*100:0,c.br=0!==r?i/r*100:0;var d=t[s-(n[0]-1)],v=d.high,p=d.low,m=d.open,y=(t[s-n[0]]||t[s-(n[0]-1)]).close;i-=v-y,r-=y-p,a-=v-m,o-=m-p}return c}))}},a,{name:"MTM",calcParams:[12,6],plots:[{key:"mtm",title:"MTM: ",type:"line"},{key:"maMtm",title:"MAMTM: ",type:"line"}],calcTechnicalIndicator:function(t,e){var n=e.params,i=0,r=[];return t.forEach((function(e,a){var o={};a<n[0]||(o.mtm=e.close-t[a-n[0]].close,i+=o.mtm,n[0]+n[1]-1>a||(o.maMtm=i/n[1],i-=r[a-(n[1]-1)].mtm)),r.push(o)})),r}},{name:"PSY",calcParams:[12,6],plots:[{key:"psy",title:"PSY: ",type:"line"},{key:"maPsy",title:"MAPSY: ",type:"line"}],calcTechnicalIndicator:function(t,e){var n=e.params,i=0,r=0,a=[],o=[];return t.forEach((function(e,s){var c={},u=e.close-(t[s-1]||e).close>0?1:0;a.push(u),i+=u,n[0]-1>s||(c.psy=i/n[0]*100,r+=c.psy,n[0]+n[1]-2>s||(c.maPsy=r/n[1],r-=o[s-(n[1]-1)].psy),i-=a[s-(n[0]-1)]),o.push(c)})),o}},{name:"ROC",calcParams:[12,6],shouldCheckParamCount:!0,plots:[{key:"roc",title:"ROC: ",type:"line"},{key:"maRoc",title:"MAROC: ",type:"line"}],calcTechnicalIndicator:function(t,e){var n=e.params,i=[],r=0;return t.forEach((function(e,a){var o={};if(a>=n[0]-1){var s=(t[a-n[0]]||t[a-(n[0]-1)]).close;o.roc=0!==s?(e.close-s)/s*100:0,r+=o.roc,n[0]-1+n[1]-1>a||(o.maRoc=r/n[1],r-=i[a-(n[1]-1)].roc)}i.push(o)})),i}},{name:"VR",calcParams:[26,6],plots:[{key:"vr",title:"VR: ",type:"line"},{key:"maVr",title:"MAVR: ",type:"line"}],calcTechnicalIndicator:function(t,e){var n=e.params,i=0,r=0,a=0,o=0,s=[];return t.forEach((function(e,c){var u={},l=e.close,h=(t[c-1]||e).close,f=e.volume;if(l>h?i+=f:h>l?r+=f:a+=f,c>=n[0]-1){var d=a/2;u.vr=r+d===0?0:(i+d)/(r+d)*100,o+=u.vr,n[0]+n[1]-2>c||(u.maVr=o/n[1],o-=s[c-(n[1]-1)].vr);var v=t[c-(n[0]-1)],p=t[c-n[0]]||v,m=v.close,y=v.volume;m>p.close?i-=y:p.close>m?r-=y:a-=y}s.push(u)})),s}},o,{name:"BIAS",calcParams:[6,12,24],shouldCheckParamCount:!1,plots:[{key:"bias6",title:"BIAS6: ",type:"line"},{key:"bias12",title:"BIAS12: ",type:"line"},{key:"bias24",title:"BIAS24: ",type:"line"}],regeneratePlots:function(t){return t.map((function(t){return{key:"bias".concat(t),title:"BIAS".concat(t,": "),type:"line"}}))},calcTechnicalIndicator:function(t,e){var n=e.params,i=e.plots,r=[];return t.map((function(e,a){var o={},s=e.close;return n.forEach((function(e,c){if(r[c]=(r[c]||0)+s,a>=e-1){var u=r[c]/n[c];o[i[c].key]=(s-u)/u*100,r[c]-=t[a-(e-1)].close}})),o}))}},s,c,l,h,f,d,{name:"OBV",calcParams:[30],plots:[{key:"obv",title:"OBV: ",type:"line"},{key:"maObv",title:"MAOBV: ",type:"line"}],calcTechnicalIndicator:function(t,e){var n=e.params,i=0,r=0,a=[];return t.forEach((function(e,o){var s=t[o-1]||e;s.close>e.close?r-=e.volume:e.close>s.close&&(r+=e.volume);var c={obv:r};i+=r,n[0]-1>o||(c.maObv=i/n[0],i-=a[o-(n[0]-1)].obv),a.push(c)})),a}},{name:"PVT",plots:[{key:"pvt",title:"PVT: ",type:"line"}],calcTechnicalIndicator:function(t){var e=0;return t.map((function(n,i){var r={},a=(t[i-1]||n).close,o=0;return 0!==a&&(o=(n.close-a)/a*n.volume),r.pvt=e+=o,r}))}},{name:"VOL",series:"volume",calcParams:[5,10,20],shouldCheckParamCount:!1,shouldFormatBigNumber:!0,precision:0,minValue:0,plots:[{key:"ma5",title:"MA5: ",type:"line"},{key:"ma10",title:"MA10: ",type:"line"},{key:"ma20",title:"MA20: ",type:"line"},{key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,color:function(t,e){var n=t.current.kLineData||{};return n.close>n.open?e.bar.upColor:n.open>n.close?e.bar.downColor:e.bar.noChangeColor}}],regeneratePlots:function(t){var e=t.map((function(t){return{key:"ma".concat(t),title:"MA".concat(t,": "),type:"line"}}));return e.push({key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,color:function(t,e){var n=t.current.kLineData||{};return n.close>n.open?e.bar.upColor:n.open>n.close?e.bar.downColor:e.bar.noChangeColor}}),e},calcTechnicalIndicator:function(t,e){var n=e.params,i=e.plots,r=[];return t.map((function(e,a){var o=e.volume||0,s={volume:o};return n.forEach((function(e,n){r[n]=(r[n]||0)+o,e-1>a||(s[i[n].key]=r[n]/e,r[n]-=t[a-(e-1)].volume)})),s}))}}]),v.addShapeTemplate([{name:"horizontalRayLine",totalStep:3,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return Mt(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e=t.coordinates,n={x:0,y:e[0].y};return e[1]&&e[1].x>e[0].x&&(n.x=t.viewport.width),[{type:"line",isDraw:!0,isCheck:!0,dataSource:[[e[0],n]]}]},performEventPressedMove:function(t){var e=t.points,n=t.pressPoint;e[0].value=n.value,e[1].value=n.value},performEventMoveForDrawing:function(t){2===t.step&&(t.points[0].value=t.movePoint.value)}},{name:"horizontalSegment",totalStep:3,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return Rt(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e=t.coordinates,n=[];return 2===e.length&&(n=[e]),[{type:"line",isDraw:!0,isCheck:!0,dataSource:n}]},performEventPressedMove:function(t){var e=t.points,n=t.pressPoint;e[0].value=n.value,e[1].value=n.value},performEventMoveForDrawing:function(t){2===t.step&&(t.points[0].value=t.movePoint.value)}},{name:"horizontalStraightLine",totalStep:2,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return Ot(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e=t.coordinates;return[{type:"line",isDraw:!0,isCheck:!0,dataSource:[[{x:0,y:e[0].y},{x:t.viewport.width,y:e[0].y}]]}]}},{name:"verticalRayLine",totalStep:3,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return Mt(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e=t.coordinates,n={x:e[0].x,y:0};return e[1]&&e[1].y>e[0].y&&(n.y=t.viewport.height),[{type:"line",isDraw:!0,isCheck:!0,dataSource:[[e[0],n]]}]},performEventPressedMove:function(t){var e=t.points,n=t.pressPoint;e[0].timestamp=n.timestamp,e[0].dataIndex=n.dataIndex,e[1].timestamp=n.timestamp,e[1].dataIndex=n.dataIndex},performEventMoveForDrawing:function(t){var e=t.points,n=t.movePoint;2===t.step&&(e[0].timestamp=n.timestamp,e[0].dataIndex=n.dataIndex)}},{name:"verticalSegment",totalStep:3,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return Rt(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e=t.coordinates,n=[];return 2===e.length&&(n=[e]),[{type:"line",isDraw:!0,isCheck:!0,dataSource:n}]},performEventPressedMove:function(t){var e=t.points,n=t.pressPoint;e[0].timestamp=n.timestamp,e[0].dataIndex=n.dataIndex,e[1].timestamp=n.timestamp,e[1].dataIndex=n.dataIndex},performEventMoveForDrawing:function(t){var e=t.points,n=t.movePoint;2===t.step&&(e[0].timestamp=n.timestamp,e[0].dataIndex=n.dataIndex)}},{name:"verticalStraightLine",totalStep:2,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return Ot(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e=t.coordinates;return[{type:"line",isDraw:!0,isCheck:!0,dataSource:[[{x:e[0].x,y:0},{x:e[0].x,y:t.viewport.height}]]}]}},{name:"rayLine",totalStep:3,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return Mt(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e,n,i,r=t.coordinates,a=t.viewport;return[{type:"line",isDraw:!0,isCheck:!0,dataSource:[(e=r[0],n=r[1],i={x:a.width,y:a.height},e&&n?[e,e.x===n.x&&e.y!==n.y?n.y>e.y?{x:e.x,y:i.y}:{x:e.x,y:0}:e.x>n.x?{x:0,y:Pt(e,n,{x:0,y:e.y})}:{x:i.x,y:Pt(e,n,{x:i.x,y:e.y})}]:[])]}]}},{name:"segment",totalStep:3,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return Rt(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e=t.coordinates,n=[];return 2===e.length&&(n=[e]),[{type:"line",isDraw:!0,isCheck:!0,dataSource:n}]}},{name:"straightLine",totalStep:3,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return Ot(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e=t.coordinates,n=t.viewport;return 2>e.length||e[0].x===e[1].x?[{type:"line",isDraw:!0,isCheck:!0,dataSource:[[{x:e[0].x,y:0},{x:e[0].x,y:n.height}]]}]:[{type:"line",isDraw:!0,isCheck:!0,dataSource:[[{x:0,y:Pt(e[0],e[1],{x:0,y:e[0].y})},{x:n.width,y:Pt(e[0],e[1],{x:n.width,y:e[0].y})}]]}]}},{name:"parallelStraightLine",totalStep:4,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return Ot(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e=t.viewport;return[{type:"line",isDraw:!0,isCheck:!0,dataSource:Bt(t.coordinates,{x:e.width,y:e.height})}]}},{name:"priceChannelLine",totalStep:4,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return Ot(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e=t.viewport;return[{type:"line",isDraw:!0,isCheck:!0,dataSource:Bt(t.coordinates,{x:e.width,y:e.height},1)}]}},{name:"priceLine",totalStep:2,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return Mt(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e=t.coordinates,n=t.precision;return[{type:"line",isDraw:!0,isCheck:!0,dataSource:[[e[0],{x:t.viewport.width,y:e[0].y}]]},{type:"text",isDraw:!0,isCheck:!1,dataSource:[{x:e[0].x,y:e[0].y,text:t.yAxis.convertFromPixel(e[0].y).toFixed(n.price)}]}]}},{name:"fibonacciLine",totalStep:3,checkEventCoordinateOnShape:function(t){var e=t.dataSource;return Ot(e[0],e[1],t.eventCoordinate)},createShapeDataSource:function(t){var e=t.points,n=t.coordinates,i=t.precision;if(n.length>0){var r=[],a=[],o=t.viewport.width;if(n.length>1){var s=n[0].y-n[1].y,c=e[0].value-e[1].value;[1,.786,.618,.5,.382,.236,0].forEach((function(t){var u=n[1].y+s*t,l=(e[1].value+c*t).toFixed(i.price);r.push([{x:0,y:u},{x:o,y:u}]),a.push({x:0,y:u,text:"".concat(l," (").concat((100*t).toFixed(1),"%)")})}))}return[{type:"line",isDraw:!0,isCheck:!0,dataSource:r},{type:"text",isDraw:!0,isCheck:!1,dataSource:a}]}return[]}}]),t.dispose=function(t){if(t){var e;if(j(t)){var n=document.getElementById(t);e=n&&n.chartId}else e=t instanceof Qe?t.id:t&&t.chartId;e&&(tn[e].destroy(),delete tn[e])}},t.extension=v,t.init=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)return null;if(!(e=j(t)?document.getElementById(t):t))return null;var i=tn[e.chartId||""];if(i)return i;var r="".concat(nn).concat(en++);return(i=new Qe(e,n)).id=r,e.chartId=r,tn[r]=i,i},t.version=function(){return"8.0.0"},Object.defineProperty(t,"__esModule",{value:!0})}(e)},821:function(t,e,n){"use strict";t.exports=n(6270)}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var a=e[i]={exports:{}};return t[i].call(a.exports,a,a.exports,n),a.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e){return a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},a(t,e)}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return r(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function h(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(t);!(o=(i=n.next()).done)&&(a.push(i.value),!e||a.length!==e);o=!0);}catch(t){s=!0,r=t}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(t,e)||h(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(){}var p,m;function y(t){return t()}function g(){return Object.create(null)}function _(t){t.forEach(y)}function x(t){return"function"==typeof t}function w(t,e){return t!=t?e==e:t!==e||t&&"object"===s(t)||"function"==typeof t}function k(t,e){return p||(p=document.createElement("a")),p.href=e,t===p.href}function b(t,e,n,i){return t[1]&&i?function(t,e){for(var n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](i(e))):n.ctx}function S(t){return null==t?"":t}function I(t,e){t.appendChild(e)}function C(t,e,n){t.insertBefore(e,n||null)}function E(t){t.parentNode.removeChild(t)}function D(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function T(t){return document.createElement(t)}function A(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function P(t){return document.createTextNode(t)}function L(){return P(" ")}function O(){return P("")}function M(t,e,n,i){return t.addEventListener(e,n,i),function(){return t.removeEventListener(e,n,i)}}function R(t){return function(e){return e.preventDefault(),t.call(this,e)}}function $(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function B(t){return""===t?null:+t}function j(t){return Array.from(t.childNodes)}function F(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function N(t,e){t.value=null==e?"":e}function V(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}function z(t,e,n){t.classList[n?"add":"remove"](e)}function H(t){m=t}function U(){if(!m)throw new Error("Function called outside component initialization");return m}function W(t){U().$$.on_mount.push(t)}function Y(t,e){var n=this,i=t.$$.callbacks[e.type];i&&i.slice().forEach((function(t){return t.call(n,e)}))}n(6699),n(2023),n(9601),n(2222),n(1539),n(2419),n(4747),n(7941),n(7042),n(6992),n(189),n(8783),n(3948),n(8674),n(5125),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(2707),n(9337),n(1038),n(561),n(8309),n(6755),n(3210),n(1249),n(4916),n(3123),n(7327),n(9600),n(5218),n(5743),n(1532),n(5306),n(3290),n(2526),n(1817),n(2165),new Set,new Set;var K=[],q=[],Z=[],X=[],G=Promise.resolve(),J=!1;function Q(t){Z.push(t)}var tt=!1,et=new Set;function nt(){if(!tt){tt=!0;do{for(var t=0;t<K.length;t+=1){var e=K[t];H(e),it(e.$$)}for(H(null),K.length=0;q.length;)q.pop()();for(var n=0;n<Z.length;n+=1){var i=Z[n];et.has(i)||(et.add(i),i())}Z.length=0}while(K.length);for(;X.length;)X.pop()();J=!1,tt=!1,et.clear()}}function it(t){if(null!==t.fragment){t.update(),_(t.before_update);var e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Q)}}var rt,at=new Set;function ot(){rt={r:0,c:[],p:rt}}function st(){rt.r||_(rt.c),rt=rt.p}function ct(t,e){t&&t.i&&(at.delete(t),t.i(e))}function ut(t,e,n,i){if(t&&t.o){if(at.has(t))return;at.add(t),rt.c.push((function(){at.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}}function lt(t,e){t.d(1),e.delete(t.key)}function ht(t,e){ut(t,1,1,(function(){e.delete(t.key)}))}function ft(t,e,n,i,r,a,o,s,c,u,l,h){for(var f=t.length,d=a.length,v=f,p={};v--;)p[t[v].key]=v;var m=[],y=new Map,g=new Map;for(v=d;v--;){var _=h(r,a,v),x=n(_),w=o.get(x);w?i&&w.p(_,e):(w=u(x,_)).c(),y.set(x,m[v]=w),x in p&&g.set(x,Math.abs(v-p[x]))}var k=new Set,b=new Set;function S(t){ct(t,1),t.m(s,l),o.set(t.key,t),l=t.first,d--}for(;f&&d;){var I=m[d-1],C=t[f-1],E=I.key,D=C.key;I===C?(l=I.first,f--,d--):y.has(D)?!o.has(E)||k.has(E)?S(I):b.has(D)?f--:g.get(E)>g.get(D)?(b.add(E),S(I)):(k.add(D),f--):(c(C,o),f--)}for(;f--;){var T=t[f];y.has(T.key)||c(T,o)}for(;d;)S(m[d-1]);return m}function dt(t){t&&t.c()}function vt(t,e,n,i){var r=t.$$,a=r.fragment,o=r.on_mount,s=r.on_destroy,c=r.after_update;a&&a.m(e,n),i||Q((function(){var e=o.map(y).filter(x);s?s.push.apply(s,d(e)):_(e),t.$$.on_mount=[]})),c.forEach(Q)}function pt(t,e){var n=t.$$;null!==n.fragment&&(_(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function mt(t,e){-1===t.$$.dirty[0]&&(K.push(t),J||(J=!0,G.then(nt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function yt(t,e,n,i,r,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1],c=m;H(t);var u=t.$$={fragment:null,ctx:null,props:a,update:v,not_equal:r,bound:g(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:g(),dirty:s,skip_bound:!1,root:e.target||c.$$.root};o&&o(u.root);var l=!1;if(u.ctx=n?n(t,e.props||{},(function(e,n){var i=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return u.ctx&&r(u.ctx[e],u.ctx[e]=i)&&(!u.skip_bound&&u.bound[e]&&u.bound[e](i),l&&mt(t,e)),n})):[],u.update(),l=!0,_(u.before_update),u.fragment=!!i&&i(u.ctx),e.target){if(e.hydrate){var h=j(e.target);u.fragment&&u.fragment.l(h),h.forEach(E)}else u.fragment&&u.fragment.c();e.intro&&ct(t.$$.fragment),vt(t,e.target,e.anchor,e.customElement),nt()}H(c)}"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global,new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&HTMLElement;var gt=function(){function t(){i(this,t)}return e(t,[{key:"$destroy",value:function(){pt(this,1),this.$destroy=v}},{key:"$on",value:function(t,e){var n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}}},{key:"$set",value:function(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}]),t}();function _t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n(9653),n(4723),n(2479),n(9714),n(4553);var xt,wt,kt,bt,St,It,Ct,Et,Dt,Tt,At,Pt,Lt={"1000SHIBUSDT":"SHIBUSDT",SHIBUSDT:"1000SHIBUSDT","1000XECUSDT":"XECUSDT",XECUSDT:"1000XECUSDT"},Ot=15,Mt=30,Rt=60,$t=240,Bt=1440,jt=(_t(xt={},"1m",1),_t(xt,"5m",5),_t(xt,"15m",Ot),_t(xt,"30m",Mt),_t(xt,"1h",Rt),_t(xt,"4h",$t),_t(xt,"1d",Bt),_t(xt,1,"1m"),_t(xt,5,"5m"),_t(xt,Ot,"15m"),_t(xt,Mt,"30m"),_t(xt,Rt,"1h"),_t(xt,$t,"4h"),_t(xt,Bt,"1d"),"ru"),Ft=(_t(wt={},1,6e4),_t(wt,5,3e5),_t(wt,Ot,9e5),_t(wt,Mt,18e5),_t(wt,Rt,36e5),_t(wt,$t,144e5),_t(wt,Bt,864e5),wt),Nt=[1,5,Ot,Mt,Rt,$t,Bt],Vt=(_t(kt={},1,"1m"),_t(kt,5,"5m"),_t(kt,Ot,"15m"),_t(kt,Mt,"30m"),_t(kt,Rt,"1h"),_t(kt,$t,"4h"),_t(kt,Bt,"1d"),kt),zt=(_t(bt={},1,1),_t(bt,5,1),_t(bt,Ot,1),_t(bt,Mt,1),_t(bt,Rt,1),_t(bt,$t,1),_t(bt,Bt,1),bt),Ht=[Rt,$t,Bt],Ut={0:1,1:5,2:Rt,3:$t},Wt=(_t(St={},1,1e3),_t(St,5,1e3),_t(St,Ot,500),_t(St,Mt,500),_t(St,Rt,500),_t(St,$t,500),_t(St,Bt,500),["deepskyblue","fuchsia","yellow","lime","red"]),Yt="#808080",Kt=(_t(Pt={},1,(_t(It={},Ot,1),_t(It,Mt,1),_t(It,Rt,1),_t(It,$t,2),_t(It,Bt,3),It)),_t(Pt,5,(_t(Ct={},Ot,1),_t(Ct,Mt,1),_t(Ct,Rt,1),_t(Ct,$t,2),_t(Ct,Bt,3),Ct)),_t(Pt,Ot,(_t(Et={},Ot,1),_t(Et,Mt,1),_t(Et,Rt,1),_t(Et,$t,2),_t(Et,Bt,3),Et)),_t(Pt,Mt,(_t(Dt={},Mt,1),_t(Dt,Rt,1),_t(Dt,$t,2),_t(Dt,Bt,3),Dt)),_t(Pt,Rt,(_t(Tt={},Rt,1),_t(Tt,$t,2),_t(Tt,Bt,3),Tt)),_t(Pt,$t,(_t(At={},$t,1),_t(At,Bt,2),At)),_t(Pt,Bt,_t({},Bt,1)),Pt),qt="🔔",Zt={"ru-RU":jt,ru:jt,be:jt,uk:jt,kk:jt,ka:jt,uz:jt,hy:jt,ky:jt},Xt="alarms",Gt="chart",Jt="coin",Qt="levels",te="shapes",ee="settings",ne="retry-after",ie={averagePriceChangeMaxNumber:500,averageVolumeRange:250,intervals:Ht,largeOrderNumber:2,levelBounds:15,levelMaxNumber:500,orderBook:1,trendLineBounds:15,trendLineMaxNumber:500},re=e((function t(e){var n=this;i(this,t),this.stream={},this.activeStream={},this.messageId=0,this.onResponse={},this.connect=function(){return new Promise((function(t,e){var i;try{if(1===(null===(i=n.wss)||void 0===i?void 0:i.readyState))t();else{var r=Object.keys(n.activeStream);if(r.length){var a="".concat("wss://stream.binance.com:9443","/stream?streams=").concat(r.join("/"));n.wss=new WebSocket(a),n.wss.addEventListener("open",(function e(){var i;null===(i=n.wss)||void 0===i||i.removeEventListener("open",e),t()})),n.wss.addEventListener("message",n.onMessage),n.wss.addEventListener("error",n.onError),n.wss.addEventListener("close",n.onClose)}else e("no active stream handlers")}}catch(t){e(t)}}))},this.onClose=function(t){n.wss&&(n.wss.removeEventListener("message",n.onMessage),n.wss.removeEventListener("error",n.onError),n.wss.removeEventListener("close",n.onClose),delete n.wss),setTimeout(n.connect,5e3)},this.onError=function(t){console.error(n.coin.ticker,t)},this.onMessage=function(t){var e,i,r,a;if(t.data){var o=JSON.parse(t.data),s=o.data,c=o.error,u=o.id,l=o.result,h=o.stream;s&&h&&n.activeStream[h]?(Ti.streamCount++,n.activeStream[h](s),n.coin.updatedAt=Date.now()):u&&n.onResponse[u]&&(null===l?null===(i=(e=n.onResponse[u]).resolve)||void 0===i||i.call(e):c&&(console.error(c),null===(a=(r=n.onResponse[u]).reject)||void 0===a||a.call(r,c)))}},this.streamAction=function(t){var e=t.id,i=t.method,r=t.params;return new Promise((function(t,a){var o,s=e||++n.messageId;if(1===(null===(o=n.wss)||void 0===o?void 0:o.readyState)){var c=[];if((c="SUBSCRIBE"===i?r.filter((function(t){return!n.activeStream[t]})):r.filter((function(t){return!!n.activeStream[t]&&(delete n.activeStream[t],!0)}))).length){var u=s;n.onResponse[u]={resolve:function(){"SUBSCRIBE"===i&&c.forEach((function(t){n.activeStream[t]=n.stream[t]})),delete n.onResponse[u],t()},reject:function(t){delete n.onResponse[u],a(t)}},n.wss.send(JSON.stringify({method:i,params:c,id:u}))}else t()}else n.connect().then((function(){return n.streamAction({id:s,method:i,params:r})})).then(t).catch((function(){return a(new Error("".concat(n.coin.ticker," websocket not connected")))}))}))},this.coin=e})),ae=function(){},oe=function(t){return t>1e9?t/1e9<10?Math.round(t/1e9*10)/10+"B":Math.round(t/1e9)+"B":t>1e6?t/1e6<10?Math.round(t/1e6*10)/10+"M":Math.round(t/1e6)+"M":t>1e3?t/1e3<10?Math.round(t/1e3*10)/10+"K":Math.round(t/1e3)+"K":t<10?Math.round(100*t)/100:Math.round(t)},se=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((function(t){return!!t})).join(" ")},ce=function(t){return JSON.stringify(t).split("").sort().join("")},ue=function(){function t(e){var n=this;i(this,t),this.lastUpdateId=0,this.u=0,this.best={ask:0,bid:0},this.bigOrders={},this.orders={},this.setClosestOrder=ae,this.setOrderBook=function(){n.setClosestOrder(n.minDelta,n.closestOrder)},this.coin=e,this.state=e.state,this.stream=e.stream,this.streamName="".concat(e.ticker.toLowerCase(),"@depth"),this.updateOnUi()}return e(t,[{key:"onMessage",value:function(t){var e=t.best,n=t.bigOrders,i=t.closestOrder,r=t.largeVolume,a=t.minDelta,o=t.topOrders;e&&(this.best=e),n&&(this.bigOrders=n),this.closestOrder=i,this.largeVolume=r,this.minDelta=a,o&&(this.topOrders=o)}},{key:"select",value:function(){}},{key:"unselect",value:function(){}},{key:"updateOnUi",value:function(){var t=this;this.setClosestOrder(this.minDelta,this.closestOrder),this.coin.isCurrent&&(this.topOrders&&Ti.setOrderBook(this.topOrders,this.best,this.largeVolume),Ei.setOrders(this.bigOrders)),this.updateTimeout||(this.updateTimeout=setTimeout((function(){delete t.updateTimeout,t.updateOnUi()}),1e3))}}]),t}(),le=function(){function t(e){var n,r=this;i(this,t),this.pricePrecision=0,this.priceFactor=1,this.messageId=0,this.closePrice=0,this.averageVolume=0,this.maxVolume=0,this.store=(_t(n={},1,{dict:{},list:[]}),_t(n,5,{dict:{},list:[]}),_t(n,Ot,{dict:{},list:[]}),_t(n,Mt,{dict:{},list:[]}),_t(n,Rt,{dict:{},list:[]}),_t(n,$t,{dict:{},list:[]}),_t(n,Bt,{dict:{},list:[]}),n),this.setAveragePriceDelta=ae,this.action={kLine:function(t){t&&(r.updateKLine(t),r.closePrice=t.close)},kLines:function(t,e){var n,i=t.interval,a=t.kLines;a&&r.isCurrent&&(null===(n=r.state.chartIdsByInterval[i])||void 0===n||n.forEach((function(t){r.setChartData({kLines:a,chartId:t})}))),void 0!==e&&(r.averagePriceDelta=e,r.setAveragePriceDelta(e))}},this.updateOnlyKLine=function(t){var e=t.interval,n=t.timestamp,i=r.store[e],a=i.list,o=i.dict,s=o[n];if(s)Object.assign(s,t);else{o[n]=t,a.push(t);var c=r.store[e].last;c&&c.timestamp+Ft[e]===n&&(r.store[e].last=t)}},this.updateKLineAndChart=function(t){var e;r.updateOnlyKLine(t),null===(e=Ti.chartIdsByInterval[t.interval])||void 0===e||e.forEach((function(e){var n;null===(n=Di.dict[e])||void 0===n||n.updateData(t)}))},this.updateKLine=this.updateOnlyKLine,this.loadMore=function(t,e){var n=r.state.intervals[e];n&&r.get({interval:n,startTime:t-500*Ft[n],endTime:t-Ft[n]}).then((function(t){var n;(null==t?void 0:t.kLines)&&Ti.current===r.coin&&(null===(n=Di.dict[e])||void 0===n||n.applyMoreData(t.kLines,!(t.kLines.length<500)))}))},this.setClosestLevelOnList=ae,this.setClosestTrendLineOnList=ae,this.state=e.state,this.stream=e.stream,this.ticker=e.ticker,this.coin=e}return e(t,[{key:"interval",get:function(){return Ti.interval}},{key:"chart",get:function(){return Di.current?Di.current:null}},{key:"current",get:function(){return this.state.current}},{key:"isCurrent",get:function(){return this.state.current===this.coin}},{key:"getChartIntervals",value:function(){var t={};return Object.keys(Di.dict).filter((function(t){return Di.dict[+t]})).forEach((function(e){t[Ti.intervals[+e]]=1})),Object.keys(t)}},{key:"setInterval",value:function(t){var e=t.prev,n=t.next,i=t.chartId;this.updateChart({chartId:i,interval:n,prevInterval:e})}},{key:"setChartData",value:function(t){var e=t.chartId,n=t.kLines,i=Di.dict[e];i&&(i.setPriceVolumePrecision(this.pricePrecision,2),i.applyNewData(n))}},{key:"updateChart",value:function(t){var e=this,n=t.chartId,i=t.interval,r=t.prevInterval,a=t.onUpdated;void 0!==n&&(r=Ti.intervals[n]),this.updateKLine=this.updateOnlyKLine,this.get({interval:i}).then((function(t){var r,o=t.kLines,s=t.pricePrecision;void 0!==s&&(e.pricePrecision=s,e.priceFactor=Math.pow(10,s)),o&&e.current===e.coin&&(n?e.setChartData({chartId:n,kLines:o}):null===(r=Ti.chartIdsByInterval[i])||void 0===r||r.forEach((function(t){e.setChartData({chartId:t,kLines:o})})),Ei.updateLevels(),void 0!==n?Ei.setTrendLinesOnChart(e.coin.levels.trendLines[i],n):Ei.setTrendLines(e.coin.levels.trendLines),null==a||a())})).then((function(){if(e.current===e.coin)return e.subscribe([i])})).then((function(){e.current===e.coin&&(e.updateKLine=e.updateKLineAndChart)})).then((function(){var t;if(r&&r!==i&&e.current===e.coin&&!(null===(t=Ti.chartIdsByInterval[r])||void 0===t?void 0:t.length))return e.unsubscribe([r])})).catch(console.error)}},{key:"onMessage",value:function(t){var e,n,i=t.type,r=t.data;i&&(null===(n=(e=this.action)[i])||void 0===n||n.call(e,r))}},{key:"select",value:function(){var t=this,e={},n=Object.keys(this.state.chartIdsByInterval).filter((function(e){var n;return null===(n=t.state.chartIdsByInterval[e])||void 0===n?void 0:n.length})).map((function(t){return Number(t)}));n.length||(n=this.state.intervalList),n.forEach((function(n){e[n]=1,t.get({interval:n}).then((function(i){var r,a=i||{},o=a.kLines,s=a.pricePrecision;s&&t.pricePrecision!==s&&(t.pricePrecision=s,t.priceFactor=Math.pow(10,s),t.coin.save()),o&&t.isCurrent&&(null===(r=t.state.chartIdsByInterval[n])||void 0===r||r.forEach((function(e){t.setChartData({kLines:o,chartId:e})})),t.subscribe([n]),delete e[n],Object.keys(e).length||t.isCurrent&&(t.updateKLine=t.updateKLineAndChart,t.coin.levels.get().then((function(e){t.isCurrent&&t.coin.levels.onMessage(e)})).catch(console.error),t.coin.shapes.get().then((function(e){t.isCurrent&&(t.coin.shapes.list=e,Ei.shapeList=e,Ei.createShapes())})).catch(console.error),t.coin.alarms.get().then((function(e){t.coin.alarms.setData(e),t.isCurrent&&Ei.createAlarmLevels()})).catch(console.error)))}))}))}},{key:"unselect",value:function(){this.updateKLine=ae;var t=Object.keys(Ti.chartIdsByInterval).filter((function(t){var e;return!!(null===(e=Ti.chartIdsByInterval[t])||void 0===e?void 0:e.length)})).map((function(t){return Number(t)}));this.unsubscribe(t)}},{key:"get",value:function(t){var e;return null===(e=this.coin.worker)||void 0===e?void 0:e.get(Gt,t)}},{key:"set",value:function(t,e){}},{key:"subscribe",value:function(t){this.coin.worker.subscribe(Gt,t)}},{key:"unsubscribe",value:function(t){this.coin.worker.unsubscribe(Gt,t)}},{key:"updateClosestLevels",value:function(){var t=this;this.setClosestLevelOnList(this.coin.levels.closest,this.closePrice),this.updateLevelsTimeout||(this.updateLevelsTimeout=setTimeout((function(){delete t.updateLevelsTimeout,t.updateClosestLevels()}),1e3))}},{key:"updateClosestTrendLine",value:function(){var t=this;this.setClosestTrendLineOnList(this.coin.levels.closestTrendLine),this.updateTrendLineTimeout||(this.updateTrendLineTimeout=setTimeout((function(){delete t.updateTrendLineTimeout,t.updateClosestTrendLine()}),1e3))}}]),t}(),he=function(){function t(e){var n=this;i(this,t),this._id=0,this.promises={},this.subscriptions={},this.onMessage=function(t){var e,i,r,a,o=t.data||{},s=o.id,c=o.type,u=o.data;c?null===(i=null===(e=n.coin[c])||void 0===e?void 0:e.onMessage)||void 0===i||i.call(e,u):s&&n.promises[s]&&(null===(a=(r=n.promises)[s])||void 0===a||a.call(r,u))},this.onMessageError=function(t){console.error("onMessageError",t)},this.coin=e,this.ticker=e.ticker,this.worker=new SharedWorker("/build/coin.js",{name:e.ticker}),this.worker.port.onmessage=this.onMessage,this.worker.port.onmessageerror=this.onMessageError}return e(t,[{key:"id",get:function(){return this.ticker+ ++this._id}},{key:"get",value:function(t,e){var n=this,i=this.id;return new Promise((function(r){var a=setTimeout((function(){n.promises[i]&&(r(null),delete n.promises[i])}),6e5);n.promises[i]=function(t){delete n.promises[i],clearTimeout(a),r(t)};var o={action:"get",id:i,type:t};e&&(o.params=e),n.post(o)}))}},{key:"set",value:function(t,e){var n={action:"set",type:t};e&&(n.params=e),this.post(n)}},{key:"update",value:function(t,e){var n=this,i=this.id;return new Promise((function(r){var a=setTimeout((function(){n.promises[i]&&(r(null),delete n.promises[i])}),6e5);n.promises[i]=function(t){delete n.promises[i],clearTimeout(a),r(t)},n.post({action:"update",id:i,type:t,data:e})}))}},{key:"delete",value:function(t,e){var n=this,i=this.id;return new Promise((function(r){var a=setTimeout((function(){n.promises[i]&&(r(null),delete n.promises[i])}),6e5);n.promises[i]=function(t){delete n.promises[i],clearTimeout(a),r(t)},n.post({action:"delete",id:i,type:t,data:e})}))}},{key:"subscribe",value:function(t,e){this.post({action:"subscribe",params:e,type:t})}},{key:"unsubscribe",value:function(t,e){this.post({action:"unsubscribe",params:e,type:t})}},{key:"post",value:function(t){this.worker.port.postMessage(t)}}]),t}(),fe=function(){function t(e){i(this,t),this.levels={},this.closest={},this.coin=e,this.state=e.state}return e(t,[{key:"onMessage",value:function(t){t.closePrice&&(this.coin.chart.closePrice=t.closePrice),t.levels&&(this.levels=t.levels,this.state.current===this.coin&&Ei.updateLevels(),(null==t?void 0:t.closest)&&(this.closest=t.closest),this.coin.chart.updateClosestLevels()),t.trendLines&&(this.trendLines=t.trendLines,this.state.current===this.coin&&Ei.setTrendLines(t.trendLines)),t.closestTrendLine&&(this.closestTrendLine=t.closestTrendLine,this.coin.chart.updateClosestTrendLine()),void 0!==t.averagePriceDelta&&(this.coin.chart.averagePriceDelta=t.averagePriceDelta,this.coin.chart.setAveragePriceDelta(t.averagePriceDelta))}},{key:"get",value:function(){return this.coin.worker.get(Qt)}},{key:"set",value:function(){}},{key:"select",value:function(){var t=this;this.get().then((function(e){t.onMessage(e)})).catch(console.error)}},{key:"delete",value:function(){return this.coin.worker.delete(Qt,null)}}]),t}(),de=function(){function t(e){i(this,t),this.dict={},this.list=[],this.active=[],this.isAlarm=!1,this.setOnUi=ae,this.coin=e,this.state=e.state}return e(t,[{key:"hasAlarm",get:function(){return!!this.list.length}},{key:"onMessage",value:function(t){if(t.uid){var e=t,n=e.uid;this.dict[n]&&(e=Object.assign(this.dict[n],e)),!0===e.alarm?(this.isAlarm=!0,this.coin.isCurrent&&Ei.restoreAlarmLevel(e),this.coin.state.alarm(),Ci.setAlarmNotification(this.coin.ticker,e),this.active.push(e)):!1===e.alarm&&(this.active=this.active.filter((function(t){return t.uid!==e.uid})),Ci.disableAlarmNotification(this.coin.ticker,null==e?void 0:e.uid)),this.isAlarm=!!e.alarm,this.setOnUi(this)}else Array.isArray(t)&&(this.setData(t),this.coin.isCurrent&&Ei.createAlarmLevels())}},{key:"setData",value:function(t){var e=this;this.list=t,this.dict={},t.forEach((function(t){t.uid&&(e.dict[t.uid]=t)})),this.setOnUi(this)}},{key:"get",value:function(){return this.coin.worker.get(Xt)}},{key:"set",value:function(t){this.coin.worker.set(Xt,t)}},{key:"update",value:function(t){return this.coin.worker.update(Xt,t)}},{key:"delete",value:function(t){return delete this.dict[t],this.list=this.list.filter((function(e){return e.uid!==t})),this.setOnUi(this),this.coin.worker.delete(Xt,t)}},{key:"disable",value:function(t){var e=this;t?this.set(t):this.active.length&&this.active.forEach((function(t){t.alarm=!1,e.set(t)}))}}]),t}(),ve=function(){function t(e){i(this,t),this.coin=e}return e(t,[{key:"onMessage",value:function(t){this.list=t,this.coin.isCurrent&&(Ei.removeShape(),Ei.shapeList=t,Ei.createShapes())}},{key:"get",value:function(){return this.coin.worker.get(te)}},{key:"set",value:function(t){this.coin.worker.set(te,t)}},{key:"update",value:function(t){return this.coin.worker.update(te,t)}},{key:"delete",value:function(t){return this.coin.worker.delete(te,t)}},{key:"select",value:function(){var t=this;this.get().then((function(e){t.onMessage(e)})).catch(console.error)}}]),t}(),pe=function(){function t(e){i(this,t),this.coin=e}return e(t,[{key:"onMessage",value:function(){this.coin.worker.post({type:ee,action:"set",data:this.coin.state.settings})}}]),t}(),me=function(){function t(e){var n=e.state,r=e.ticker;i(this,t),this.updating=!0,this._updatedAt=0,this.setAlarmOnList=ae,this.state=n,this.ticker=r,this.name=r.replace("USDT",""),this.settings=new pe(this),this.stream=new re(this),this.chart=new le(this),this.levels=new fe(this),this.alarms=new de(this),this.shapes=new ve(this),this.orderBook=new ue(this),this.restoreAll(r)}return e(t,[{key:"interval",get:function(){return Ti.interval}},{key:"updatedAt",get:function(){return this._updatedAt},set:function(t){this._updatedAt&&t-this._updatedAt>6e4&&!this.updating&&(this.updating=!0,this.init()),this._updatedAt=t}},{key:"isCurrent",get:function(){return this===this.state.current}},{key:"close",value:function(){this.worker.set(Jt,{close:!0})}},{key:"restoreAll",value:function(t){this.restoreConfig(t)}},{key:"restoreConfig",value:function(t){var e=t||this.ticker;if(e){var n=localStorage.getItem(e);if(n){var i=JSON.parse(n);i&&(i.favorite&&(this.favorite=i.favorite),i.pricePrecision&&(this.chart.pricePrecision=i.pricePrecision,this.chart.priceFactor=Math.pow(10,i.pricePrecision)))}}}},{key:"save",value:function(){var t={};this.chart.pricePrecision&&(t.pricePrecision=this.chart.pricePrecision),this.favorite&&(t.favorite=this.favorite),localStorage.setItem(this.ticker,JSON.stringify(t))}},{key:"init",value:function(){this.worker=new he(this),this.getInitData()}},{key:"getInitData",value:function(){var t=this;this.levels.get().then((function(e){return t.levels.onMessage(e)})).catch(console.error)}},{key:"select",value:function(){var t;null===(t=this.worker)||void 0===t||t.set(Jt,{selected:!0}),this.chart.select(),this.orderBook.select()}},{key:"unselect",value:function(){this.worker.set(Jt,{selected:!1}),Ei.removeAll(),this.chart.unselect(),this.orderBook.unselect()}},{key:"setInterval",value:function(t){this.chart.setInterval(t)}}]),t}(),ye=n(9669),ge=n.n(ye),_e=ge().create({baseURL:"https://api.binance.com",responseType:"json"}),xe=ge().create({baseURL:"https://fapi.binance.com",responseType:"json"});class we{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"==typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}class ke extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,be.prototype.create)}}class be{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},i=`${this.service}/${t}`,r=this.errors[t],a=r?function(t,e){return t.replace(Se,((t,n)=>{const i=e[n];return null!=i?String(i):`<${n}?>`}))}(r,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new ke(i,o,n)}}const Se=/\{\$([^}]+)}/g;function Ie(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const n=t[r],a=e[r];if(Ce(n)&&Ce(a)){if(!Ie(n,a))return!1}else if(n!==a)return!1}for(const t of i)if(!n.includes(t))return!1;return!0}function Ce(t){return null!==t&&"object"==typeof t}function Ee(t,e=1e3,n=2){const i=e*Math.pow(n,t),r=Math.round(.5*i*(Math.random()-.5)*2);return Math.min(144e5,i+r)}function De(t){return t&&t._delegate?t._delegate:t}class Te{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ae="[DEFAULT]";class Pe{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new we;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(t){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),i=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(i)return null;throw t}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:Ae})}catch(t){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(t){}}}}clearInstance(t="[DEFAULT]"){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t="[DEFAULT]"){return this.instances.has(t)}getOptions(t="[DEFAULT]"){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[t,e]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(t)&&e.resolve(i);return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);const a=this.instances.get(i);return a&&t(a,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch(t){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Ae?void 0:i),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(t){}var i;return n||null}normalizeInstanceIdentifier(t="[DEFAULT]"){return this.component?this.component.multipleInstances?t:Ae:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Le{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Pe(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const Oe=[];var Me;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(Me||(Me={}));const Re={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},$e=Me.INFO,Be={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},je=(t,e,...n)=>{if(e<t.logLevel)return;const i=(new Date).toISOString(),r=Be[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${t.name}:`,...n)};class Fe{constructor(t){this.name=t,this._logLevel=$e,this._logHandler=je,this._userLogHandler=null,Oe.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Me))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?Re[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...t),this._logHandler(this,Me.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...t),this._logHandler(this,Me.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...t),this._logHandler(this,Me.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...t),this._logHandler(this,Me.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...t),this._logHandler(this,Me.ERROR,...t)}}class Ne{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const Ve="@firebase/app",ze="0.7.10",He=new Fe("@firebase/app"),Ue={[Ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},We=new Map,Ye=new Map;function Ke(t,e){try{t.container.addComponent(e)}catch(n){He.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qe(t){const e=t.name;if(Ye.has(e))return He.debug(`There were multiple attempts to register component ${e}.`),!1;Ye.set(e,t);for(const e of We.values())Ke(e,t);return!0}function Ze(t,e){return t.container.getProvider(e)}const Xe=new be("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Ge{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Te("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xe.create("app-deleted",{appName:this._name})}}function Je(t,e,n){var i;let r=null!==(i=Ue[t])&&void 0!==i?i:t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const t=[`Unable to register library "${r}" with version "${e}":`];return a&&t.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&t.push("and"),o&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void He.warn(t.join(" "))}qe(new Te(`${r}-version`,(()=>({library:r,version:e})),"VERSION"))}qe(new Te("platform-logger",(t=>new Ne(t)),"PRIVATE")),Je(Ve,ze,""),Je(Ve,ze,"esm2017"),Je("fire-js",""),Je("firebase","9.6.0","app");var Qe=n(8676);const tn="@firebase/installations",en="0.5.4",nn="w:0.5.4",rn=new be("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function an(t){return t instanceof ke&&t.code.includes("request-failed")}function on({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function sn(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}async function cn(t,e){const n=(await e.json()).error;return rn.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function un({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}async function ln(t){const e=await t();return e.status>=500&&e.status<600?t():e}function hn(t){return new Promise((e=>{setTimeout(e,t)}))}const fn=/^[cdef][\w-]{21}$/;function dn(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t){return(e=t,btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return fn.test(e)?e:""}catch(t){return""}}function vn(t){return`${t.appName}!${t.appId}`}const pn=new Map;function mn(t,e){const n=vn(t);yn(n,e),function(t,e){const n=(!gn&&"BroadcastChannel"in self&&(gn=new BroadcastChannel("[Firebase] FID Change"),gn.onmessage=t=>{yn(t.data.key,t.data.fid)}),gn);n&&n.postMessage({key:t,fid:e}),0===pn.size&&gn&&(gn.close(),gn=null)}(n,e)}function yn(t,e){const n=pn.get(t);if(n)for(const t of n)t(e)}let gn=null;const _n="firebase-installations-store";let xn=null;function wn(){return xn||(xn=(0,Qe.openDb)("firebase-installations-database",1,(t=>{0===t.oldVersion&&t.createObjectStore(_n)}))),xn}async function kn(t,e){const n=vn(t),i=(await wn()).transaction(_n,"readwrite"),r=i.objectStore(_n),a=await r.get(n);return await r.put(e,n),await i.complete,a&&a.fid===e.fid||mn(t,e.fid),e}async function bn(t){const e=vn(t),n=(await wn()).transaction(_n,"readwrite");await n.objectStore(_n).delete(e),await n.complete}async function Sn(t,e){const n=vn(t),i=(await wn()).transaction(_n,"readwrite"),r=i.objectStore(_n),a=await r.get(n),o=e(a);return void 0===o?await r.delete(n):await r.put(o,n),await i.complete,!o||a&&a.fid===o.fid||mn(t,o.fid),o}async function In(t){let e;const n=await Sn(t,(n=>{const i=function(t){return Dn(t||{fid:dn(),registrationStatus:0})}(n),r=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(rn.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=async function(t,e){try{const n=await async function(t,{fid:e}){const n=on(t),i=un(t),r={fid:e,authVersion:"FIS_v2",appId:t.appId,sdkVersion:nn},a={method:"POST",headers:i,body:JSON.stringify(r)},o=await ln((()=>fetch(n,a)));if(o.ok){const t=await o.json();return{fid:t.fid||e,registrationStatus:2,refreshToken:t.refreshToken,authToken:sn(t.authToken)}}throw await cn("Create Installation",o)}(t,e);return kn(t,n)}catch(n){throw an(n)&&409===n.customData.serverCode?await bn(t):await kn(t,{fid:e.fid,registrationStatus:0}),n}}(t,n);return{installationEntry:n,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Cn(t)}:{installationEntry:e}}(t,i);return e=r.registrationPromise,r.installationEntry}));return""===n.fid?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}async function Cn(t){let e=await En(t);for(;1===e.registrationStatus;)await hn(100),e=await En(t);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:n}=await In(t);return n||e}return e}function En(t){return Sn(t,(t=>{if(!t)throw rn.create("installation-not-found");return Dn(t)}))}function Dn(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}async function Tn({appConfig:t,platformLoggerProvider:e},n){const i=function(t,{fid:e}){return`${on(t)}/${e}/authTokens:generate`}(t,n),r=function(t,{refreshToken:e}){const n=un(t);return n.append("Authorization",function(t){return`FIS_v2 ${t}`}(e)),n}(t,n),a=e.getImmediate({optional:!0});a&&r.append("x-firebase-client",a.getPlatformInfoString());const o={installation:{sdkVersion:nn}},s={method:"POST",headers:r,body:JSON.stringify(o)},c=await ln((()=>fetch(i,s)));if(c.ok)return sn(await c.json());throw await cn("Generate Auth Token",c)}async function An(t,e=!1){let n;const i=await Sn(t.appConfig,(i=>{if(!Ln(i))throw rn.create("not-registered");const r=i.authToken;if(!e&&(2===(a=r).requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(a)))return i;var a;if(1===r.requestStatus)return n=async function(t,e){let n=await Pn(t.appConfig);for(;1===n.authToken.requestStatus;)await hn(100),n=await Pn(t.appConfig);const i=n.authToken;return 0===i.requestStatus?An(t,e):i}(t,e),i;{if(!navigator.onLine)throw rn.create("app-offline");const e=function(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(i);return n=async function(t,e){try{const n=await Tn(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await kn(t.appConfig,i),n}catch(n){if(!an(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await kn(t.appConfig,n)}else await bn(t.appConfig);throw n}}(t,e),e}}));return n?await n:i.authToken}function Pn(t){return Sn(t,(t=>{if(!Ln(t))throw rn.create("not-registered");return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t;var e}))}function Ln(t){return void 0!==t&&2===t.registrationStatus}function On(t){return rn.create("missing-app-config-values",{valueName:t})}const Mn="installations";qe(new Te(Mn,(t=>{const e=t.getProvider("app").getImmediate(),n=function(t){if(!t||!t.options)throw On("App Configuration");if(!t.name)throw On("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw On(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,platformLoggerProvider:Ze(e,"platform-logger"),_delete:()=>Promise.resolve()}}),"PUBLIC")),qe(new Te("installations-internal",(t=>{const e=Ze(t.getProvider("app").getImmediate(),Mn).getImmediate();return{getId:()=>async function(t){const e=t,{installationEntry:n,registrationPromise:i}=await In(e.appConfig);return i?i.catch(console.error):An(e).catch(console.error),n.fid}(e),getToken:t=>async function(t,e=!1){const n=t;return await async function(t){const{registrationPromise:e}=await In(t);e&&await e}(n.appConfig),(await An(n,e)).token}(e,t)}}),"PRIVATE")),Je(tn,en),Je(tn,en,"esm2017");const Rn="analytics",$n="https://www.googletagmanager.com/gtag/js",Bn=new Fe("@firebase/analytics");function jn(t){return Promise.all(t.map((t=>t.catch((t=>t)))))}const Fn=new be("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Nn=new class{constructor(t={},e=1e3){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function Vn(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function zn(t,e=Nn,n){const{appId:i,apiKey:r,measurementId:a}=t.options;if(!i)throw Fn.create("no-app-id");if(!r){if(a)return{measurementId:a,appId:i};throw Fn.create("no-api-key")}const o=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new Un;return setTimeout((async()=>{s.abort()}),void 0!==n?n:6e4),Hn({appId:i,apiKey:r,measurementId:a},o,s,e)}async function Hn(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=Nn){const{appId:a,measurementId:o}=t;try{await function(t,e){return new Promise(((n,i)=>{const r=Math.max(e-Date.now(),0),a=setTimeout(n,r);t.addEventListener((()=>{clearTimeout(a),i(Fn.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}(i,e)}catch(t){if(o)return Bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${t.message}]`),{appId:a,measurementId:o};throw t}try{const e=await async function(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:Vn(i)},a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),o=await fetch(a,r);if(200!==o.status&&304!==o.status){let t="";try{const n=await o.json();(null===(e=n.error)||void 0===e?void 0:e.message)&&(t=n.error.message)}catch(t){}throw Fn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:t})}return o.json()}(t);return r.deleteThrottleMetadata(a),e}catch(e){if(!function(t){if(!(t instanceof ke&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(e)){if(r.deleteThrottleMetadata(a),o)return Bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${e.message}]`),{appId:a,measurementId:o};throw e}const s=503===Number(e.customData.httpStatus)?Ee(n,r.intervalMillis,30):Ee(n,r.intervalMillis),c={throttleEndTimeMillis:Date.now()+s,backoffCount:n+1};return r.setThrottleMetadata(a,c),Bn.debug(`Calling attemptFetch again in ${s} millis`),Hn(t,c,i,r)}}class Un{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach((t=>t()))}}async function Wn(t,e,n,i,r,a,o){var s;const c=zn(t);c.then((e=>{n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Bn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${e.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((t=>Bn.error(t))),e.push(c);const u=async function(){if("object"!=typeof indexedDB)return Bn.warn(Fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await new Promise(((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}catch(t){return Bn.warn(Fn.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0}().then((t=>t?i.getId():void 0)),[l,h]=await Promise.all([c,u]);(function(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes($n))return e;return null})()||function(t,e){const n=document.createElement("script");n.src=`${$n}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}(a,l.measurementId),r("js",new Date);const f=null!==(s=null==o?void 0:o.config)&&void 0!==s?s:{};return f.origin="firebase",f.update=!0,null!=h&&(f.firebase_id=h),r("config",l.measurementId,f),l.measurementId}class Yn{constructor(t){this.app=t}_delete(){return delete Kn[this.app.options.appId],Promise.resolve()}}let Kn={},qn=[];const Zn={};let Xn,Gn,Jn="dataLayer",Qn=!1;function ti(t,e,n){!function(){const t=[];if(function(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()&&t.push("This is a browser extension environment."),"undefined"!=typeof navigator&&navigator.cookieEnabled||t.push("Cookies are not available."),t.length>0){const e=t.map(((t,e)=>`(${e+1}) ${t}`)).join(" "),n=Fn.create("invalid-analytics-context",{errorInfo:e});Bn.warn(n.message)}}();const i=t.options.appId;if(!i)throw Fn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Fn.create("no-api-key");Bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Kn[i])throw Fn.create("already-exists",{id:i});if(!Qn){!function(t){let e=[];Array.isArray(window.dataLayer)?e=window.dataLayer:window.dataLayer=e}();const{wrappedGtag:t,gtagCore:e}=function(t,e,n,i,r){let a=function(...t){window.dataLayer.push(arguments)};return window.gtag&&"function"==typeof window.gtag&&(a=window.gtag),window.gtag=function(t,e,n,i){return async function(r,a,o){try{"event"===r?await async function(t,e,n,i,r){try{let a=[];if(r&&r.send_to){let t=r.send_to;Array.isArray(t)||(t=[t]);const i=await jn(n);for(const n of t){const t=i.find((t=>t.measurementId===n)),r=t&&e[t.appId];if(!r){a=[];break}a.push(r)}}0===a.length&&(a=Object.values(e)),await Promise.all(a),t("event",i,r||{})}catch(t){Bn.error(t)}}(t,e,n,a,o):"config"===r?await async function(t,e,n,i,r,a){const o=i[r];try{if(o)await e[o];else{const t=(await jn(n)).find((t=>t.measurementId===r));t&&await e[t.appId]}}catch(t){Bn.error(t)}t("config",r,a)}(t,e,n,i,a,o):t("set",a)}catch(t){Bn.error(t)}}}(a,t,e,n),{gtagCore:a,wrappedGtag:window.gtag}}(Kn,qn,Zn);Gn=t,Xn=e,Qn=!0}return Kn[i]=Wn(t,qn,Zn,e,Xn,Jn,n),new Yn(t)}const ei="@firebase/analytics",ni="0.7.4";qe(new Te(Rn,((t,{options:e})=>ti(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),e)),"PUBLIC")),qe(new Te("analytics-internal",(function(t){try{const e=t.getProvider(Rn).getImmediate();return{logEvent:(t,n,i)=>function(t,e,n,i){t=De(t),async function(t,e,n,i,r){if(r&&r.global)t("event",n,i);else{const r=await e;t("event",n,Object.assign(Object.assign({},i),{send_to:r}))}}(Gn,Kn[t.app.options.appId],e,n,i).catch((t=>Bn.error(t)))}(e,t,n,i)}}catch(t){throw Fn.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),Je(ei,ni),Je(ei,ni,"esm2017");var ii,ri,ai={apiKey:"AIzaSyCdvy_lPGTxWhdFOf9gBNegLP9IjzUz9Oc",authDomain:"livecryptomonitor.firebaseapp.com",projectId:"livecryptomonitor",storageBucket:"livecryptomonitor.appspot.com",messagingSenderId:"87782439653",appId:"1:87782439653:web:e132ad583207e2765d720c",measurementId:"G-5JK5C7LLL0"},oi={en:{mobileWarning:"Please use desktop PC",defaultTitle:"crypto screener for scalping",levelDifference:"The difference between the current price and the nearest level in percent. Click to sort.",trendDifference:"The difference between the current price and the nearest trend line in percent. Click to sort.",orderDifference:"The difference between the current price and the nearest large order in percent. Click to sort.",orderDifferenceTitle:"The difference between the current price and the limit order in percent.",averagePriceChange:"Average price change per 5 minute interval over the last 40 hours. Click to sort.",trend:"Trend",price:"Price",volume:"Volume",percent:"%",support:"Support",settings:"Settings",removeUserShapes:"Remove my shapes",removeExpiredShapes:"Remove expired price levels and trend lines",telegram:"telegram",telegramChannel:"telegram channel",donate:"If you like the tool, please donate to keep the project going"},ru:{mobileWarning:"Пожалуйста используйте для работы компьютер",defaultTitle:"скринер плотностей и уровней для скальпинга",levelDifference:"Разница между текущей ценой и ближайшим уровнем в процентах. Кликните для сортировки.",trendDifference:"Разница между текущей ценой и ближайшей линией тренда в процентах. Кликните для сортировки.",orderDifference:"Разница между текущей ценой и ближайшим крупным лимитным ордером в процентах. Кликните для сортировки.",orderDifferenceTitle:"Разница между текущей ценой и крупным лимитным ордером в процентах.",averagePriceChange:"Среднее изменение цены за 5-минутный интервал за последние 40 часов.",trend:"Тренд",price:"Цена",volume:"Объем",percent:"%",support:"Поддержка",settings:"Настройки",removeUserShapes:"Удалить мои фигуры",removeExpiredShapes:"Удалить неактуальные уровни и наклонки",telegram:"предложения по работе инструмента",telegramChannel:"канал в телеграме",donate:"Если инструмент был полезен, поддержите его дальнейшее развитие"}},si=function(){function t(e){var n=this;i(this,t),this.actions=[],this._connected=!1,this._id=0,this.promises={},this.subscriptions={},this.onMessage=function(t){var e,i,r=null!==(e=t.data)&&void 0!==e?e:{},a=(r.d,r.m);r.p,null===(i=n[a])||void 0===i||i.call(n,t)},this.onMessageError=function(t){console.error("api worker message error",t)},this.state=e,this.worker=new SharedWorker("/build/api.js",{name:"api"}),this.worker.port.onmessage=this.onMessage,this.worker.port.onmessageerror=this.onMessageError}return e(t,[{key:"connected",get:function(){return this._connected},set:function(t){this._connected=t,t&&(this.actions.forEach((function(t){return t()})),this.actions=[])}},{key:"retryAfter",get:function(){return this._retryAfter},set:function(t){var e=this,n=Date.now();t>n&&(this._retryAfter||(Ci.setApiErrorNotification(t-n),setTimeout((function(){delete e._retryAfter,localStorage.removeItem(ne)}),t-n)),this._retryAfter=t,localStorage.setItem(ne,t.toString()))}},{key:"id",get:function(){return this.ticker+ ++this._id}},{key:"s",value:function(t){var e,n=null!==(e=t.data)&&void 0!==e?e:{},i=n.d,r=n.p;r&&(this[r]=i)}},{key:"post",value:function(t){var e=this;this.connected?this.worker.port.postMessage(t):this.actions.push((function(){return e.post(t)}))}}]),t}(),ci=(_t(ii={},1,1),_t(ii,5,2),_t(ii,Ot,3),_t(ii,Mt,4),_t(ii,Rt,5),_t(ii,$t,6),_t(ii,Bt,7),ii),ui={1:1,2:5,3:Ot,4:Mt,5:Rt,6:$t,7:Bt},li=function(t){return function(e,n){var i,r,a=null===(i=e.levels.closest[t])||void 0===i?void 0:i.p,o=null===(r=n.levels.closest[t])||void 0===r?void 0:r.p,s=e.chart.closePrice,c=n.chart.closePrice;return"number"!=typeof a?1:"number"!=typeof o?-1:Math.abs(s-a)/s-Math.abs(c-o)/c}},hi=function(){function t(){var e,n,r,a,o,s,c=this;if(i(this,t),this.lang="en",this.translations=oi.en,this.descriptionShown=!!JSON.parse(localStorage.getItem("descriptionShown")||"false"),this.descriptionElement=null,this.audio=new Audio("/assets/alarm.mp3"),this.version="",this.coins={},this.list=[],this.tickerList=[],this.singleCoin="",this.favorites={},this.marketInfo={futures:{},spot:{}},this.streamCount=0,this.chartIdsByInterval={},this.intervalsHandler={set:function(t,e,n){var i=Number(e);return t[i],t[i]=n,localStorage.setItem("intervals",JSON.stringify(t)),!0}},this.intervals=new Proxy(this.restoreIntervals(),this.intervalsHandler),this.intervalList=[],this.sortUpdated=!1,this.sortedByName=!1,this.settingsUpdated=!1,this.sortEnabled=!0,this.scrollIntoView="",this.alarmChannel=new BroadcastChannel("alarm"),this.settingsChannel=new BroadcastChannel(ee),this.mobile=!1,this.onKey={"+":function(){return c.changeDataSpace(1)},"-":function(){return c.changeDataSpace(-1)},Escape:ae,Enter:ae,F1:function(t){t&&c.lang===jt&&(t.preventDefault(),c.showDescription())},Tab:function(t){return c.changeChartMode(t)}},this.onTyping=ae,this.onKeydown=function(t){var e=t.key;e&&(e.match(/^[a-z|\d]$/i)?c.onTyping(e):c.onKey[e]&&c.onKey[e](t))},this.comparator=(_t(e={name:function(t,e){return t.name<e.name?-1:t.name>e.name?1:0}},Ot,li(Ot)),_t(e,Mt,li(Mt)),_t(e,Rt,li(Rt)),_t(e,$t,li($t)),_t(e,Bt,li(Bt)),_t(e,"trend",(function(t,e){var n,i;return"number"!=typeof(null===(n=t.levels.closestTrendLine)||void 0===n?void 0:n.price)||0===t.chart.closePrice?1:"number"!=typeof(null===(i=e.levels.closestTrendLine)||void 0===i?void 0:i.price)||0===e.chart.closePrice?-1:Math.abs(t.levels.closestTrendLine.price-t.chart.closePrice)/t.chart.closePrice-Math.abs(e.levels.closestTrendLine.price-e.chart.closePrice)/e.chart.closePrice})),_t(e,"priceChange",(function(t,e){return"number"!=typeof t.chart.averagePriceDelta?1:"number"!=typeof e.chart.averagePriceDelta?-1:e.chart.averagePriceDelta-t.chart.averagePriceDelta})),_t(e,"order",(function(t,e){return"number"!=typeof t.orderBook.minDelta?1:"number"!=typeof e.orderBook.minDelta?-1:t.orderBook.minDelta-e.orderBook.minDelta})),e),this.receivers=[],this.setTitleTicker=ae,this.setChartCurrent=ae,this.setIntervalOnUi=ae,this.setCoinList=ae,this.setCoinListCurrent=ae,this.setOrderBook=ae,this.showDescription=ae,this.showSupport=ae,this.showSettings=ae,this.updateSettings=ae,localStorage.getItem("updated")||(localStorage.removeItem(ee),localStorage.setItem("updated","y")),this.isMobile())this.mobile=!0;else{this.api=new si(this);for(var u=Number(this.chartMode.charAt(0)),l=0,h={};l<u;)h[l]||(h[l]=this.intervals[l],this.intervalList.push(this.intervals[l])),l++;this.setLanguage(),window.addEventListener("storage",(function(t){c.onStorageChange(t)})),window.addEventListener("beforeunload",(function(){Object.values(c.coins).forEach((function(t){t.close()}))}));var f=null===(r=null===(n=window.location.hash)||void 0===n?void 0:n.slice(1))||void 0===r?void 0:r.toUpperCase(),d=null===(s=null===(o=null===(a=window.location.pathname)||void 0===a?void 0:a.match(/^\/([^\/]+)\/*$/))||void 0===o?void 0:o[1])||void 0===s?void 0:s.toUpperCase();d&&(f=d+"USDT");var v=+localStorage.getItem(ne),p=function(){f?(c.singleCoin=f,c.initCoin(f)):c.init()},m=Date.now();v>m?(Ci.setApiErrorNotification(v-m),setTimeout((function(){p(),localStorage.removeItem(ne)}),v-Date.now())):p(),setInterval((function(){c.streamCount=0}),1e3),document.addEventListener("keydown",this.onKeydown),this.initFirebase(),this.checkVersion()}this.setArrowKeys()}return e(t,[{key:"interval",get:function(){if(!this._interval){var t=+localStorage.getItem("interval");t?this._interval=t:(this._interval=Bt,localStorage.setItem("interval",Bt.toString()))}return this._interval},set:function(t){this._interval=t,localStorage.setItem("interval",t.toString())}},{key:"chartMode",get:function(){return this._chartMode||(this._chartMode=localStorage.getItem("chartMode")||"4"),this._chartMode},set:function(t){this._chartMode===t||this.singleCoin||(this._chartMode=t,localStorage.setItem("chartMode",t))}},{key:"current",get:function(){if(!this._current){var t=this.singleCoin||localStorage.getItem("current");t&&this.coins[t]?this._current=this.coins[t]:this.list[0]&&(this._current=this.list[0])}return this._current},set:function(t){this._current=t,(null==t?void 0:t.ticker)&&!this.singleCoin&&localStorage.setItem("current",t.ticker)}},{key:"sort",get:function(){if(!this._sort){localStorage.getItem("sortUpdated")||(localStorage.removeItem("sort"),localStorage.setItem("sortUpdated","y")),this.sortUpdated=!0;var t,e=localStorage.getItem("sort");e&&(t=zt[e]?+e:e),t?this._sort=t:(this._sort="name",localStorage.setItem("sort",this._sort.toString()))}return this._sort},set:function(t){"name"===this._sort&&this._sort!==t&&(this.sortedByName=!1),this._sort=t,t&&localStorage.setItem("sort",t.toString())}},{key:"settings",get:function(){if(!this._settings){var t=JSON.parse(localStorage.getItem(ee));t?this._settings=t:(this._settings=ie,localStorage.setItem(ee,JSON.stringify(this._settings))),this._settingsHash=ce(this._settings)}return this._settings},set:function(t){var e=ce(t);this._settingsHash!==e&&(this._settingsHash=e,this._settings=t,localStorage.setItem(ee,JSON.stringify(this._settings)))}},{key:"isMobile",value:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent)}},{key:"setLanguage",value:function(){if(navigator.language&&Zt[navigator.language]){var t=Zt[navigator.language];this.lang!==t&&(this.lang=t,this.translations=oi[this.lang])}}},{key:"postAlarmMessage",value:function(t){this.alarmChannel.postMessage(t)}},{key:"postSettings",value:function(t){this.settingsChannel.postMessage(t)}},{key:"saveSettings",value:function(t){this.settings=t,this.updateSettings(t),this.postSettings(t)}},{key:"alarm",value:function(){this.audio.play().catch(console.error)}},{key:"disableAlarm",value:function(){this.audio.pause(),this.audio=new Audio("/assets/alarm.mp3")}},{key:"checkVersion",value:function(){var t=this;ge().get("/manifest.json?".concat(Date.now())).then((function(t){return null==t?void 0:t.data})).catch(console.error).then((function(e){(null==e?void 0:e.version)&&(t.version?t.version!==e.version&&document.location.reload():t.version=e.version)})),setTimeout((function(){return t.checkVersion()}),6e5)}},{key:"initFirebase",value:function(){!function(t=function(t="[DEFAULT]"){const e=We.get(t);if(!e)throw Xe.create("no-app",{appName:t});return e}()){const e=Ze(t=De(t),Rn);e.isInitialized()?e.getImmediate():function(t,e={}){const n=Ze(t,Rn);if(n.isInitialized()){const t=n.getImmediate();if(Ie(e,n.getOptions()))return t;throw Fn.create("already-initialized")}n.initialize({options:e})}(t)}(function(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},e),i=n.name;if("string"!=typeof i||!i)throw Xe.create("bad-app-name",{appName:String(i)});const r=We.get(i);if(r){if(Ie(t,r.options)&&Ie(n,r.config))return r;throw Xe.create("duplicate-app",{appName:i})}const a=new Le(i);for(const t of Ye.values())a.addComponent(t);const o=new Ge(t,n,a);return We.set(i,o),o}(ai))}},{key:"onStorageChange",value:function(t){var e,n=f((null===(e=t.key)||void 0===e?void 0:e.split("_"))||[],1)[0];n&&this.coins[n]?this.coins[n].restoreConfig(n):t.key===ee&&(this._settings=JSON.parse(localStorage.getItem(ee)),this.updateSettings(this._settings))}},{key:"setArrowKeys",value:function(){var t=this;this.onKey.ArrowLeft=function(){return t.changeInterval(-1)},this.onKey.ArrowRight=function(){return t.changeInterval(1)},this.onKey.ArrowUp=function(){return t.changeCurrent(-1)},this.onKey.ArrowDown=function(){return t.changeCurrent(1)}}},{key:"changeDataSpace",value:function(t){if(null==Di?void 0:Di.current){var e=Di.current;e.setDataSpace(e.getDataSpace()+t)}}},{key:"changeInterval",value:function(t){var e=Di.currentIndex,n=this.intervals[e],i=ui[ci[n]+t];i&&this.setInterval(i,e)}},{key:"changeCurrent",value:function(t){var e=this,n=this.getFavoriteColors(),i=[];n.forEach((function(t){i=[].concat(d(i),d(e.getSortedBy(e.favorites[t],e.sort)))}));var r=(i=[].concat(d(i),d(this.getSortedBy(this.list,this.sort)))).findIndex((function(t){var n;return t.ticker===(null===(n=e.current)||void 0===n?void 0:n.ticker)}));if(r>-1){var a=i[r+t];a&&(this.scrollIntoView="auto",this.setCurrent(a.ticker))}}},{key:"changeChartMode",value:function(t){var e;null==t||t.preventDefault();var n=null==t?void 0:t.shiftKey,i=Object.keys(Di.dict).filter((function(t){var e;return null===(e=Di.dict)||void 0===e?void 0:e[+t]})).sort((function(t,e){return+t-+e}));if(i.length>1){var r=Di.currentIndex;if(void 0!==r){var a=r+1*(n?-1:1);a<0?(a=+i[i.length-1],Di.setCurrent(+i[i.length-1])):(null===(e=Di.dict)||void 0===e?void 0:e[a])||(a=0),Di.setCurrent(a),Di.setCurrentChartIndexOnUi(a),this.intervals[a]&&this.setIntervalOnUi(this.intervals[a])}}}},{key:"initCoin",value:function(t){var e=this,n=new me({state:this,ticker:t});this.current=n,this.coins[t]=n,this.list=[n],n.init(),this.setCurrent(t),this.tickerList.length||this.initTickerList().catch((function(t){console.error(t),e.onError((function(){return e.initTickerList()}))}))}},{key:"init",value:function(){var t=this;this.initTickerList().then((function(){t.setCoins(),t.initCoins(),t.restoreFavorites(),t.sortAfter(2)})).catch((function(e){console.error(e),t.onError((function(){return t.init()}))}))}},{key:"onError",value:function(t){var e=6e4,n=Date.now()+e;localStorage.setItem(ne,n.toString()),Ci.setApiErrorNotification(e),setTimeout((function(){localStorage.removeItem(ne),t()}),e)}},{key:"initTickerList",value:function(){var t=this;return _e.get("/api/v3/exchangeInfo").then((function(t){var e;return null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.symbols})).then((function(t){return xe.get("/fapi/v1/exchangeInfo").then((function(t){var e;return null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.symbols})).then((function(e){return{spot:t,futures:e}}))})).then((function(e){var n=e.spot,i=e.futures;t.setSpotMarketInfo(n),t.setFuturesMarketInfo(i),t.setTickerList()}))}},{key:"setSpotMarketInfo",value:function(t){var e=this;t.filter((function(t){return"TRADING"===t.status&&"USDT"===t.quoteAsset})).forEach((function(t){e.marketInfo.spot[t.symbol]=t}))}},{key:"setFuturesMarketInfo",value:function(t){var e=this;t.filter((function(t){return"USDT"===t.quoteAsset&&"PERPETUAL"===t.contractType&&"TRADING"===t.status})).forEach((function(t){e.marketInfo.futures[t.symbol]=t}))}},{key:"setTickerList",value:function(){var t=this;Object.keys(this.marketInfo.futures).forEach((function(e){var n=Lt[e]||e;t.marketInfo.spot[n]&&t.tickerList.push(n)})),this.tickerList=this.tickerList.sort(),this.api.post({m:"s",p:"list",d:this.tickerList}),this.sendTickerList()}},{key:"setCoins",value:function(){var t=this;this.list=this.tickerList.map((function(e){return t.coins[e]=new me({state:t,ticker:e}),t.coins[e]}))}},{key:"initCoins",value:function(){var t=this;this.initCurrent(),this.list.forEach((function(e){e!==t.current&&e.init()}))}},{key:"initCurrent",value:function(){this.current&&(this.current.init(),this.setCurrent(this.current.ticker))}},{key:"setCurrent",value:function(t){var e,n;(null===(e=this.current)||void 0===e?void 0:e.ticker)!==t&&(null===(n=this.current)||void 0===n||n.unselect(),this.singleCoin&&(this.singleCoin=t,this.initCoin(t))),this.coins[t]&&(this.current=this.coins[t],Ei.levels=this.current.levels.levels,this.current.select(),this.setCoinListCurrent(this.current),this.setChartCurrent(this.current),this.setTitleTicker(t))}},{key:"getSortedBy",value:function(t,e){return t.sort(this.comparator[e])}},{key:"sortBy",value:function(t){var e=this;if(this.sortEnabled){this.sort=t;var n=this.getFavoriteColors(),i=[];n.forEach((function(t){i=[].concat(d(i),d(e.getSortedBy(e.favorites[t],e.sort)))})),i=[].concat(d(i),d(this.getSortedBy(this.list,this.sort))),this.setCoinList(i)}}},{key:"sortAfter",value:function(t){var e=this;"name"===this.sort?this.sortedByName||(this.sortBy(this.sort),this.sortedByName=!0):this.sortBy(this.sort),setTimeout((function(){return e.sortAfter(t)}),1e3*t)}},{key:"setChartIdByInterval",value:function(t,e){var n=this.chartIdsByInterval[t];this.chartIdsByInterval[t]=n?Array.from(new Set([].concat(d(n),[e]))).sort((function(t,e){return t-e})):[e]}},{key:"removeChartIdFromInterval",value:function(t){var e=this.intervals[t];if(e){var n=this.chartIdsByInterval[e];n&&(this.chartIdsByInterval[e]=n.filter((function(e){return e!==t})))}}},{key:"setInterval",value:function(t,e){var n;if(this.intervals[e]!==t){var i=this.intervals[e];this.removeChartIdFromInterval(e),this.setChartIdByInterval(t,e),null===(n=this.current)||void 0===n||n.setInterval({prev:i,next:t,chartId:e}),this.intervals[e]=t,this.setIntervalOnUi(t)}}},{key:"restoreIntervals",value:function(){var t=localStorage.getItem("intervals");return t?JSON.parse(t):(localStorage.setItem("intervals",JSON.stringify(Ut)),Ut)}},{key:"restoreFavorites",value:function(){var t=this;this.list=[],Object.values(this.coins).forEach((function(e){e.favorite?t.favorites[e.favorite]?t.favorites[e.favorite].push(e):t.favorites[e.favorite]=[e]:t.list.push(e)}))}},{key:"getFavoriteColors",value:function(){var t=this,e=[];return Wt.forEach((function(n){t.favorites[n]&&e.push(n)})),e}},{key:"setFavorite",value:function(t,e){var n=this,i=this.coins[t];if(i){i.favorite&&(this.favorites[i.favorite]=this.favorites[i.favorite].filter((function(t){return t!==i})),this.favorites[i.favorite].length||delete this.favorites[i.favorite]),i.favorite===e?(this.list.push(i),i.favorite=""):(this.favorites[e]?this.favorites[e].push(i):this.favorites[e]=[i],this.list=this.list.filter((function(t){return t!==i})),i.favorite=e),i.save();var r=this.getFavoriteColors(),a=[];r.forEach((function(t){a=[].concat(d(a),d(n.getSortedBy(n.favorites[t],n.sort)))})),a=[].concat(d(a),d(this.getSortedBy(this.list,this.sort))),this.setCoinList(a)}}},{key:"sendTickerList",value:function(){var t=this;this.receivers.forEach((function(e){return e(t.tickerList)})),this.receivers=[]}}]),t}(),fi=function(){function t(){var e=this;i(this,t),this.supported=!1,this.granted=!1,this.alarm={},this.supported="Notification"in window,this.granted=this.supported&&"granted"===Notification.permission,this.supported&&!this.granted&&"denied"!==Notification.permission&&Notification.requestPermission().then((function(t){e.granted="granted"===t})).catch(console.error)}return e(t,[{key:"send",value:function(t,e,n){if(this.granted){var i=new Notification(t,{body:"Open in new window"});i.onclick=e,i.onclose=n}}},{key:"setAlarmNotification",value:function(t,e){var n=this;if(this.granted){var i=new Notification("".concat(t," price ").concat(e.price),{body:"Open screener"});this.alarm[t]||(this.alarm[t]={}),this.alarm[t][e.uid]=i,i.onclick=function(){var r,a,o;t!==(null===(r=Ti.current)||void 0===r?void 0:r.ticker)&&Ti.setCurrent(t),Ti.disableAlarm(),i.close(),window.parent.focus(),null===(a=n.alarm[t])||void 0===a||delete a[e.uid],e.alarm=!1,null===(o=Ti.coins[t])||void 0===o||o.alarms.disable(e)}}}},{key:"setApiErrorNotification",value:function(t){if(this.granted){var e=Math.floor(t/1e3),n=new Notification("Ошибка получения данных по api Binance",{body:"Таймаут ".concat(e," секунд")});n.onclick=function(){n.close(),window.parent.focus()}}}},{key:"disableAlarmNotification",value:function(t,e){var n;if(e){var i=null===(n=this.alarm[t])||void 0===n?void 0:n[e];i&&(Ti.disableAlarm(),i.close(),delete this.alarm[t][e])}}}]),t}(),di=(n(6977),_t(ri={},1,[-3,0]),_t(ri,-1,[15,0]),_t(ri,"ask",[-3,0]),_t(ri,"bid",[15,0]),ri),vi=function(t){var e=[];if(Array.isArray(t))for(var n=0;n<t.length;){var i=t[n],r=i.timestamp,a=i.value;if(!r||!a)return[];e.push({timestamp:r,value:a}),n++}return e},pi=function(t){var e,n=(null===(e=Ti.current)||void 0===e?void 0:e.chart.priceFactor)||100;return Math.round(t*n)/n},mi=function(t,e){var n,i,r,a,o=t.name,s=t.points,c=null===(n=t.ids)||void 0===n?void 0:n[e];if(c&&"priceLine"===o||"textPriceLine"===o){var u=null===(i=null==s?void 0:s[0])||void 0===i?void 0:i.value,l=null===(r=Ti.current)||void 0===r?void 0:r.chart.closePrice;if(u&&l){var h={text:{offset:u>l?di[1]:di[-1]}};null===(a=Di.dict[e])||void 0===a||a.setShapeOptions({id:c,styles:h})}}},yi=function(t,e,n){var i,r,a,o=null===(i=Ti.current)||void 0===i?void 0:i.chart.closePrice;if(t.price&&o){var s=t.price>o?di[1]:di[-1];t.side=t.price>o?1:-1;var c={text:{offset:s,color:Yt},line:{color:Yt}};t.actual&&(c.text.color="#ffc83d",c.line.color="#ffc83d");var u={text:"".concat(qt," ").concat(t.price)};null===(r=Di.dict[n||0])||void 0===r||r.setShapeOptions({id:e,data:u}),null===(a=Di.dict[n||0])||void 0===a||a.setShapeOptions({id:e,styles:c})}},gi=function(){function t(){i(this,t),this.chart=null,this.shapeList=[],this.shapeIndex={},this.alarmLevelIndex={},this.alarmLevels=[],this.alarms={},this.levelIndex={},this.levels={},this.levelByUid={},this.trendLineIndex={},this.orderIndex={},this.cancelDrawing=ae,this.trendLines={}}return e(t,[{key:"chartIds",get:function(){return Di.dict?Object.keys(Di.dict).map((function(t){return Number(t)})).sort((function(t,e){return t-e})):[]}},{key:"createAll",value:function(t){this.createShapes(t),this.createAlarmLevels(t)}},{key:"drawAlarmLevel",value:function(t,e){var n,i,r=this;this.newShapeId&&(null===(n=Di.dict[t])||void 0===n||n.removeShape(this.newShapeId),delete this.newShapeId);var a=di[1],o="#ffc83d",s=!1,c=null===(i=Di.dict[t])||void 0===i?void 0:i.createShape({name:"textPriceLine",data:{text:qt},styles:{line:{color:o},text:{offset:a,color:o}},onRightClick:function(e){var n;return r.removeAlarmLevel(t,null===(n=e.id)||void 0===n?void 0:n.toString()),!0},onDrawEnd:function(n){var i,a,o,s,c=n.id.toString(),u=(null===(i=vi(n.points))||void 0===i?void 0:i[0])||{},l=u.timestamp,h=u.value;if(c&&h&&l){var f=pi(h),d=((null===(o=null===(a=Ti.current)||void 0===a?void 0:a.chart)||void 0===o?void 0:o.closePrice)||0)>f?-1:1,v={actual:1,ids:_t({},t,c),price:f,side:d,timestamp:l};r.alarmLevelIndex[t]||(r.alarmLevelIndex[t]={}),r.alarmLevelIndex[t][c]=v,r.chartIds.forEach((function(e){e!==t&&r.createAlarmLevel(v,e)})),yi(v,c,t),r.saveAlarm(v)}else null===(s=Di.dict[t])||void 0===s||s.removeShape(c);delete r.newShapeId,null==e||e()},onClick:function(){s=!0},onMouseLeave:function(e){s&&(s=!1,r.updateAlarmLevel(e,t))}});c&&(this.newShapeId=c)}},{key:"createAlarmLevel",value:function(t,e){var n,i=this,r=di[1],a=!1,o="#ffc83d",s={name:"textPriceLine",points:[{timestamp:t.timestamp,value:t.price}],styles:{line:{color:o},text:{offset:r,color:o}},data:{text:"".concat(qt," ").concat(t.price)},onClick:function(){a=!0},onRightClick:function(t){var n;return i.removeAlarmLevel(e,null===(n=t.id)||void 0===n?void 0:n.toString()),!0},onMouseLeave:function(t){a&&(a=!1,i.updateAlarmLevel(t,e))}};if(s.styles={line:{color:o},text:Object.assign(Object.assign({},s.styles.text),{color:o})},!t.actual){var c=Yt;s.styles={line:{color:c},text:Object.assign(Object.assign({},s.styles.text),{color:c})}}var u=null===(n=Di.dict[e])||void 0===n?void 0:n.createShape(s);return u&&(yi(t,u,e),t.ids||(t.ids={}),t.ids[e]=u,this.alarmLevelIndex[e]||(this.alarmLevelIndex[e]={}),this.alarmLevelIndex[e][u]=t),t}},{key:"createAlarmLevels",value:function(t){var e,n=this;void 0===t&&this.removeAlarmLevel(),this.alarmLevels=(null===(e=Ti.current)||void 0===e?void 0:e.alarms.list)||[],this.alarmLevelIndex={},this.alarms={},this.alarmLevels.forEach((function(e){e.uid&&!n.alarms[e.uid]&&(n.alarms[e.uid]=e),void 0===t?n.chartIds.forEach((function(t){Di.dict[t]&&n.createAlarmLevel(e,t)})):Di.dict[t]&&n.createAlarmLevel(e,t)}))}},{key:"restoreAlarmLevel",value:function(t,e){var n=this;!t.ids&&t.uid&&this.alarms[t.uid]&&(Object.assign(this.alarms[t.uid],t),t=this.alarms[t.uid]);var i=function(e){var i,r,a,o,s,c,u=null===(i=t.ids)||void 0===i?void 0:i[e];if(u){null===(r=n.alarmLevelIndex[e])||void 0===r||delete r[u],null===(a=t.ids)||void 0===a||delete a[e],null===(s=null===(o=Di.dict)||void 0===o?void 0:o[e])||void 0===s||s.removeShape(u),n.createAlarmLevel(t,e);var l=null===(c=t.ids)||void 0===c?void 0:c[e];l&&yi(t,l,e)}};void 0===e?this.chartIds.forEach((function(t){i(t)})):i(e)}},{key:"updateAlarmLevel",value:function(t,e){var n,i,r=this,a=null===(n=t.id)||void 0===n?void 0:n.toString(),o=null===(i=this.alarmLevelIndex[e])||void 0===i?void 0:i[a];this.alarmLevelUpdateTimeout&&(clearTimeout(this.alarmLevelUpdateTimeout),delete this.alarmLevelUpdateTimeout),o&&(this.alarmLevelUpdateTimeout=setTimeout((function(){var n,i=(null===(n=vi(t.points))||void 0===n?void 0:n[0])||{},s=i.timestamp,c=i.value;c&&s?(o.price=pi(c),o.timestamp=s,o.actual=1,yi(o,a,e),r.chartIds.forEach((function(t){t!==e&&r.restoreAlarmLevel(o,t)})),r.saveAlarm(o)):r.chartIds.forEach((function(t){r.restoreAlarmLevel(o,t)})),delete r.updateTimeout}),100))}},{key:"removeAlarmLevel",value:function(t,e){var n,i=this;if(void 0!==t)if(e){var r=null===(n=this.alarmLevelIndex[t])||void 0===n?void 0:n[e];r&&(r.alarm&&Ti.disableAlarm(),this.chartIds.forEach((function(t){var e,n,a,o,s=null===(e=r.ids)||void 0===e?void 0:e[t];s&&(null===(n=i.alarmLevelIndex[t])||void 0===n||delete n[s],r.uid&&(delete i.alarms[r.uid],i.alarmLevels=i.alarmLevels.filter((function(t){return t.uid!==r.uid}))),null===(o=null===(a=Di.dict)||void 0===a?void 0:a[t])||void 0===o||o.removeShape(s))})),this.deleteAlarm(r.uid))}else Object.keys(this.alarmLevelIndex[t]||{}).forEach((function(e){var n,r,a,o,s=null===(n=i.alarmLevelIndex[t])||void 0===n?void 0:n[e];s&&(null===(r=s.ids)||void 0===r||delete r[t],null===(o=null===(a=Di.dict)||void 0===a?void 0:a[t])||void 0===o||o.removeShape(e))})),delete this.alarmLevelIndex[t];else this.chartIds.forEach((function(t){Object.keys(i.alarmLevelIndex[t]||{}).forEach((function(e){var n,r,a,o,s;null===(a=null===(r=null===(n=i.alarmLevelIndex[t])||void 0===n?void 0:n[e])||void 0===r?void 0:r.ids)||void 0===a||delete a[t],null===(s=null===(o=Di.dict)||void 0===o?void 0:o[t])||void 0===s||s.removeShape(e)})),delete i.alarmLevelIndex[t]})),this.alarms={},this.alarmLevels=[]}},{key:"saveAlarm",value:function(t){var e,n=this;null===(e=Ti.current)||void 0===e||e.alarms.update(t).then((function(e){(null==e?void 0:e.uid)&&(Object.assign(t,e),n.alarms[e.uid]||(n.alarms[e.uid]=t,n.alarmLevels.push(t)))})).catch(console.error)}},{key:"deleteAlarm",value:function(t){var e;null===(e=Ti.current)||void 0===e||e.alarms.delete(t).catch(console.error)}},{key:"drawShape",value:function(t,e,n){var i,r,a=this;this.newShapeId&&(null===(i=Di.dict[e])||void 0===i||i.removeShape(this.newShapeId),delete this.newShapeId);var o=!1,s=null===(r=Di.dict[e])||void 0===r?void 0:r.createShape({name:t,onDrawEnd:function(i){var r;delete a.newShapeId;var o=i.id.toString(),s=vi(i.points);if(s.length&&Ti.current){var c={name:t,points:s,ids:_t({},e,o)};a.shapeList.push(c),a.shapeIndex[e]||(a.shapeIndex[e]={}),a.shapeIndex[e][o]=c,c.ids||(c.ids={}),c.ids[e]=o,a.chartIds.forEach((function(t){var e;(null===(e=c.ids)||void 0===e?void 0:e[t])||a.createShape(c,t)})),mi(c,e),a.saveShape(c)}else null===(r=Di.dict[e])||void 0===r||r.removeShape(o);null==n||n()},onRightClick:function(t){var n;return t.id&&a.removeShape(e,null===(n=t.id)||void 0===n?void 0:n.toString()),!0},onClick:function(){o=!0},onMouseLeave:function(t){o&&(o=!1,a.updateShape(t,e))}});s&&(this.newShapeId=s)}},{key:"createRuler",value:function(t){var e,n,i=this;this.newShapeId&&(null===(e=Di.dict[t])||void 0===e||e.removeShape(this.newShapeId),delete this.newShapeId);var r=null===(n=Di.dict[t])||void 0===n?void 0:n.createShape({name:"ruler",styles:{point:{backgroundColor:"#fff43a",borderColor:"#fff43a",borderSize:1,radius:2,activeBackgroundColor:"#fff43a",activeBorderColor:"#fff43a",activeBorderSize:1,activeRadius:2},line:{style:"dash",color:"#fff43a",size:1,dashValue:[3,3]},text:{color:"#fff43a",size:18,offset:[-15,15]}},onDrawEnd:function(){var e;r&&(null===(e=Di.dict[t])||void 0===e||e.removeShape(r),i.cancelDrawing())}});r&&(this.newShapeId=r)}},{key:"cancel",value:function(t){var e;void 0===t&&(t=Di.currentIndex,this.cancelDrawing()),void 0!==t&&this.newShapeId&&(null===(e=Di.dict[t])||void 0===e||e.removeShape(this.newShapeId),delete this.newShapeId)}},{key:"createShape",value:function(t,e){var n,i,r,a=this,o=t.name,s=t.points,c=!1;if(!(null===(n=t.ids)||void 0===n?void 0:n[e])){var u=null===(r=null===(i=Di.dict)||void 0===i?void 0:i[e])||void 0===r?void 0:r.createShape({name:o,points:s,onRightClick:function(t){return t.id&&a.removeShape(e,t.id.toString()),!0},onClick:function(){c=!0},onMouseLeave:function(t){c&&(c=!1,a.updateShape(t,e))}});u&&(this.shapeIndex[e]||(this.shapeIndex[e]={}),this.shapeIndex[e][u]=t,t.ids||(t.ids={}),t.ids[e]=u,mi(t,e))}return t}},{key:"createShapes",value:function(t){var e=this;this.shapeList.forEach((function(n){var i;void 0===t?e.chartIds.forEach((function(t){var i;Di.dict[t]&&!(null===(i=n.ids)||void 0===i?void 0:i[t])&&e.createShape(n,t)})):Di.dict[t]&&!(null===(i=n.ids)||void 0===i?void 0:i[t])&&e.createShape(n,t)})),this.setTrendLines()}},{key:"restoreShape",value:function(t,e){var n,i,r,a,o,s=null===(n=t.ids)||void 0===n?void 0:n[e];s&&(null===(i=this.shapeIndex[e])||void 0===i||delete i[s],null===(r=t.ids)||void 0===r||delete r[e],null===(o=null===(a=Di.dict)||void 0===a?void 0:a[e])||void 0===o||o.removeShape(s),this.createShape(t,e),mi(t,e))}},{key:"updateShape",value:function(t,e){var n,i,r=this,a=null===(n=t.id)||void 0===n?void 0:n.toString(),o=null===(i=this.shapeIndex[e])||void 0===i?void 0:i[a];this.updateTimeout&&(clearTimeout(this.updateTimeout),delete this.updateTimeout),o&&(this.updateTimeout=setTimeout((function(){var n=vi(t.points);n.length?(o.points=n,mi(o,e),r.chartIds.forEach((function(t){t!==e&&r.restoreShape(o,t)})),r.saveShape(o)):r.chartIds.forEach((function(t){r.restoreShape(o,t)})),delete r.updateTimeout}),100))}},{key:"removeShape",value:function(t,e){var n,i=this;if(void 0!==t)if(e){var r=null===(n=this.shapeIndex[t])||void 0===n?void 0:n[e];r&&(this.chartIds.forEach((function(t){var e,n,a,o,s=null===(e=r.ids)||void 0===e?void 0:e[t];s&&(null===(n=i.shapeIndex[t])||void 0===n||delete n[s],null===(o=null===(a=Di.dict)||void 0===a?void 0:a[t])||void 0===o||o.removeShape(s))})),this.shapeList=this.shapeList.filter((function(t){return t!==r})),this.deleteShape(r.uid))}else Object.keys(this.shapeIndex[t]||{}).forEach((function(e){var n,r,a,o,s;null===(a=null===(r=null===(n=i.shapeIndex[t])||void 0===n?void 0:n[e])||void 0===r?void 0:r.ids)||void 0===a||delete a[t],null===(s=null===(o=Di.dict)||void 0===o?void 0:o[t])||void 0===s||s.removeShape(e)})),delete this.shapeIndex[t];else this.chartIds.forEach((function(t){Object.keys(i.shapeIndex[t]||{}).forEach((function(e){var n,r,a,o,s;null===(a=null===(r=null===(n=i.shapeIndex[t])||void 0===n?void 0:n[e])||void 0===r?void 0:r.ids)||void 0===a||delete a[t],null===(s=null===(o=Di.dict)||void 0===o?void 0:o[t])||void 0===s||s.removeShape(e)})),delete i.shapeIndex[t]})),this.shapeList=[]}},{key:"updateLevel",value:function(t,e){var n=this;this.updateLevelTimeout&&(clearTimeout(this.updateLevelTimeout),delete this.updateLevelTimeout),this.updateLevelTimeout=setTimeout((function(){var i,r,a,o,s,c=null===(i=t.id)||void 0===i?void 0:i.toString();if(c&&n.levelIndex[e][c]){var u=(null===(r=Ti.current)||void 0===r?void 0:r.chart.pricePrecision)||4,l=n.levelIndex[e][c],h=null===(a=t.points)||void 0===a?void 0:a[0];(null==h?void 0:h.value)&&(null==h?void 0:h.timestamp)?(l.p=Number(h.value.toFixed(u)),l.t=h.timestamp,function(t,e,n){var i,r,a,o=null===(i=Ti.current)||void 0===i?void 0:i.chart.closePrice;if(t.p&&o){var s={text:{offset:t.p>o?di[1]:di[-1]}};null===(r=Di.dict[0])||void 0===r||r.setShapeOptions({id:e,styles:s}),null===(a=Di.dict[0])||void 0===a||a.setShapeOptions({id:e,data:{text:t.p}})}}(l,c)):(delete n.levelIndex[e][c],null===(o=l.ids)||void 0===o||delete o[e],null===(s=Di.dict[e])||void 0===s||s.removeShape(c),n.createLevel(l,e))}delete n.updateLevelTimeout}),100)}},{key:"updateLevels",value:function(){var t,e,n,i=this;this.removeLevel(),this.levels=(null===(e=null===(t=Ti.current)||void 0===t?void 0:t.levels)||void 0===e?void 0:e.levels)||{};var r=null!==(n=Ti.settings.intervals)&&void 0!==n?n:[];this.chartIds.forEach((function(t){var e=Ti.intervals[t];if(e){var n={};r.forEach((function(t){t>=e&&i.levels[t]&&Object.values(i.levels[t]).forEach((function(t){n[t.p]?n[t.p].i<t.i&&(n[t.p]=t):n[t.p]=t}))})),i.setLevelsOnChart(Object.values(n),t)}}))}},{key:"createLevel",value:function(t,e){var n,i,r=this,a=Ti.intervals[e],o=(null===(n=Kt[a])||void 0===n?void 0:n[t.i])||1,s=di[t.s],c=!1,u={name:"textPriceLine",points:[{timestamp:t.t,value:t.p}],styles:{text:{offset:s},line:{size:o}},data:{text:t.p},onRightClick:function(t){return t.id&&r.removeLevel(e,t.id.toString()),!0},onClick:function(){c=!0},onMouseLeave:function(t){t.id&&c&&(c=!1,r.updateLevel(t,e))}};if(!t.a){var l=Yt;u.styles={line:{color:l},text:Object.assign(Object.assign({},u.styles.text),{color:l})}}var h=null===(i=Di.dict[e])||void 0===i?void 0:i.createShape(u);return h&&(t.ids||(t.ids={}),t.ids[e]=h,this.levelIndex[e]||(this.levelIndex[e]={}),this.levelIndex[e][h]=t),t}},{key:"setLevelsOnChart",value:function(t,e){var n=this;Di.dict[e]&&t.forEach((function(i,r){i.ids?n.createLevel(i,e):t[r]=n.createLevel(i,e)||i}))}},{key:"removeLevel",value:function(t,e){var n,i,r=this;if(void 0!==t)if(e){var a=null===(n=this.levelIndex[t])||void 0===n?void 0:n[e];if(null===(i=this.levelIndex[t])||void 0===i||delete i[e],a){this.chartIds.forEach((function(t){var e,n,i,r=null===(e=a.ids)||void 0===e?void 0:e[t];r&&(null===(n=a.ids)||void 0===n||delete n[t],null===(i=Di.dict[t])||void 0===i||i.removeShape(r))}));var o=a.i,s=a.p;delete this.levels[o][s]}}else Object.keys(this.levelIndex[t]||{}).forEach((function(e){var n,i,a,o;null===(a=null===(i=null===(n=r.levelIndex[t])||void 0===n?void 0:n[e])||void 0===i?void 0:i.ids)||void 0===a||delete a[t],null===(o=Di.dict[t])||void 0===o||o.removeShape(e)})),delete this.levelIndex[t];else this.chartIds.forEach((function(t){Object.keys(r.levelIndex[t]||{}).forEach((function(e){var n,i,a,o;null===(a=null===(i=null===(n=r.levelIndex[t])||void 0===n?void 0:n[e])||void 0===i?void 0:i.ids)||void 0===a||delete a[t],null===(o=Di.dict[t])||void 0===o||o.removeShape(e)})),delete r.levelIndex[t]}))}},{key:"removeExpiredLevels",value:function(){var t;null===(t=Ti.current)||void 0===t||t.levels.delete().catch(console.error)}},{key:"setOrders",value:function(t){var e=this;if(this.removeOrders(),t){var n=Object.values(t),i="#c47aff";this.chartIds.forEach((function(t){n.forEach((function(n){var r,a=n.price,o=n.side,s=n.timestamp,c=n.volume;if(s){var u=di[o],l=null===(r=Di.dict[t])||void 0===r?void 0:r.createShape({name:"textPriceLine",points:[{timestamp:s,value:a}],data:{text:"".concat(a," - ").concat(oe(c))},styles:{line:{color:i},text:{color:i,offset:u}}});l&&(e.orderIndex[t]||(e.orderIndex[t]={}),e.orderIndex[t][l]=n,n.ids||(n.ids={}),n.ids[t]=l)}}))}))}}},{key:"createTrendLine",value:function(t,e){var n,i,r,a=this,o=t.name,s=t.points,c=!1;if(!(null===(n=t.ids)||void 0===n?void 0:n[e])){var u=null===(r=null===(i=Di.dict)||void 0===i?void 0:i[e])||void 0===r?void 0:r.createShape({name:o,points:s,onRightClick:function(t){return t.id&&a.removeTrendLine(e,t.id.toString()),!0},onClick:function(){c=!0},onMouseLeave:function(t){c&&(c=!1,a.updateTrendLine(t,e))}});u&&(this.trendLineIndex[e]||(this.trendLineIndex[e]={}),this.trendLineIndex[e][u]=t,t.ids||(t.ids={}),t.ids[e]=u)}return t}},{key:"restoreTrendLine",value:function(t,e){var n,i,r,a,o,s=null===(n=t.ids)||void 0===n?void 0:n[e];s&&(null===(i=this.trendLineIndex[e])||void 0===i||delete i[s],null===(r=t.ids)||void 0===r||delete r[e],null===(o=null===(a=Di.dict)||void 0===a?void 0:a[e])||void 0===o||o.removeShape(s),this.createTrendLine(t,e))}},{key:"updateTrendLine",value:function(t,e){var n,i,r=this,a=null===(n=t.id)||void 0===n?void 0:n.toString(),o=null===(i=this.trendLineIndex[e])||void 0===i?void 0:i[a];this.trendLineUpdateTimeout&&(clearTimeout(this.trendLineUpdateTimeout),delete this.trendLineUpdateTimeout),o&&(this.trendLineUpdateTimeout=setTimeout((function(){var n=vi(t.points);n.length?(o.points=n,r.chartIds.forEach((function(t){t!==e&&r.restoreTrendLine(o,t)}))):r.chartIds.forEach((function(t){r.restoreTrendLine(o,t)})),delete r.trendLineUpdateTimeout}),100))}},{key:"removeTrendLine",value:function(t,e){var n,i=this;if(void 0!==t)if(e){var r=null===(n=this.trendLineIndex[t])||void 0===n?void 0:n[e];r&&this.chartIds.forEach((function(t){var e,n,a,o,s=null===(e=r.ids)||void 0===e?void 0:e[t];s&&(null===(n=i.trendLineIndex[t])||void 0===n||delete n[s],null===(o=null===(a=Di.dict)||void 0===a?void 0:a[t])||void 0===o||o.removeShape(s))}))}else Object.keys(this.trendLineIndex[t]||{}).forEach((function(e){var n,r,a,o,s;null===(a=null===(r=null===(n=i.trendLineIndex[t])||void 0===n?void 0:n[e])||void 0===r?void 0:r.ids)||void 0===a||delete a[t],null===(s=null===(o=Di.dict)||void 0===o?void 0:o[t])||void 0===s||s.removeShape(e)})),delete this.trendLineIndex[t];else this.chartIds.forEach((function(t){Object.keys(i.trendLineIndex[t]||{}).forEach((function(e){var n,r,a,o,s;null===(a=null===(r=null===(n=i.trendLineIndex[t])||void 0===n?void 0:n[e])||void 0===r?void 0:r.ids)||void 0===a||delete a[t],null===(s=null===(o=Di.dict)||void 0===o?void 0:o[t])||void 0===s||s.removeShape(e)})),delete i.trendLineIndex[t]})),this.trendLines={}}},{key:"setTrendLinesOnChart",value:function(t,e){var n=this;this.removeTrendLine(e),Object.keys(t||{}).forEach((function(i){var r,a=n.trendLines[i],o="#595959",s=t[i];a?a.ids[e]||(n.createTrendLine(a,e),s.active&&(o=1===s.side?"#2a732c":"#932929")):(a=n.createTrendLine({name:"rayLine",points:s.points},e),s.active&&(o=1===s.side?"#2a732c":"#932929"),n.trendLines[i]=a),null===(r=Di.dict[e])||void 0===r||r.setShapeOptions({id:a.ids[e],styles:{line:{color:o}}})}))}},{key:"setTrendLines",value:function(t){var e,n,i=this;this.removeTrendLine(),t||(t=(null===(n=null===(e=Ti.current)||void 0===e?void 0:e.levels)||void 0===n?void 0:n.trendLines)||{}),Object.keys(t).forEach((function(e){var n;null===(n=Ti.chartIdsByInterval[e])||void 0===n||n.forEach((function(n){i.setTrendLinesOnChart(t[e],n)}))}))}},{key:"removeOrders",value:function(){var t=this;this.chartIds.forEach((function(e){t.orderIndex[e]&&(Object.keys(t.orderIndex[e]).forEach((function(t){var n;null===(n=Di.dict[e])||void 0===n||n.removeShape(t)})),delete t.orderIndex[e])}))}},{key:"updateType",value:function(t){var e,n,i;if("level"===t){var r=null===(n=null===(e=Ti.current)||void 0===e?void 0:e.levels)||void 0===n?void 0:n.levels;r&&(this.levels=r,this.updateLevels())}else"alarm"===t?this.createAlarmLevels():"order"===t&&this.setOrders(null===(i=Ti.current)||void 0===i?void 0:i.orderBook.bigOrders)}},{key:"removeAll",value:function(){this.removeAlarmLevel(),this.removeLevel(),this.removeOrders(),this.removeShape(),this.removeTrendLine()}},{key:"clearChart",value:function(){this.removeShape(),this.deleteShape()}},{key:"saveShape",value:function(t){var e;null===(e=Ti.current)||void 0===e||e.shapes.update(t).then((function(e){e&&(t.uid=e)})).catch(console.error)}},{key:"deleteShape",value:function(t){var e;null===(e=Ti.current)||void 0===e||e.shapes.delete(t).catch(console.error)}}]),t}(),_i=n(821),xi="#383838",wi={name:"VOLUME",calcParams:[],shouldCheckParamCount:!1,shouldFormatBigNumber:!0,precision:0,minValue:0,plots:[{key:"volume",title:"",type:"bar",baseValue:0,color:function(t,e){var n=t.current.kLineData||{};return n.close>n.open?e.bar.upColor:n.close<n.open?e.bar.downColor:e.bar.noChangeColor}}],regeneratePlots:function(){return[{key:"volume",title:"",type:"bar",baseValue:0,color:function(t,e){var n=t.current.kLineData||{};return n.close>n.open?e.bar.upColor:n.close<n.open?e.bar.downColor:e.bar.noChangeColor}}]},calcTechnicalIndicator:function(t,e){var n=e.params,i=e.plots,r=[];return t.map((function(e,a){var o=e.volume||0,s={volume:o};return n.forEach((function(e,n){r[n]=(r[n]||0)+o,a>=e-1&&(s[i[n].key]=r[n]/e,r[n]-=t[a-(e-1)].volume)})),s}))}},ki=function(t,e,n){if(!n||!t||!e)return!1;if(t.x===e.x)return Math.abs(n.x-t.x)<2;var i=function(t,e){var n=t.x-e.x;if(0!==n){var i=(t.y-e.y)/n;return{k:i,b:t.y-i*t.x}}}(t,e)||{b:0,k:0},r=function(t,e){return t?e.x*t.k+t.b:e.y}(i,n),a=Math.abs(r-n.y);return a*a/(i.k*i.k+1)<4},bi={name:"textPriceLine",totalStep:2,checkEventCoordinateOnShape:function(t){var e,n,i,r=t.dataSource,a=t.eventCoordinate,o=r;return e=o[0],n=o[1],!!ki(e,n,i=a)&&(e.x===n.x?e.y<n.y?e.y-i.y<2:i.y-e.y<2:e.x<n.x?e.x-i.x<2:i.x-e.x<2)},createShapeDataSource:function(t){var e=t.coordinates,n=t.viewport,i=t.precision,r=t.yAxis,a=t.data;return[{type:"line",isDraw:!0,isCheck:!0,dataSource:[[e[0],{x:n.width,y:e[0].y}]]},{type:"text",isDraw:!0,isCheck:!1,dataSource:[{x:e[0].x,y:e[0].y,text:(null==a?void 0:a.text)||r.convertFromPixel(e[0].y).toFixed(i.price)}]}]}},Si={name:"ruler",totalStep:3,checkEventCoordinateOnShape:function(t){var e,n,i,r=t.dataSource,a=t.eventCoordinate;return e=r[0],n=r[1],!!ki(e,n,i=a)&&(e.x===n.x?Math.abs(e.y-i.y)+Math.abs(n.y-i.y)-Math.abs(e.y-n.y)<4:Math.abs(e.x-i.x)+Math.abs(n.x-i.x)-Math.abs(e.x-n.x)<4)},createShapeDataSource:function(t){var e,n,i,r,a=t.coordinates,o=t.points,s=[];2===a.length&&(s=[a]);var c=null===(e=null==o?void 0:o[0])||void 0===e?void 0:e.value,u=null===(n=null==o?void 0:o[1])||void 0===n?void 0:n.value,l=null===(i=null==o?void 0:o[0])||void 0===i?void 0:i.timestamp,h=(null===(r=null==o?void 0:o[1])||void 0===r?void 0:r.timestamp)-l,f=Math.abs(h)/1e3,d="",v=Math.floor(f/86400);v&&(d+=v+"d");var p=Math.floor(f%86400/3600);p&&(d+=(d?" ":"")+p+"h");var m=Math.floor(f%86400%3600/60);m&&(d+=(d?" ":"")+m+"m"),d&&(d="  "+(h<0?"-":"")+d);var y=Math.round((u-c)/c*1e4)/100+"%"+d;return[{type:"line",isDraw:!0,isCheck:!0,dataSource:s},{type:"text",isDraw:!0,isCheck:!1,dataSource:[{x:a[1].x,y:a[1].y,text:y}]}]}},Ii=function(){function t(){var e=this;i(this,t),this.dict={},this.currentIndex=0,this.shapes=Ei,this.elementsHandler={set:function(t,n,i){var r=Number(n),a=t[r];return i?a?a===i||(e.destroy(r),e.create(i,r)):e.create(i,r):(e.currentIndex===r&&(e.setCurrent(0),e.setCurrentChartIndexOnUi(0)),e.destroy(r)),t[r]=i,!0}},this.elements=new Proxy({},this.elementsHandler),this.setCurrentChartIndexOnUi=ae}return e(t,[{key:"create",value:function(t,e){if(t&&void 0!==e){var n=(0,_i.init)(t,{candle:{priceMark:{high:{show:!1},low:{show:!1}}}});if(n){this.dict[e]=n,n.setStyleOptions({grid:{horizontal:{color:o="dark"=="dark"?"#383838":"#ededed"},vertical:{color:o}},candle:{priceMark:{high:{color:a="#929AA5"},low:{color:a}},tooltip:{text:{color:a},labels:["T: ","O: ","C: ","H: ","L: ","V: "]}},technicalIndicator:{tooltip:{text:{color:a}}},xAxis:{axisLine:{color:s=xi},tickLine:{color:s},tickText:{color:a}},yAxis:{axisLine:{color:s},tickLine:{color:s},tickText:{color:a}},separator:{color:s},crosshair:{horizontal:{line:{color:xi},text:{backgroundColor:"#373a40"}},vertical:{line:{color:"#383838"},text:{backgroundColor:"#373a40"}}}}),n.setTimezone("UTC"),n.setDataSpace(3),n.setOffsetRightSpace(150),n.addTechnicalIndicatorTemplate(wi),n.addShapeTemplate(bi),n.addShapeTemplate(Si),n.createTechnicalIndicator("VOLUME",!1,{height:70}),n.loadMore((function(t){var n;return null===(n=Ti.current)||void 0===n?void 0:n.chart.loadMore(t,e)}));var i=Ti.intervals[e],r=Ti.current;i&&(r&&r.chart.updateChart({chartId:e,interval:i,onUpdated:function(){return Ei.createAll(e)}}),Ti.setChartIdByInterval(i,e))}}var a,o,s}},{key:"destroy",value:function(t){var e,n;if(void 0===t)Object.values(this.dict).forEach((function(t){(0,_i.dispose)(t)})),this.dict={};else if(this.dict[t]){Ei.removeShape(t),Ei.removeAlarmLevel(t),Ei.removeLevel(t);var i=Ti.intervals[t];i&&1===(null===(e=Ti.chartIdsByInterval[i])||void 0===e?void 0:e.length)&&(null===(n=Ti.current)||void 0===n||n.chart.unsubscribe([i])),(0,_i.dispose)(this.dict[t]),delete this.dict[t],Ti.removeChartIdFromInterval(t)}}},{key:"resize",value:function(){Object.values(this.dict).forEach((function(t){t.resize()}))}},{key:"setCurrent",value:function(t){this.currentIndex=t,this.current=this.dict[t]}}]),t}(),Ci=new fi,Ei=new gi,Di=new Ii,Ti=new hi;function Ai(t){var e,n,i,r,a,o,s,c,u,l,h,d,p,m,y;return{c:function(){var f,v,g;e=T("div"),n=T("div"),r=L(),a=T("div"),o=P(t[5]),c=L(),u=T("div"),l=P(t[1]),d=L(),p=T("div"),m=P(t[4]),$(n,"class",i="indicator "+t[3]+" svelte-sihnlr"),V(n,"width",t[2]),$(a,"class","value svelte-sihnlr"),$(e,"class",s="volume "+(null===(f=t[0])||void 0===f?void 0:f.side)+" svelte-sihnlr"),$(u,"class",h="value "+(null===(v=t[0])||void 0===v?void 0:v.side)+" svelte-sihnlr"),$(p,"class",y="value "+(null===(g=t[0])||void 0===g?void 0:g.side)+" svelte-sihnlr")},m:function(t,i){C(t,e,i),I(e,n),I(e,r),I(e,a),I(a,o),C(t,c,i),C(t,u,i),I(u,l),C(t,d,i),C(t,p,i),I(p,m)},p:function(t,r){var a,c,d,v=f(r,1)[0];8&v&&i!==(i="indicator "+t[3]+" svelte-sihnlr")&&$(n,"class",i),4&v&&V(n,"width",t[2]),32&v&&F(o,t[5]),1&v&&s!==(s="volume "+(null===(a=t[0])||void 0===a?void 0:a.side)+" svelte-sihnlr")&&$(e,"class",s),2&v&&F(l,t[1]),1&v&&h!==(h="value "+(null===(c=t[0])||void 0===c?void 0:c.side)+" svelte-sihnlr")&&$(u,"class",h),16&v&&F(m,t[4]),1&v&&y!==(y="value "+(null===(d=t[0])||void 0===d?void 0:d.side)+" svelte-sihnlr")&&$(p,"class",y)},i:v,o:v,d:function(t){t&&E(e),t&&E(c),t&&E(u),t&&E(d),t&&E(p)}}}function Pi(t,e,n){var i,r,a,o,s,c=e.order,u=e.largeVolume,l=e.best;return t.$$set=function(t){"order"in t&&n(0,c=t.order),"largeVolume"in t&&n(6,u=t.largeVolume),"best"in t&&n(7,l=t.best)},t.$$.update=function(){if(195&t.$$.dirty){var e=c.volume;n(1,i=c.price),n(2,r=function(t,e){if(t&&e){var n=t/(10*e)*100;return n>100&&(n=100),"".concat(n,"%")}return"0"}(e,u)),n(3,a=function(t,e){if(t&&e){if(t>e)return"volume3";if(t>e/2)return"volume2"}return"volume1"}(e,u)),n(4,o=function(t,e){return t&&e?Math.round(Math.abs(t-e)/e*1e4)/100:""}(i,l)),n(5,s=oe(e))}},[c,i,r,a,o,s,u,l]}n(5003);var Li=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,Pi,Ai,w,{order:0,largeVolume:6,best:7}),e}return e(l)}(gt);function Oi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Mi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oi(Object(n),!0).forEach((function(e){_t(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ri(t,e,n){var i=t.slice();return i[5]=e[n],i}function $i(t,e,n){var i=t.slice();return i[5]=e[n],i}function Bi(t,e){var n,i,r;return i=new Li({props:{largeVolume:e[2],order:Mi({},e[5]),best:e[1].ask}}),{key:t,first:null,c:function(){n=O(),dt(i.$$.fragment),this.first=n},m:function(t,e){C(t,n,e),vt(i,t,e),r=!0},p:function(t,n){e=t;var r={};4&n&&(r.largeVolume=e[2]),1&n&&(r.order=Mi({},e[5])),2&n&&(r.best=e[1].ask),i.$set(r)},i:function(t){r||(ct(i.$$.fragment,t),r=!0)},o:function(t){ut(i.$$.fragment,t),r=!1},d:function(t){t&&E(n),pt(i,t)}}}function ji(t,e){var n,i,r;return i=new Li({props:{largeVolume:e[2],order:Mi({},e[5]),best:e[1].bid}}),{key:t,first:null,c:function(){n=O(),dt(i.$$.fragment),this.first=n},m:function(t,e){C(t,n,e),vt(i,t,e),r=!0},p:function(t,n){e=t;var r={};4&n&&(r.largeVolume=e[2]),1&n&&(r.order=Mi({},e[5])),2&n&&(r.best=e[1].bid),i.$set(r)},i:function(t){r||(ct(i.$$.fragment,t),r=!0)},o:function(t){ut(i.$$.fragment,t),r=!1},d:function(t){t&&E(n),pt(i,t)}}}function Fi(t){for(var e,n,i,r,a,o,s,c,u,l,h=t[3].percent+"",d=[],v=new Map,p=[],m=new Map,y=t[0].ask,g=function(t){return t[5].price},_=0;_<y.length;_+=1){var x=$i(t,y,_),w=g(x);v.set(w,d[_]=Bi(w,x))}for(var k=t[0].bid,b=function(t){return t[5].price},S=0;S<k.length;S+=1){var D=Ri(t,k,S),A=b(D);m.set(A,p[S]=ji(A,D))}return{c:function(){e=T("div"),(n=T("div")).textContent="".concat(t[3].volume),i=L(),(r=T("div")).textContent="".concat(t[3].price),a=L(),o=T("div"),s=P(h),c=L();for(var l=0;l<d.length;l+=1)d[l].c();u=L();for(var f=0;f<p.length;f+=1)p[f].c();$(n,"class","header svelte-c6fq84"),$(r,"class","header svelte-c6fq84"),$(o,"class","header svelte-c6fq84"),$(o,"title",t[3].orderDifferenceTitle),$(e,"class","orderBook svelte-c6fq84"),$(e,"tabindex","0")},m:function(t,h){C(t,e,h),I(e,n),I(e,i),I(e,r),I(e,a),I(e,o),I(o,s),I(e,c);for(var f=0;f<d.length;f+=1)d[f].m(e,null);I(e,u);for(var v=0;v<p.length;v+=1)p[v].m(e,null);l=!0},p:function(t,n){var i=f(n,1)[0];7&i&&(y=t[0].ask,ot(),d=ft(d,i,g,1,t,y,v,e,ht,Bi,u,$i),st()),7&i&&(k=t[0].bid,ot(),p=ft(p,i,b,1,t,k,m,e,ht,ji,null,Ri),st())},i:function(t){if(!l){for(var e=0;e<y.length;e+=1)ct(d[e]);for(var n=0;n<k.length;n+=1)ct(p[n]);l=!0}},o:function(t){for(var e=0;e<d.length;e+=1)ut(d[e]);for(var n=0;n<p.length;n+=1)ut(p[n]);l=!1},d:function(t){t&&E(e);for(var n=0;n<d.length;n+=1)d[n].d();for(var i=0;i<p.length;i+=1)p[i].d()}}}function Ni(t,e,n){var i,r=Ti.translations,a={ask:[],bid:[]},o={ask:0,bid:0};return W((function(){return Ti.setOrderBook=function(t,e,r){n(0,a=t),n(1,o=e),n(2,i=r)},function(){Ti.setOrderBook=ae}})),[a,o,i,r]}var Vi=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,Ni,Fi,w,{}),e}return e(l)}(gt),zi=Vi;function Hi(t,e,n){var i=t.slice();return i[8]=e[n],i}function Ui(t){var e;return{c:function(){e=P("☆")},m:function(t,n){C(t,e,n)},p:v,d:function(t){t&&E(e)}}}function Wi(t){var e,n,i,r;return{c:function(){e=T("span"),n=P("★"),V(e,"color",t[0])},m:function(a,o){C(a,e,o),I(e,n),i||(r=M(e,"click",(function(){x(t[3](t[0]))&&t[3](t[0]).apply(this,arguments)})),i=!0)},p:function(n,i){t=n,1&i&&V(e,"color",t[0])},d:function(t){t&&E(e),i=!1,r()}}}function Yi(t,e){var n,i,r,a;return{key:t,first:null,c:function(){n=T("span"),i=P("★"),V(n,"color",e[8]),$(n,"class","svelte-1l4rupy"),this.first=n},m:function(t,o){C(t,n,o),I(n,i),r||(a=M(n,"click",(function(){x(e[3](e[8]))&&e[3](e[8]).apply(this,arguments)})),r=!0)},p:function(t,i){e=t,4&i&&V(n,"color",e[8])},d:function(t){t&&E(n),r=!1,a()}}}function Ki(t){var e,n,i,r,a,o,s=[],c=new Map;function u(t,e){return t[0]?Wi:Ui}for(var l=u(t),h=l(t),d=t[2],p=function(t){return t[8]},m=0;m<d.length;m+=1){var y=Hi(t,d,m),g=p(y);c.set(g,s[m]=Yi(g,y))}return{c:function(){e=T("div"),h.c(),n=L(),i=T("div");for(var a=0;a<s.length;a+=1)s[a].c();$(i,"class",r=S(se("add",t[1]))+" svelte-1l4rupy"),$(e,"class","favorite svelte-1l4rupy")},m:function(r,c){C(r,e,c),h.m(e,null),I(e,n),I(e,i);for(var u=0;u<s.length;u+=1)s[u].m(i,null);a||(o=[M(e,"mouseenter",t[4]()),M(e,"mouseleave",t[4](!1))],a=!0)},p:function(t,a){var o=f(a,1)[0];l===(l=u(t))&&h?h.p(t,o):(h.d(1),(h=l(t))&&(h.c(),h.m(e,n))),12&o&&(d=t[2],s=ft(s,o,p,1,t,d,c,i,lt,Yi,null,Hi)),2&o&&r!==(r=S(se("add",t[1]))+" svelte-1l4rupy")&&$(i,"class",r)},i:v,o:v,d:function(t){t&&E(e),h.d();for(var n=0;n<s.length;n+=1)s[n].d();a=!1,_(o)}}}function qi(t,e,n){var i,r,a=e.coin,o=null==a?void 0:a.state,s="",c=null==a?void 0:a.favorite;return t.$$set=function(t){"coin"in t&&n(5,a=t.coin)},t.$$.update=function(){1&t.$$.dirty&&n(2,r=c?[c].concat(d(Wt.filter((function(t){return t!==c})))):d(Wt))},[c,s,r,function(t){return function(e){e.stopPropagation(),o.setFavorite(a.ticker,t),n(0,c=a.favorite),n(1,s="")}},function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(){i&&!t?clearTimeout(i):i=setTimeout((function(){i=null,n(1,s=t?"visible":"")}),100)}},a]}var Zi=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,qi,Ki,w,{coin:5}),e}return e(l)}(gt);function Xi(t){var e,n;return{c:function(){e=A("svg"),$(n=A("path"),"d","M5 13C5.6875 13 6.25 12.4 6.25 11.6667H3.75C3.75 12.4 4.30625 13 5 13ZM8.75 9V5.66667C8.75 3.62 7.725 1.90667 5.9375 1.45333V1C5.9375 0.446667 5.51875 0 5 0C4.48125 0 4.0625 0.446667 4.0625 1V1.45333C2.26875 1.90667 1.25 3.61333 1.25 5.66667V9L0 10.3333V11H10V10.3333L8.75 9Z"),$(n,"fill","currentColor"),$(e,"width","10"),$(e,"height","13"),$(e,"viewBox","0 0 10 13"),$(e,"fill","none"),$(e,"xmlns","http://www.w3.org/2000/svg")},m:function(t,i){C(t,e,i),I(e,n)},p:v,i:v,o:v,d:function(t){t&&E(e)}}}var Gi=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,null,Xi,w,{}),e}return e(l)}(gt);function Ji(t,e,n){var i=t.slice();return i[22]=e[n],i}function Qi(t,e){var n,i,r,a,o=nr(e[8][e[22]],e[7])+"";return{key:t,first:null,c:function(){var t,s;n=T("div"),i=P(o),$(n,"class",r=S(rr(null===(t=e[8][e[22]])||void 0===t?void 0:t.s))+" svelte-10q9bfz"),$(n,"title",a=rr(null===(s=e[8][e[22]])||void 0===s?void 0:s.s)),this.first=n},m:function(t,e){C(t,n,e),I(n,i)},p:function(t,s){var c,u;e=t,386&s&&o!==(o=nr(e[8][e[22]],e[7])+"")&&F(i,o),258&s&&r!==(r=S(rr(null===(c=e[8][e[22]])||void 0===c?void 0:c.s))+" svelte-10q9bfz")&&$(n,"class",r),258&s&&a!==(a=rr(null===(u=e[8][e[22]])||void 0===u?void 0:u.s))&&$(n,"title",a)},d:function(t){t&&E(n)}}}function tr(t){var e,n,i;return{c:function(){e=T("div"),n=P(t[5]),$(e,"class",i=S(t[6])+" svelte-10q9bfz"),$(e,"title",t[6])},m:function(t,i){C(t,e,i),I(e,n)},p:function(t,r){32&r&&F(n,t[5]),64&r&&i!==(i=S(t[6])+" svelte-10q9bfz")&&$(e,"class",i),64&r&&$(e,"title",t[6])},d:function(t){t&&E(e)}}}function er(t){var e,n,i,r,a,o,s,c,u,l,h,d,v,p,m,y,g,w,k,b,D,A,O,R,B,j,N,V,H,U,W,Y,K=t[0].name+"",q=[],Z=new Map,X=ir(null===(e=t[9])||void 0===e?void 0:e.price,t[7])+"",G=(t[12]||"")+"";o=new Zi({props:{coin:t[0]}}),d=new Gi({});for(var J=null!==(n=null===(i=t[1])||void 0===i?void 0:i.intervals)&&void 0!==n?n:[],Q=function(t){return t[22]},tt=0;tt<J.length;tt+=1){var et=Ji(t,J,tt),nt=Q(et);Z.set(nt,q[tt]=Qi(nt,et))}var it=(null===(r=t[1])||void 0===r?void 0:r.orderBook)&&tr(t);return{c:function(){var e,n;a=T("div"),dt(o.$$.fragment),s=L(),c=T("div"),u=P(K),l=L(),h=T("div"),dt(d.$$.fragment),p=L(),m=T("div"),y=T("a"),g=P("❏"),w=L();for(var i=0;i<q.length;i+=1)q[i].c();k=L(),b=T("div"),D=P(X),R=L(),it&&it.c(),B=L(),j=T("div"),N=P(G),$(c,"class","title"),$(h,"class","alarm svelte-10q9bfz"),$(h,"title",v=t[11]?"Disable alarm":""),z(h,"hasAlarm",t[10]),z(h,"alarmNow",t[11]),$(y,"href","/".concat(t[14],"/")),$(y,"target","_blank"),$(y,"class","link svelte-10q9bfz"),$(y,"title","Open in new window"),$(b,"class",A=S(null===(e=t[9])||void 0===e?void 0:e.side)+" svelte-10q9bfz"),$(b,"title",O=null===(n=t[9])||void 0===n?void 0:n.side),$(a,"class",V=S(se("row",t[2]&&"selected"))+" svelte-10q9bfz"),$(a,"style",H="grid-template-columns: 20px 80px 20px 20px repeat(".concat(t[13],", 45px)"))},m:function(e,n){C(e,a,n),vt(o,a,null),I(a,s),I(a,c),I(c,u),I(a,l),I(a,h),vt(d,h,null),I(a,p),I(a,m),I(m,y),I(y,g),I(a,w);for(var i=0;i<q.length;i+=1)q[i].m(a,null);I(a,k),I(a,b),I(b,D),I(a,R),it&&it.m(a,null),I(a,B),I(a,j),I(j,N),t[20](a),U=!0,W||(Y=[M(h,"click",t[16]),M(y,"click",t[15]),M(a,"click",(function(){x(t[3])&&t[3].apply(this,arguments)}))],W=!0)},p:function(e,n){var i,r,s,c,l=f(n,1)[0];t=e;var d,p,m={};1&l&&(m.coin=t[0]),o.$set(m),(!U||1&l)&&K!==(K=t[0].name+"")&&F(u,K),(!U||2048&l&&v!==(v=t[11]?"Disable alarm":""))&&$(h,"title",v),1024&l&&z(h,"hasAlarm",t[10]),2048&l&&z(h,"alarmNow",t[11]),386&l&&(J=null!==(d=null===(p=t[1])||void 0===p?void 0:p.intervals)&&void 0!==d?d:[],q=ft(q,l,Q,1,t,J,Z,a,lt,Qi,k,Ji)),(!U||640&l)&&X!==(X=ir(null===(i=t[9])||void 0===i?void 0:i.price,t[7])+"")&&F(D,X),(!U||512&l&&A!==(A=S(null===(r=t[9])||void 0===r?void 0:r.side)+" svelte-10q9bfz"))&&$(b,"class",A),(!U||512&l&&O!==(O=null===(s=t[9])||void 0===s?void 0:s.side))&&$(b,"title",O),null!==(c=t[1])&&void 0!==c&&c.orderBook?it?it.p(t,l):((it=tr(t)).c(),it.m(a,B)):it&&(it.d(1),it=null),(!U||4096&l)&&G!==(G=(t[12]||"")+"")&&F(N,G),(!U||4&l&&V!==(V=S(se("row",t[2]&&"selected"))+" svelte-10q9bfz"))&&$(a,"class",V),(!U||8192&l&&H!==(H="grid-template-columns: 20px 80px 20px 20px repeat(".concat(t[13],", 45px)")))&&$(a,"style",H)},i:function(t){U||(ct(o.$$.fragment,t),ct(d.$$.fragment,t),U=!0)},o:function(t){ut(o.$$.fragment,t),ut(d.$$.fragment,t),U=!1},d:function(e){e&&E(a),pt(o),pt(d);for(var n=0;n<q.length;n+=1)q[n].d();it&&it.d(),t[20](null),W=!1,_(Y)}}}var nr=function(t,e){return t&&e?Math.round(Math.abs(t.p-e)/e*1e4)/100:""},ir=function(t,e){return t&&e?Math.round(Math.abs(t-e)/e*1e4)/100:""},rr=function(t){return 1===t?"high":-1===t?"low":""};function ar(t,e,n){var i,r,a,o,s=e.settings,c=e.coin,u=e.container,l=e.isCurrent,h=void 0!==l&&l,f=e.onClick,d=null===(i=null==c?void 0:c.name)||void 0===i?void 0:i.toLowerCase(),v="",p="",m=null==c?void 0:c.chart.closePrice,y=null==c?void 0:c.levels.closest,g=null==c?void 0:c.levels.closestTrendLine,_=null==c?void 0:c.alarms.hasAlarm,x=null==c?void 0:c.alarms.isAlarm,w=6;return W((function(){return n(0,c.orderBook.setClosestOrder=function(t,e){void 0!==t?(n(5,v=(Math.round(1e4*t)/100).toString()),n(6,p=(null==e?void 0:e.side)||"")):(n(5,v=""),n(6,p=""))},c),n(0,c.chart.setClosestLevelOnList=function(t,e){n(8,y=t),n(7,m=e)},c),n(0,c.chart.setAveragePriceDelta=function(t){n(12,o=Math.round(1e4*t)/100)},c),n(0,c.chart.setClosestTrendLineOnList=function(t){n(9,g=t)},c),n(0,c.alarms.setOnUi=function(t){n(10,_=t.hasAlarm),n(11,x=t.isAlarm)},c),function(){n(0,c.orderBook.setClosestOrder=ae,c),n(0,c.chart.setClosestLevelOnList=ae,c),n(0,c.chart.setClosestTrendLineOnList=ae,c),n(0,c.chart.setAveragePriceDelta=ae,c),n(0,c.alarms.setOnUi=ae,c)}})),t.$$set=function(t){"settings"in t&&n(1,s=t.settings),"coin"in t&&n(0,c=t.coin),"container"in t&&n(17,u=t.container),"isCurrent"in t&&n(2,h=t.isCurrent),"onClick"in t&&n(3,f=t.onClick)},t.$$.update=function(){if(655380&t.$$.dirty&&h&&Ti.scrollIntoView){var e=null==a?void 0:a.getBoundingClientRect(),i=null==u?void 0:u.getBoundingClientRect();if(e&&i){var o={behavior:Ti.scrollIntoView,block:"start",inline:"nearest"};e.top<i.top?(null==a||a.scrollIntoView(o),n(19,Ti.scrollIntoView="",Ti)):e.top+e.height>i.top+i.height&&(o.block="end",null==a||a.scrollIntoView(o),n(19,Ti.scrollIntoView="",Ti))}}262146&t.$$.dirty&&n(13,w=2+((null===n(18,r=null==s?void 0:s.intervals)||void 0===r?void 0:r.length)||0)+((null==s?void 0:s.orderBook)?1:0))},[c,s,h,f,a,v,p,m,y,g,_,x,o,w,d,function(t){t.preventDefault(),t.stopPropagation(),d&&window.open("/".concat(d,"/"),c.ticker,"popup")},function(t){t.stopPropagation(),null==c||c.alarms.disable()},u,r,Ti,function(t){q[t?"unshift":"push"]((function(){n(4,a=t)}))}]}var or=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,ar,er,w,{settings:1,coin:0,container:17,isCurrent:2,onClick:3}),e}return e(l)}(gt),sr=or;function cr(t,e,n){var i=t.slice();return i[7]=e[n],i}function ur(t){var e;return{c:function(){(e=T("span")).textContent="▲",$(e,"class","svelte-11fk0ho")},m:function(t,n){C(t,e,n)},d:function(t){t&&E(e)}}}function lr(t){var e;return{c:function(){(e=T("span")).textContent="▲",$(e,"class","svelte-11fk0ho")},m:function(t,n){C(t,e,n)},d:function(t){t&&E(e)}}}function hr(t,e){var n,i,r,a,o,s,c=Vt[e[7]]+"",u=e[1]===e[7]&&lr();return{key:t,first:null,c:function(){n=T("div"),i=P(c),r=L(),u&&u.c(),a=L(),$(n,"title",e[3].levelDifference),this.first=n},m:function(t,c){C(t,n,c),I(n,i),I(n,r),u&&u.m(n,null),I(n,a),o||(s=M(n,"click",(function(){x(e[4](e[7]))&&e[4](e[7]).apply(this,arguments)})),o=!0)},p:function(t,r){e=t,1&r&&c!==(c=Vt[e[7]]+"")&&F(i,c),e[1]===e[7]?u||((u=lr()).c(),u.m(n,a)):u&&(u.d(1),u=null)},d:function(t){t&&E(n),u&&u.d(),o=!1,s()}}}function fr(t){var e;return{c:function(){(e=T("span")).textContent="▲",$(e,"class","svelte-11fk0ho")},m:function(t,n){C(t,e,n)},d:function(t){t&&E(e)}}}function dr(t){var e,n,i,r,a="order"===t[1]&&vr();return{c:function(){e=T("div"),n=P("O "),a&&a.c(),$(e,"title",t[3].orderDifference)},m:function(o,s){C(o,e,s),I(e,n),a&&a.m(e,null),i||(r=M(e,"click",t[4]("order")),i=!0)},p:function(t,n){"order"===t[1]?a||((a=vr()).c(),a.m(e,null)):a&&(a.d(1),a=null)},d:function(t){t&&E(e),a&&a.d(),i=!1,r()}}}function vr(t){var e;return{c:function(){(e=T("span")).textContent="▲",$(e,"class","svelte-11fk0ho")},m:function(t,n){C(t,e,n)},d:function(t){t&&E(e)}}}function pr(t){var e;return{c:function(){(e=T("span")).textContent="▲",$(e,"class","svelte-11fk0ho")},m:function(t,n){C(t,e,n)},d:function(t){t&&E(e)}}}function mr(t){for(var e,n,i,r,a,o,s,c,u,l,h,d,p,m,y,g,x,w,k,b,S,D,A,O=[],R=new Map,B="name"===t[1]&&ur(),j=null!==(e=null===(n=t[0])||void 0===n?void 0:n.intervals)&&void 0!==e?e:[],F=function(t){return t[7]},N=0;N<j.length;N+=1){var V=cr(t,j,N),z=F(V);R.set(z,O[N]=hr(z,V))}var H="trend"===t[1]&&fr(),U=(null===(i=t[0])||void 0===i?void 0:i.orderBook)&&dr(t),W="priceChange"===t[1]&&pr();return{c:function(){r=T("div"),(a=T("div")).textContent="★",o=L(),s=T("div"),c=P("Coin "),B&&B.c(),u=L(),l=T("div"),h=L(),d=T("div"),p=L();for(var e=0;e<O.length;e+=1)O[e].c();m=L(),y=T("div"),g=P("T "),H&&H.c(),x=L(),U&&U.c(),w=L(),k=T("div"),b=P("P "),W&&W.c(),$(y,"title",t[3].trendDifference),$(k,"title",t[3].averagePriceChange),$(r,"class","row svelte-11fk0ho"),$(r,"style",S="grid-template-columns: 20px 80px 20px 20px repeat(".concat(t[2],", 45px)"))},m:function(e,n){C(e,r,n),I(r,a),I(r,o),I(r,s),I(s,c),B&&B.m(s,null),I(r,u),I(r,l),I(r,h),I(r,d),I(r,p);for(var i=0;i<O.length;i+=1)O[i].m(r,null);I(r,m),I(r,y),I(y,g),H&&H.m(y,null),I(r,x),U&&U.m(r,null),I(r,w),I(r,k),I(k,b),W&&W.m(k,null),D||(A=[M(s,"click",t[4]("name")),M(y,"click",t[4]("trend")),M(k,"click",t[4]("priceChange"))],D=!0)},p:function(t,e){var n,i,a,o=f(e,1)[0];"name"===t[1]?B||((B=ur()).c(),B.m(s,null)):B&&(B.d(1),B=null),27&o&&(j=null!==(i=null===(a=t[0])||void 0===a?void 0:a.intervals)&&void 0!==i?i:[],O=ft(O,o,F,1,t,j,R,r,lt,hr,m,cr)),"trend"===t[1]?H||((H=fr()).c(),H.m(y,null)):H&&(H.d(1),H=null),null!==(n=t[0])&&void 0!==n&&n.orderBook?U?U.p(t,o):((U=dr(t)).c(),U.m(r,w)):U&&(U.d(1),U=null),"priceChange"===t[1]?W||((W=pr()).c(),W.m(k,null)):W&&(W.d(1),W=null),4&o&&S!==(S="grid-template-columns: 20px 80px 20px 20px repeat(".concat(t[2],", 45px)"))&&$(r,"style",S)},i:v,o:v,d:function(t){t&&E(r),B&&B.d();for(var e=0;e<O.length;e+=1)O[e].d();H&&H.d(),U&&U.d(),W&&W.d(),D=!1,_(A)}}}function yr(t,e,n){var i,r=e.settings,a=Ti.sort,o=Ti.translations,s=6;return t.$$set=function(t){"settings"in t&&n(0,r=t.settings)},t.$$.update=function(){33&t.$$.dirty&&n(2,s=2+((null===n(5,i=null==r?void 0:r.intervals)||void 0===i?void 0:i.length)||0)+((null==r?void 0:r.orderBook)?1:0))},[r,a,s,o,function(t){return function(){Ti.sortEnabled=!0,Ti.sortBy(t),n(1,a=t),Ti.sortEnabled=!1}},i]}var gr=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,yr,mr,w,{settings:0}),e}return e(l)}(gt);function _r(t,e,n){var i=t.slice();return i[7]=e[n],i}function xr(t,e){var n,i,r,a;return r=new sr({props:{coin:e[7],container:e[3],isCurrent:e[7].ticker===(null===(n=e[2])||void 0===n?void 0:n.ticker),onClick:e[4](e[7].ticker),settings:e[0]}}),{key:t,first:null,c:function(){i=O(),dt(r.$$.fragment),this.first=i},m:function(t,e){C(t,i,e),vt(r,t,e),a=!0},p:function(t,n){var i;e=t;var a={};2&n&&(a.coin=e[7]),8&n&&(a.container=e[3]),6&n&&(a.isCurrent=e[7].ticker===(null===(i=e[2])||void 0===i?void 0:i.ticker)),2&n&&(a.onClick=e[4](e[7].ticker)),1&n&&(a.settings=e[0]),r.$set(a)},i:function(t){a||(ct(r.$$.fragment,t),a=!0)},o:function(t){ut(r.$$.fragment,t),a=!1},d:function(t){t&&E(i),pt(r,t)}}}function wr(t){var e,n,i,r,a=[],o=new Map;e=new gr({props:{settings:t[0]}});for(var s=t[1],c=function(t){return t[7].ticker},u=0;u<s.length;u+=1){var l=_r(t,s,u),h=c(l);o.set(h,a[u]=xr(h,l))}return{c:function(){dt(e.$$.fragment),n=L(),i=T("div");for(var t=0;t<a.length;t+=1)a[t].c();$(i,"class","list svelte-4u8311")},m:function(o,s){vt(e,o,s),C(o,n,s),C(o,i,s);for(var c=0;c<a.length;c+=1)a[c].m(i,null);t[5](i),r=!0},p:function(t,n){var r=f(n,1)[0],u={};1&r&&(u.settings=t[0]),e.$set(u),31&r&&(s=t[1],ot(),a=ft(a,r,c,1,t,s,o,i,ht,xr,null,_r),st())},i:function(t){if(!r){ct(e.$$.fragment,t);for(var n=0;n<s.length;n+=1)ct(a[n]);r=!0}},o:function(t){ut(e.$$.fragment,t);for(var n=0;n<a.length;n+=1)ut(a[n]);r=!1},d:function(r){pt(e,r),r&&E(n),r&&E(i);for(var o=0;o<a.length;o+=1)a[o].d();t[5](null)}}}function kr(t,e,n){var i,r=e.settings,a=[],o=Ti.current;return W((function(){return Ti.setCoinList=function(t){n(1,a=t)},Ti.setCoinListCurrent=function(t){n(2,o=t)},function(){Ti.setCoinList=ae,Ti.setCoinListCurrent=ae}})),t.$$set=function(t){"settings"in t&&n(0,r=t.settings)},[r,a,o,i,function(t){return function(){Ti.setCurrent(t)}},function(t){q[t?"unshift":"push"]((function(){n(3,i=t)}))}]}var br=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,kr,wr,w,{settings:0}),e}return e(l)}(gt);function Sr(t){var e,n,i;return{c:function(){e=A("svg"),n=A("rect"),i=A("path"),$(n,"x",".5"),$(n,"y",".5"),$(n,"width","21"),$(n,"height","21"),$(n,"rx","1.5"),$(n,"stroke","currentColor"),$(i,"d","M14.8 3.037c-.132.057-11.71 11.391-11.76 11.513a.513.513 0 0 0-.003.39c.063.141 3.647 3.966 3.763 4.013a.48.48 0 0 0 .393 0c.06-.025 2.485-2.431 5.935-5.884 5.218-5.222 5.834-5.85 5.853-5.957.053-.29.134-.193-1.853-2.19-1.053-1.056-1.879-1.856-1.935-1.882a.522.522 0 0 0-.393-.003Zm1.603 2.57 1.39 1.39-5.39 5.39-5.394 5.394-1.387-1.49c-.766-.82-1.391-1.507-1.391-1.526 0-.018.244-.274.54-.565l.541-.528.688.687.684.685.35-.354.353-.35-.681-.68-.678-.68.61-.608.609-.61.68.682.68.678.352-.353.35-.35-.675-.672-.672-.672.619-.6.619-.6 1.04 1.037 1.038 1.038.35-.353.353-.35-1.028-1.028c-.566-.566-1.022-1.041-1.016-1.057.006-.015.281-.29.61-.609l.593-.584.656.656.654.653.359-.36.36-.359-.65-.65-.647-.65.587-.584c.325-.322.603-.584.619-.584.015 0 .312.284.66.63l.634.635.359-.36.36-.359-.645-.643-.64-.644.587-.566c.322-.312.594-.565.603-.568.01 0 .641.625 1.407 1.39Z"),$(i,"fill","currentColor"),$(e,"width","22"),$(e,"height","22"),$(e,"viewBox","0 0 22 22"),$(e,"fill","none"),$(e,"xmlns","http://www.w3.org/2000/svg")},m:function(t,r){C(t,e,r),I(e,n),I(e,i)},p:v,i:v,o:v,d:function(t){t&&E(e)}}}var Ir=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,null,Sr,w,{}),e}return e(l)}(gt);function Cr(t){var e,n,i,r;return{c:function(){e=A("svg"),n=A("rect"),i=A("path"),r=A("path"),$(n,"x","0.5"),$(n,"y","0.5"),$(n,"width","21"),$(n,"height","21"),$(n,"rx","1.5"),$(n,"stroke","currentColor"),$(i,"d","M3.11325 17L6 19.8868L8.88675 17L6 14.1132L3.11325 17ZM18 16.5L6 16.5L6 17.5L18 17.5L18 16.5Z"),$(i,"fill","currentColor"),$(r,"d","M11 16C11.6875 16 12.25 15.4 12.25 14.6667H9.75C9.75 15.4 10.3062 16 11 16ZM14.75 12V8.66667C14.75 6.62 13.725 4.90667 11.9375 4.45333V4C11.9375 3.44667 11.5187 3 11 3C10.4813 3 10.0625 3.44667 10.0625 4V4.45333C8.26875 4.90667 7.25 6.61333 7.25 8.66667V12L6 13.3333V14H16V13.3333L14.75 12Z"),$(r,"fill","currentColor"),$(e,"width","22"),$(e,"height","22"),$(e,"viewBox","0 0 22 22"),$(e,"fill","none"),$(e,"xmlns","http://www.w3.org/2000/svg")},m:function(t,a){C(t,e,a),I(e,n),I(e,i),I(e,r)},p:v,i:v,o:v,d:function(t){t&&E(e)}}}var Er=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,null,Cr,w,{}),e}return e(l)}(gt);function Dr(t){var e,n,i;return{c:function(){e=A("svg"),n=A("rect"),i=A("path"),$(n,"x","0.5"),$(n,"y","0.5"),$(n,"width","21"),$(n,"height","21"),$(n,"rx","1.5"),$(n,"stroke","currentColor"),$(i,"d","M3.95876 18.0412H8.04124L8.04124 13.9588L3.95876 13.9588L3.95876 18.0412ZM15.6464 5.64645L5.64645 15.6464L6.35355 16.3536L16.3536 6.35355L15.6464 5.64645Z"),$(i,"fill","currentColor"),$(e,"width","22"),$(e,"height","22"),$(e,"viewBox","0 0 22 22"),$(e,"fill","none"),$(e,"xmlns","http://www.w3.org/2000/svg")},m:function(t,r){C(t,e,r),I(e,n),I(e,i)},p:v,i:v,o:v,d:function(t){t&&E(e)}}}var Tr=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,null,Dr,w,{}),e}return e(l)}(gt);function Ar(t){var e,n,i,r;return{c:function(){e=A("svg"),n=A("rect"),i=A("path"),r=A("path"),$(n,"x","0.5"),$(n,"y","0.5"),$(n,"width","21"),$(n,"height","21"),$(n,"rx","1.5"),$(n,"stroke","currentColor"),$(i,"d","M3.11325 14L6 16.8868L8.88675 14L6 11.1132L3.11325 14ZM18 13.5L6 13.5L6 14.5L18 14.5L18 13.5Z"),$(i,"fill","currentColor"),$(r,"d","M13.7617 10.3521C13.7617 10.0825 13.6665 9.85547 13.4761 9.6709C13.2886 9.48633 12.9707 9.31934 12.5225 9.16992C11.8984 8.97949 11.4429 8.73193 11.1558 8.42725C10.8716 8.11963 10.7295 7.72998 10.7295 7.2583C10.7295 6.77783 10.8687 6.38379 11.147 6.07617C11.4282 5.76855 11.8135 5.58545 12.3027 5.52686V4.56445H12.9575V5.53125C13.4497 5.59863 13.832 5.80518 14.1045 6.15088C14.3799 6.49658 14.5176 6.96973 14.5176 7.57031H13.709C13.709 7.15723 13.6108 6.8291 13.4146 6.58594C13.2183 6.34277 12.9531 6.22119 12.6191 6.22119C12.2705 6.22119 12.0039 6.31201 11.8193 6.49365C11.6348 6.67236 11.5425 6.92285 11.5425 7.24512C11.5425 7.54395 11.6392 7.78271 11.8325 7.96143C12.0288 8.13721 12.3496 8.29834 12.7949 8.44482C13.2432 8.58838 13.5918 8.74805 13.8408 8.92383C14.0928 9.09668 14.2773 9.29883 14.3945 9.53027C14.5146 9.76172 14.5747 10.0327 14.5747 10.3433C14.5747 10.8384 14.4253 11.2368 14.1265 11.5386C13.8306 11.8403 13.4146 12.019 12.8784 12.0747V12.9141H12.228V12.0747C11.6831 12.0249 11.2554 11.8315 10.9448 11.4946C10.6372 11.1548 10.4834 10.6948 10.4834 10.1147H11.2964C11.2964 10.522 11.4033 10.8354 11.6172 11.0552C11.8311 11.2749 12.1343 11.3848 12.5269 11.3848C12.9106 11.3848 13.2124 11.2925 13.4321 11.1079C13.6519 10.9233 13.7617 10.6714 13.7617 10.3521Z"),$(r,"fill","currentColor"),$(e,"width","22"),$(e,"height","22"),$(e,"viewBox","0 0 22 22"),$(e,"fill","none"),$(e,"xmlns","http://www.w3.org/2000/svg")},m:function(t,a){C(t,e,a),I(e,n),I(e,i),I(e,r)},p:v,i:v,o:v,d:function(t){t&&E(e)}}}var Pr=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,null,Ar,w,{}),e}return e(l)}(gt);function Lr(t){var e,n,i;return{c:function(){e=A("svg"),n=A("rect"),i=A("path"),$(n,"x",".5"),$(n,"y",".5"),$(n,"width","21"),$(n,"height","21"),$(n,"rx","1.5"),$(n,"stroke","currentColor"),$(i,"d","M8.56 7.852V15h-.904V8.98l-1.821.664v-.816l2.583-.976h.142Zm6.084 6.123V7.5h.908V15h-.83l-.078-1.025Zm-3.555-1.558v-.102c0-.404.049-.77.146-1.1.101-.331.243-.616.425-.854a1.875 1.875 0 0 1 1.518-.742c.333 0 .622.059.87.176.25.114.462.281.635.503.175.218.314.482.415.79.1.31.17.66.21 1.05v.45a4.603 4.603 0 0 1-.21 1.045c-.101.31-.24.573-.415.79a1.737 1.737 0 0 1-.635.504c-.25.114-.544.17-.88.17-.308 0-.591-.066-.849-.2a2.005 2.005 0 0 1-.659-.561 2.735 2.735 0 0 1-.425-.85 3.739 3.739 0 0 1-.146-1.069Zm.908-.102v.102c0 .264.026.511.078.742.056.231.14.435.254.61.114.176.259.315.435.416.176.097.385.146.63.146.299 0 .545-.063.737-.19a1.42 1.42 0 0 0 .469-.503c.117-.209.208-.435.273-.679v-1.177a2.604 2.604 0 0 0-.17-.517 1.594 1.594 0 0 0-.284-.45 1.226 1.226 0 0 0-.425-.317 1.376 1.376 0 0 0-.59-.117c-.248 0-.461.052-.64.156-.176.101-.321.241-.435.42-.114.176-.199.38-.254.615a3.37 3.37 0 0 0-.078.743Z"),$(i,"fill","currentColor"),$(e,"width","22"),$(e,"height","22"),$(e,"fill","none"),$(e,"xmlns","http://www.w3.org/2000/svg")},m:function(t,r){C(t,e,r),I(e,n),I(e,i)},p:v,i:v,o:v,d:function(t){t&&E(e)}}}var Or=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,null,Lr,w,{}),e}return e(l)}(gt);function Mr(t){var e,n,i;return{c:function(){e=A("svg"),n=A("rect"),i=A("path"),$(n,"x",".5"),$(n,"y",".5"),$(n,"width","21"),$(n,"height","21"),$(n,"rx","1.5"),$(n,"stroke","currentColor"),$(i,"d","M10.396 12.607v.743H5.259v-.533l3.183-4.926h.738l-.791 1.425-2.105 3.291h4.112Zm-.992-4.716V15h-.903V7.89h.903Zm2.813-.391V15h-.904V7.5h.904Zm-.215 4.658-.376-.014c.003-.362.057-.695.161-1.001.104-.31.25-.578.44-.806a1.957 1.957 0 0 1 1.547-.718c.26 0 .495.036.704.108.208.068.385.179.532.332.15.153.263.351.342.595.078.241.117.536.117.884V15h-.909v-3.472c0-.276-.04-.498-.122-.664a.75.75 0 0 0-.356-.366 1.28 1.28 0 0 0-.576-.117c-.225 0-.43.047-.615.142-.183.094-.34.224-.474.39-.13.166-.233.357-.308.571a2.088 2.088 0 0 0-.107.674Z"),$(i,"fill","currentColor"),$(e,"width","22"),$(e,"height","22"),$(e,"fill","none"),$(e,"xmlns","http://www.w3.org/2000/svg")},m:function(t,r){C(t,e,r),I(e,n),I(e,i)},p:v,i:v,o:v,d:function(t){t&&E(e)}}}var Rr=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,null,Mr,w,{}),e}return e(l)}(gt),$r=Rr;function Br(t){var e,n,i;return{c:function(){e=A("svg"),n=A("rect"),i=A("path"),$(n,"x",".5"),$(n,"y",".5"),$(n,"width","21"),$(n,"height","21"),$(n,"rx","1.5"),$(n,"stroke","currentColor"),$(i,"d","M8.56 7.852V15h-.904V8.98l-1.821.664v-.816l2.583-.976h.142Zm3.657-.352V15h-.904V7.5h.904Zm-.215 4.658-.376-.014c.003-.362.057-.695.161-1.001.104-.31.25-.578.44-.806a1.957 1.957 0 0 1 1.547-.718c.26 0 .495.036.704.108.208.068.385.179.532.332.15.153.263.351.342.595.078.241.117.536.117.884V15h-.909v-3.472c0-.276-.04-.498-.122-.664a.75.75 0 0 0-.356-.366 1.28 1.28 0 0 0-.576-.117c-.225 0-.43.047-.615.142-.183.094-.34.224-.474.39-.13.166-.233.357-.308.571a2.088 2.088 0 0 0-.107.674Z"),$(i,"fill","currentColor"),$(e,"width","22"),$(e,"height","22"),$(e,"fill","none"),$(e,"xmlns","http://www.w3.org/2000/svg")},m:function(t,r){C(t,e,r),I(e,n),I(e,i)},p:v,i:v,o:v,d:function(t){t&&E(e)}}}var jr=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,null,Br,w,{}),e}return e(l)}(gt),Fr=jr;function Nr(t){var e,n,i;return{c:function(){e=A("svg"),n=A("rect"),i=A("path"),$(n,"x",".5"),$(n,"y",".5"),$(n,"width","23"),$(n,"height","21"),$(n,"rx","1.5"),$(n,"stroke","currentColor"),$(i,"d","M3.91 11.001h.644c.315 0 .576-.052.781-.156.208-.108.363-.253.464-.435.104-.185.156-.394.156-.625 0-.273-.045-.503-.137-.688a.915.915 0 0 0-.41-.42c-.182-.095-.413-.142-.693-.142-.254 0-.479.05-.674.152a1.108 1.108 0 0 0-.454.42 1.246 1.246 0 0 0-.161.644h-.904c0-.361.092-.69.274-.986.182-.297.438-.533.767-.708a2.427 2.427 0 0 1 1.152-.264c.43 0 .806.076 1.128.23.322.15.573.374.752.673.179.297.268.666.268 1.109 0 .179-.042.37-.127.576-.081.202-.21.39-.385.566-.173.176-.398.32-.674.435-.277.11-.609.166-.996.166h-.772V11Zm0 .742v-.542h.77c.453 0 .827.054 1.124.161.296.108.529.251.698.43.172.179.293.376.361.59a2.162 2.162 0 0 1-.063 1.519c-.11.258-.269.476-.474.655-.202.179-.44.314-.713.405a2.809 2.809 0 0 1-.893.137c-.31 0-.6-.044-.874-.132a2.264 2.264 0 0 1-.718-.381 1.783 1.783 0 0 1-.488-.62 1.95 1.95 0 0 1-.176-.845h.903c0 .248.054.464.161.65.111.185.267.33.47.434.204.101.445.151.722.151.276 0 .514-.047.713-.141.201-.098.356-.244.463-.44.111-.195.167-.44.167-.737 0-.296-.062-.539-.186-.727a1.088 1.088 0 0 0-.527-.425 2.045 2.045 0 0 0-.796-.142h-.645Zm8.769-.864v1.084c0 .583-.052 1.074-.156 1.475-.105.4-.254.722-.45.966a1.71 1.71 0 0 1-.708.533 2.52 2.52 0 0 1-.928.16c-.273 0-.525-.034-.756-.102a1.796 1.796 0 0 1-.625-.327 1.984 1.984 0 0 1-.47-.596c-.13-.244-.229-.54-.297-.888a6.404 6.404 0 0 1-.102-1.221v-1.084c0-.583.052-1.071.156-1.465.107-.394.259-.71.454-.947.195-.241.43-.414.703-.518.277-.104.586-.156.928-.156.276 0 .53.034.761.103.235.065.443.17.626.317.182.143.336.335.463.576.13.238.23.529.298.874.069.345.103.75.103 1.216Zm-.909 1.23v-1.382a5.3 5.3 0 0 0-.058-.84 2.64 2.64 0 0 0-.161-.624 1.236 1.236 0 0 0-.274-.42.966.966 0 0 0-.376-.235 1.351 1.351 0 0 0-.473-.078c-.215 0-.405.041-.572.122a1.027 1.027 0 0 0-.42.376c-.11.173-.195.4-.253.679-.059.28-.088.62-.088 1.02v1.382c0 .32.018.601.053.845.04.244.096.456.171.635.075.176.166.32.274.434.107.114.23.199.37.254.144.052.302.079.475.079.22 0 .414-.043.58-.127.167-.085.305-.217.416-.396a2.06 2.06 0 0 0 .254-.698c.055-.287.082-.628.082-1.026Zm3.067-1.342V15h-.908V9.717h.86l.048 1.05Zm-.186 1.391-.42-.014c.004-.362.05-.695.142-1.001.091-.31.226-.578.405-.806a1.8 1.8 0 0 1 .67-.527c.266-.127.575-.19.927-.19.247 0 .475.035.684.107.208.068.389.177.542.327.153.15.271.341.356.576.085.234.127.518.127.85V15h-.903v-3.477c0-.276-.047-.498-.142-.664a.81.81 0 0 0-.39-.361 1.41 1.41 0 0 0-.596-.117c-.267 0-.49.047-.67.142a1.13 1.13 0 0 0-.429.39 1.761 1.761 0 0 0-.234.571 3.2 3.2 0 0 0-.069.674Zm3.423-.498-.605.186c.003-.29.05-.568.141-.835.095-.267.23-.505.406-.713.179-.209.398-.373.659-.493.26-.124.558-.186.893-.186.284 0 .534.038.752.112.222.075.407.19.557.347.153.153.268.35.347.59.078.242.117.528.117.86V15h-.908v-3.481c0-.297-.048-.526-.142-.689a.738.738 0 0 0-.39-.347 1.56 1.56 0 0 0-.596-.102 1.28 1.28 0 0 0-.528.102 1.091 1.091 0 0 0-.385.284 1.237 1.237 0 0 0-.24.405 1.507 1.507 0 0 0-.078.488Z"),$(i,"fill","currentColor"),$(e,"width","24"),$(e,"height","22"),$(e,"fill","none"),$(e,"xmlns","http://www.w3.org/2000/svg")},m:function(t,r){C(t,e,r),I(e,n),I(e,i)},p:v,i:v,o:v,d:function(t){t&&E(e)}}}var Vr=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,null,Nr,w,{}),e}return e(l)}(gt),zr=Vr;function Hr(t){var e,n,i;return{c:function(){e=A("svg"),n=A("rect"),i=A("path"),$(n,"x",".5"),$(n,"y",".5"),$(n,"width","22"),$(n,"height","21"),$(n,"rx","1.5"),$(n,"stroke","currentColor"),$(i,"d","M4.56 7.852V15h-.904V8.98l-1.821.664v-.816l2.583-.976h.142Zm3.798 3.764-.722-.185.356-3.54h3.648v.835H8.759l-.215 1.933c.13-.075.295-.145.493-.21.202-.065.433-.097.693-.097.33 0 .624.056.884.17.26.111.482.27.664.479.186.208.327.459.425.752.098.293.147.62.147.981 0 .342-.048.656-.142.943-.091.286-.23.537-.415.752-.186.211-.42.376-.703.493-.28.117-.61.176-.991.176-.287 0-.559-.04-.816-.118a2.1 2.1 0 0 1-.683-.366A1.984 1.984 0 0 1 7.61 14a2.47 2.47 0 0 1-.234-.87h.86c.038.268.117.492.234.675.117.182.27.32.459.415.192.09.415.136.669.136.214 0 .405-.037.57-.112.167-.075.307-.182.42-.322.115-.14.201-.31.26-.508.062-.199.092-.421.092-.669 0-.224-.03-.433-.092-.625a1.43 1.43 0 0 0-.279-.503 1.218 1.218 0 0 0-.444-.332 1.426 1.426 0 0 0-.605-.122c-.303 0-.533.04-.689.122-.153.082-.31.192-.474.332Zm5.479-.85V15h-.908V9.717h.86l.048 1.05Zm-.186 1.392-.42-.014c.004-.362.05-.695.142-1.001.091-.31.226-.578.405-.806a1.8 1.8 0 0 1 .67-.527c.266-.127.575-.19.927-.19.247 0 .475.035.684.107.208.068.389.177.542.327.153.15.271.341.356.576.085.234.127.518.127.85V15h-.903v-3.477c0-.276-.047-.498-.142-.664a.81.81 0 0 0-.39-.361 1.41 1.41 0 0 0-.596-.117c-.267 0-.49.047-.67.142a1.13 1.13 0 0 0-.429.39 1.761 1.761 0 0 0-.234.571 3.2 3.2 0 0 0-.069.674Zm3.423-.498-.605.186c.003-.29.05-.568.141-.835.095-.267.23-.505.406-.713.179-.209.398-.373.659-.493.26-.124.558-.186.893-.186.284 0 .534.038.752.112.222.075.407.19.557.347.153.153.268.35.347.59.078.242.117.528.117.86V15h-.908v-3.481c0-.297-.048-.526-.142-.689a.738.738 0 0 0-.39-.347 1.56 1.56 0 0 0-.596-.102 1.28 1.28 0 0 0-.528.102 1.091 1.091 0 0 0-.385.284 1.237 1.237 0 0 0-.24.405 1.507 1.507 0 0 0-.078.488Z"),$(i,"fill","currentColor"),$(e,"width","23"),$(e,"height","22"),$(e,"fill","none"),$(e,"xmlns","http://www.w3.org/2000/svg")},m:function(t,r){C(t,e,r),I(e,n),I(e,i)},p:v,i:v,o:v,d:function(t){t&&E(e)}}}var Ur=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,null,Hr,w,{}),e}return e(l)}(gt),Wr=Ur;function Yr(t){var e,n,i;return{c:function(){e=A("svg"),n=A("rect"),i=A("path"),$(n,"x",".5"),$(n,"y",".5"),$(n,"width","21"),$(n,"height","21"),$(n,"rx","1.5"),$(n,"stroke","currentColor"),$(i,"d","m5.733 11.616-.722-.185.356-3.54h3.648v.835H6.134l-.215 1.933c.13-.075.295-.145.493-.21.202-.065.433-.097.693-.097.33 0 .624.056.884.17.26.111.482.27.664.479.186.208.327.459.425.752.098.293.147.62.147.981 0 .342-.048.656-.142.943-.091.286-.23.537-.415.752-.186.211-.42.376-.703.493-.28.117-.61.176-.991.176-.287 0-.559-.04-.816-.118a2.1 2.1 0 0 1-.683-.366A1.984 1.984 0 0 1 4.986 14a2.47 2.47 0 0 1-.234-.87h.86c.038.268.117.492.234.675.117.182.27.32.459.415.192.09.415.136.669.136.214 0 .405-.037.57-.112.167-.075.307-.182.42-.322.115-.14.201-.31.26-.508.061-.199.092-.421.092-.669 0-.224-.03-.433-.092-.625a1.43 1.43 0 0 0-.279-.503 1.219 1.219 0 0 0-.444-.332 1.426 1.426 0 0 0-.605-.122c-.303 0-.533.04-.689.122-.153.082-.31.192-.474.332Zm5.479-.85V15h-.908V9.717h.86l.048 1.05Zm-.186 1.392-.42-.014c.004-.362.05-.695.142-1.001.091-.31.226-.578.405-.806a1.8 1.8 0 0 1 .67-.527c.266-.127.575-.19.927-.19.247 0 .475.035.684.107.208.068.389.177.542.327.153.15.271.341.356.576.085.234.127.518.127.85V15h-.903v-3.477c0-.276-.047-.498-.142-.664a.81.81 0 0 0-.39-.361 1.41 1.41 0 0 0-.596-.117c-.267 0-.49.047-.67.142a1.13 1.13 0 0 0-.429.39 1.761 1.761 0 0 0-.234.571 3.2 3.2 0 0 0-.069.674Zm3.423-.498-.605.186c.003-.29.05-.568.141-.835.095-.267.23-.505.406-.713.179-.209.398-.373.659-.493.26-.124.558-.186.893-.186.284 0 .534.038.752.112.222.075.407.19.557.347.153.153.268.35.347.59.078.242.117.528.117.86V15h-.908v-3.481c0-.297-.048-.526-.142-.689a.738.738 0 0 0-.39-.347 1.56 1.56 0 0 0-.596-.102 1.28 1.28 0 0 0-.528.102 1.091 1.091 0 0 0-.385.284 1.237 1.237 0 0 0-.24.405 1.507 1.507 0 0 0-.078.488Z"),$(i,"fill","currentColor"),$(e,"width","22"),$(e,"height","22"),$(e,"fill","none"),$(e,"xmlns","http://www.w3.org/2000/svg")},m:function(t,r){C(t,e,r),I(e,n),I(e,i)},p:v,i:v,o:v,d:function(t){t&&E(e)}}}var Kr=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,null,Yr,w,{}),e}return e(l)}(gt),qr=Kr;function Zr(t){var e,n,i;return{c:function(){e=A("svg"),n=A("rect"),i=A("path"),$(n,"x",".5"),$(n,"y",".5"),$(n,"width","21"),$(n,"height","21"),$(n,"rx","1.5"),$(n,"stroke","currentColor"),$(i,"d","M7.56 7.852V15h-.904V8.98l-1.821.664v-.816l2.583-.976h.142Zm3.652 2.915V15h-.908V9.717h.86l.048 1.05Zm-.186 1.391-.42-.014c.004-.362.05-.695.142-1.001.091-.31.226-.578.405-.806a1.8 1.8 0 0 1 .67-.527c.266-.127.575-.19.927-.19.247 0 .475.035.684.107.208.068.389.177.542.327.153.15.271.341.356.576.085.234.127.518.127.85V15h-.903v-3.477c0-.276-.047-.498-.142-.664a.81.81 0 0 0-.39-.361 1.41 1.41 0 0 0-.596-.117c-.267 0-.49.047-.67.142a1.13 1.13 0 0 0-.429.39 1.761 1.761 0 0 0-.234.571 3.2 3.2 0 0 0-.069.674Zm3.423-.498-.605.186c.003-.29.05-.568.141-.835.095-.267.23-.505.406-.713.179-.209.398-.373.659-.493.26-.124.558-.186.893-.186.284 0 .534.038.752.112.222.075.407.19.557.347.153.153.268.35.347.59.078.242.117.528.117.86V15h-.908v-3.481c0-.297-.048-.526-.142-.689a.738.738 0 0 0-.39-.347 1.56 1.56 0 0 0-.596-.102 1.28 1.28 0 0 0-.528.102 1.091 1.091 0 0 0-.385.284 1.237 1.237 0 0 0-.24.405 1.507 1.507 0 0 0-.078.488Z"),$(i,"fill","currentColor"),$(e,"width","22"),$(e,"height","22"),$(e,"fill","none"),$(e,"xmlns","http://www.w3.org/2000/svg")},m:function(t,r){C(t,e,r),I(e,n),I(e,i)},p:v,i:v,o:v,d:function(t){t&&E(e)}}}var Xr=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,null,Zr,w,{}),e}return e(l)}(gt),Gr=Xr;function Jr(t){var e,n,i;return{c:function(){e=A("svg"),n=A("rect"),i=A("path"),$(n,"x","0.5"),$(n,"y","0.5"),$(n,"width","21"),$(n,"height","21"),$(n,"rx","1.5"),$(n,"stroke","currentColor"),$(i,"d","M18.0412 3.95876H13.9588V8.04124H18.0412V3.95876ZM3.95876 18.0412H8.04124L8.04124 13.9588L3.95876 13.9588L3.95876 18.0412ZM15.6464 5.64645L5.64645 15.6464L6.35355 16.3536L16.3536 6.35355L15.6464 5.64645Z"),$(i,"fill","currentColor"),$(e,"width","22"),$(e,"height","22"),$(e,"viewBox","0 0 22 22"),$(e,"fill","none"),$(e,"xmlns","http://www.w3.org/2000/svg")},m:function(t,r){C(t,e,r),I(e,n),I(e,i)},p:v,i:v,o:v,d:function(t){t&&E(e)}}}var Qr=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,null,Jr,w,{}),e}return e(l)}(gt);function ta(t){var e,n;return{c:function(){e=A("svg"),$(n=A("rect"),"x","0.5"),$(n,"y","0.5"),$(n,"width","21"),$(n,"height","21"),$(n,"rx","1.5"),$(n,"stroke","currentColor"),$(e,"width","22"),$(e,"height","22"),$(e,"viewBox","0 0 22 22"),$(e,"fill","none"),$(e,"xmlns","http://www.w3.org/2000/svg")},m:function(t,i){C(t,e,i),I(e,n)},p:v,i:v,o:v,d:function(t){t&&E(e)}}}var ea=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,null,ta,w,{}),e}return e(l)}(gt);function na(t){var e,n,i;return{c:function(){e=A("svg"),n=A("rect"),i=A("line"),$(n,"x","0.5"),$(n,"y","0.5"),$(n,"width","21"),$(n,"height","21"),$(n,"rx","1.5"),$(n,"stroke","currentColor"),$(i,"x1","11"),$(i,"x2","11"),$(i,"y2","22"),$(i,"stroke","currentColor"),$(i,"stroke-width","2"),$(e,"width","22"),$(e,"height","22"),$(e,"viewBox","0 0 22 22"),$(e,"fill","none"),$(e,"xmlns","http://www.w3.org/2000/svg")},m:function(t,r){C(t,e,r),I(e,n),I(e,i)},p:v,i:v,o:v,d:function(t){t&&E(e)}}}var ia=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,null,na,w,{}),e}return e(l)}(gt);function ra(t){var e,n,i;return{c:function(){e=A("svg"),n=A("rect"),i=A("line"),$(n,"x","0.5"),$(n,"y","0.5"),$(n,"width","21"),$(n,"height","21"),$(n,"rx","1.5"),$(n,"stroke","currentColor"),$(i,"x1","22"),$(i,"y1","11"),$(i,"y2","11"),$(i,"stroke","currentColor"),$(i,"stroke-width","2"),$(e,"width","22"),$(e,"height","22"),$(e,"viewBox","0 0 22 22"),$(e,"fill","none"),$(e,"xmlns","http://www.w3.org/2000/svg")},m:function(t,r){C(t,e,r),I(e,n),I(e,i)},p:v,i:v,o:v,d:function(t){t&&E(e)}}}var aa=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,null,ra,w,{}),e}return e(l)}(gt);function oa(t){var e,n,i,r;return{c:function(){e=A("svg"),n=A("rect"),i=A("line"),r=A("line"),$(n,"x","0.5"),$(n,"y","0.5"),$(n,"width","21"),$(n,"height","21"),$(n,"rx","1.5"),$(n,"stroke","currentColor"),$(i,"x1","22"),$(i,"y1","11"),$(i,"y2","11"),$(i,"stroke","currentColor"),$(i,"stroke-width","2"),$(r,"x1","11"),$(r,"y1","22"),$(r,"x2","11"),$(r,"y2","-7.89537e-09"),$(r,"stroke","currentColor"),$(r,"stroke-width","2"),$(e,"width","22"),$(e,"height","22"),$(e,"viewBox","0 0 22 22"),$(e,"fill","none"),$(e,"xmlns","http://www.w3.org/2000/svg")},m:function(t,a){C(t,e,a),I(e,n),I(e,i),I(e,r)},p:v,i:v,o:v,d:function(t){t&&E(e)}}}var sa=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,null,oa,w,{}),e}return e(l)}(gt);function ca(t){var e,n,i;return{c:function(){e=A("svg"),n=A("rect"),i=A("path"),$(n,"x","0.5"),$(n,"y","0.5"),$(n,"width","21"),$(n,"height","21"),$(n,"rx","1.5"),$(n,"stroke","currentColor"),$(i,"d","M6.71429 16.5556C6.71429 17.35 7.35714 18 8.14286 18H13.8571C14.6429 18 15.2857 17.35 15.2857 16.5556V7.88889H6.71429V16.5556ZM8.14286 9.33333H13.8571V16.5556H8.14286V9.33333ZM13.5 5.72222L12.7857 5H9.21429L8.5 5.72222H6V7.16667H16V5.72222H13.5Z"),$(i,"fill","currentColor"),$(e,"width","22"),$(e,"height","22"),$(e,"viewBox","0 0 22 22"),$(e,"fill","none"),$(e,"xmlns","http://www.w3.org/2000/svg")},m:function(t,r){C(t,e,r),I(e,n),I(e,i)},p:v,i:v,o:v,d:function(t){t&&E(e)}}}var ua=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,null,ca,w,{}),e}return e(l)}(gt);function la(t){var e,n,i,r,a;return{c:function(){e=A("svg"),n=A("rect"),i=A("path"),r=A("path"),a=A("path"),$(n,"x","0.5"),$(n,"y","0.5"),$(n,"width","21"),$(n,"height","21"),$(n,"rx","1.5"),$(n,"stroke","currentColor"),$(i,"d","M3.71429 17.5556C3.71429 18.35 4.35714 19 5.14286 19H10.8571C11.6429 19 12.2857 18.35 12.2857 17.5556V8.88889H3.71429V17.5556ZM5.14286 10.3333H10.8571V17.5556H5.14286V10.3333ZM10.5 6.72222L9.78571 6H6.21429L5.5 6.72222H3V8.16667H13V6.72222H10.5Z"),$(i,"fill","currentColor"),$(r,"d","M14.995 2C12.235 2 10 4.24 10 7C10 9.76 12.235 12 14.995 12C17.76 12 20 9.76 20 7C20 4.24 17.76 2 14.995 2ZM15 11C12.79 11 11 9.21 11 7C11 4.79 12.79 3 15 3C17.21 3 19 4.79 19 7C19 9.21 17.21 11 15 11Z"),$(r,"fill","currentColor"),$(a,"d","M15.25 4.5H14.5V7.5L17.125 9.075L17.5 8.46L15.25 7.125V4.5Z"),$(a,"fill","currentColor"),$(e,"width","22"),$(e,"height","22"),$(e,"viewBox","0 0 22 22"),$(e,"fill","none"),$(e,"xmlns","http://www.w3.org/2000/svg")},m:function(t,o){C(t,e,o),I(e,n),I(e,i),I(e,r),I(e,a)},p:v,i:v,o:v,d:function(t){t&&E(e)}}}var ha=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,null,la,w,{}),e}return e(l)}(gt);function fa(t){var e,n;return{c:function(){e=A("svg"),$(n=A("path"),"d","M12.01 7.683c.028-.224.049-.452.049-.683 0-.231-.021-.458-.049-.683l1.48-1.158a.35.35 0 0 0 .085-.448l-1.4-2.426a.346.346 0 0 0-.428-.15l-1.742.704a5.312 5.312 0 0 0-1.184-.69L8.56.294A.36.36 0 0 0 8.209 0h-2.8a.353.353 0 0 0-.347.294L4.8 2.149a5.18 5.18 0 0 0-1.183.69l-1.743-.704a.35.35 0 0 0-.427.15l-1.4 2.426a.35.35 0 0 0 .084.448l1.477 1.159A5.495 5.495 0 0 0 1.559 7c0 .231.021.458.049.683L.131 8.84a.35.35 0 0 0-.084.448l1.4 2.425c.087.151.27.214.427.151l1.743-.704c.36.277.756.511 1.183.69l.262 1.855A.353.353 0 0 0 5.41 14h2.8c.175 0 .318-.13.346-.294l.263-1.855a5.18 5.18 0 0 0 1.183-.69l1.743.704c.158.06.34 0 .427-.15l1.4-2.426a.35.35 0 0 0-.084-.448L12.01 7.683ZM6.809 9.45A2.448 2.448 0 0 1 4.359 7a2.448 2.448 0 0 1 2.45-2.45A2.448 2.448 0 0 1 9.259 7a2.448 2.448 0 0 1-2.45 2.45Z"),$(n,"fill","currentColor"),$(e,"width","14"),$(e,"height","14"),$(e,"fill","none"),$(e,"xmlns","http://www.w3.org/2000/svg")},m:function(t,i){C(t,e,i),I(e,n)},p:v,i:v,o:v,d:function(t){t&&E(e)}}}var da=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,null,fa,w,{}),e}return e(l)}(gt);function va(t){var e,n,i,r,a=t[3].default,o=function(t,e,n,i){if(t){var r=b(t,e,n,null);return t[0](r)}}(a,t,t[2]);return{c:function(){e=T("button"),o&&o.c(),$(e,"title",t[0]),$(e,"class","svelte-111m1ai"),z(e,"selected",t[1])},m:function(a,s){C(a,e,s),o&&o.m(e,null),n=!0,i||(r=M(e,"click",t[4]),i=!0)},p:function(t,i){var r=f(i,1)[0];o&&o.p&&(!n||4&r)&&function(t,e,n,i,r,a){if(r){var o=b(e,n,i,a);t.p(o,r)}}(o,a,t,t[2],n?function(t,e,n,i){if(t[2]&&i){var r=t[2](i(n));if(void 0===e.dirty)return r;if("object"===s(r)){for(var a=[],o=Math.max(e.dirty.length,r.length),c=0;c<o;c+=1)a[c]=e.dirty[c]|r[c];return a}return e.dirty|r}return e.dirty}(a,t[2],r,null):function(t){if(t.ctx.length>32){for(var e=[],n=t.ctx.length/32,i=0;i<n;i++)e[i]=-1;return e}return-1}(t[2]),null),(!n||1&r)&&$(e,"title",t[0]),2&r&&z(e,"selected",t[1])},i:function(t){n||(ct(o,t),n=!0)},o:function(t){ut(o,t),n=!1},d:function(t){t&&E(e),o&&o.d(t),i=!1,r()}}}function pa(t,e,n){var i=e.$$slots,r=void 0===i?{}:i,a=e.$$scope,o=e.title,s=void 0===o?"":o,c=e.selected,u=void 0!==c&&c;return t.$$set=function(t){"title"in t&&n(0,s=t.title),"selected"in t&&n(1,u=t.selected),"$$scope"in t&&n(2,a=t.$$scope)},[s,u,a,r,function(e){Y.call(this,t,e)}]}var ma=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,pa,va,w,{title:0,selected:1}),e}return e(l)}(gt);function ya(t,e,n){var i=t.slice();return i[42]=e[n],i[43]=e,i[44]=n,i}function ga(t,e,n){var i=t.slice();return i[45]=e[n],i}function _a(t,e,n){var i=t.slice();return i[45]=e[n],i}function xa(t){var e,n,i,r=t[45].component;return r&&(e=new r({})),{c:function(){e&&dt(e.$$.fragment),n=L()},m:function(t,r){e&&vt(e,t,r),C(t,n,r),i=!0},p:function(t,i){if(r!==(r=t[45].component)){if(e){ot();var a=e;ut(a.$$.fragment,1,0,(function(){pt(a,1)})),st()}r?(dt((e=new r({})).$$.fragment),ct(e.$$.fragment,1),vt(e,n.parentNode,n)):e=null}},i:function(t){i||(e&&ct(e.$$.fragment,t),i=!0)},o:function(t){e&&ut(e.$$.fragment,t),i=!1},d:function(t){e&&pt(e,t),t&&E(n)}}}function wa(t,e){var n,i,r;return(i=new ma({props:{selected:e[10]===e[45].i,$$slots:{default:[xa]},$$scope:{ctx:e}}})).$on("click",(function(){return e[22](e[45])})),{key:t,first:null,c:function(){n=O(),dt(i.$$.fragment),this.first=n},m:function(t,e){C(t,n,e),vt(i,t,e),r=!0},p:function(t,n){e=t;var r={};1024&n[0]&&(r.selected=e[10]===e[45].i),524288&n[1]&&(r.$$scope={dirty:n,ctx:e}),i.$set(r)},i:function(t){r||(ct(i.$$.fragment,t),r=!0)},o:function(t){ut(i.$$.fragment,t),r=!1},d:function(t){t&&E(n),pt(i,t)}}}function ka(t){var e,n,i,r=t[45].component;return r&&(e=new r({})),{c:function(){e&&dt(e.$$.fragment),n=O()},m:function(t,r){e&&vt(e,t,r),C(t,n,r),i=!0},p:function(t,i){if(r!==(r=t[45].component)){if(e){ot();var a=e;ut(a.$$.fragment,1,0,(function(){pt(a,1)})),st()}r?(dt((e=new r({})).$$.fragment),ct(e.$$.fragment,1),vt(e,n.parentNode,n)):e=null}},i:function(t){i||(e&&ct(e.$$.fragment,t),i=!0)},o:function(t){e&&ut(e.$$.fragment,t),i=!1},d:function(t){t&&E(n),e&&pt(e,t)}}}function ba(t,e){var n,i,r;return(i=new ma({props:{selected:e[6]===e[45].name,title:e[45].title,$$slots:{default:[ka]},$$scope:{ctx:e}}})).$on("click",(function(){return e[23](e[45])})),{key:t,first:null,c:function(){n=O(),dt(i.$$.fragment),this.first=n},m:function(t,e){C(t,n,e),vt(i,t,e),r=!0},p:function(t,n){e=t;var r={};64&n[0]&&(r.selected=e[6]===e[45].name),524288&n[1]&&(r.$$scope={dirty:n,ctx:e}),i.$set(r)},i:function(t){r||(ct(i.$$.fragment,t),r=!0)},o:function(t){ut(i.$$.fragment,t),r=!1},d:function(t){t&&E(n),pt(i,t)}}}function Sa(t){var e,n;return e=new Ir({}),{c:function(){dt(e.$$.fragment)},m:function(t,i){vt(e,t,i),n=!0},i:function(t){n||(ct(e.$$.fragment,t),n=!0)},o:function(t){ut(e.$$.fragment,t),n=!1},d:function(t){pt(e,t)}}}function Ia(t){var e,n;return e=new ua({}),{c:function(){dt(e.$$.fragment)},m:function(t,i){vt(e,t,i),n=!0},i:function(t){n||(ct(e.$$.fragment,t),n=!0)},o:function(t){ut(e.$$.fragment,t),n=!1},d:function(t){pt(e,t)}}}function Ca(t){var e,n;return e=new ha({}),{c:function(){dt(e.$$.fragment)},m:function(t,i){vt(e,t,i),n=!0},i:function(t){n||(ct(e.$$.fragment,t),n=!0)},o:function(t){ut(e.$$.fragment,t),n=!1},d:function(t){pt(e,t)}}}function Ea(t){var e,n,i,r,a,o,s,c,u,l,h,f,d,v,p,m,y,g,x,w,k;function b(t,e){return t[2].lang===jt?Oa:La}(n=new ma({props:{selected:"1"===t[4],$$slots:{default:[Da]},$$scope:{ctx:t}}})).$on("click",t[26]),(r=new ma({props:{selected:"2v"===t[4],$$slots:{default:[Ta]},$$scope:{ctx:t}}})).$on("click",t[27]),(o=new ma({props:{selected:"2h"===t[4],$$slots:{default:[Aa]},$$scope:{ctx:t}}})).$on("click",t[28]),(c=new ma({props:{selected:"4"===t[4],$$slots:{default:[Pa]},$$scope:{ctx:t}}})).$on("click",t[29]);var S=b(t),D=S(t);return y=new da({}),{c:function(){e=T("div"),dt(n.$$.fragment),i=L(),dt(r.$$.fragment),a=L(),dt(o.$$.fragment),s=L(),dt(c.$$.fragment),u=L(),l=T("div"),D.c(),h=L(),f=T("a"),d=P("$"),p=L(),m=T("a"),dt(y.$$.fragment),$(e,"class","chart-mode svelte-zdzoms"),$(f,"href","#"),$(f,"title",v=oi[t[2].lang].support),$(f,"class","svelte-zdzoms"),$(m,"href","#"),$(m,"title",g=oi[t[2].lang].settings),$(m,"class","svelte-zdzoms"),$(l,"class","help svelte-zdzoms")},m:function(v,g){C(v,e,g),vt(n,e,null),I(e,i),vt(r,e,null),I(e,a),vt(o,e,null),I(e,s),vt(c,e,null),C(v,u,g),C(v,l,g),D.m(l,null),I(l,h),I(l,f),I(f,d),I(l,p),I(l,m),vt(y,m,null),x=!0,w||(k=[M(f,"click",R(t[31])),M(m,"click",R(t[32]))],w=!0)},p:function(t,e){var i={};16&e[0]&&(i.selected="1"===t[4]),524288&e[1]&&(i.$$scope={dirty:e,ctx:t}),n.$set(i);var a={};16&e[0]&&(a.selected="2v"===t[4]),524288&e[1]&&(a.$$scope={dirty:e,ctx:t}),r.$set(a);var s={};16&e[0]&&(s.selected="2h"===t[4]),524288&e[1]&&(s.$$scope={dirty:e,ctx:t}),o.$set(s);var u={};16&e[0]&&(u.selected="4"===t[4]),524288&e[1]&&(u.$$scope={dirty:e,ctx:t}),c.$set(u),S===(S=b(t))&&D?D.p(t,e):(D.d(1),(D=S(t))&&(D.c(),D.m(l,h))),(!x||4&e[0]&&v!==(v=oi[t[2].lang].support))&&$(f,"title",v),(!x||4&e[0]&&g!==(g=oi[t[2].lang].settings))&&$(m,"title",g)},i:function(t){x||(ct(n.$$.fragment,t),ct(r.$$.fragment,t),ct(o.$$.fragment,t),ct(c.$$.fragment,t),ct(y.$$.fragment,t),x=!0)},o:function(t){ut(n.$$.fragment,t),ut(r.$$.fragment,t),ut(o.$$.fragment,t),ut(c.$$.fragment,t),ut(y.$$.fragment,t),x=!1},d:function(t){t&&E(e),pt(n),pt(r),pt(o),pt(c),t&&E(u),t&&E(l),D.d(),pt(y),w=!1,_(k)}}}function Da(t){var e,n;return e=new ea({}),{c:function(){dt(e.$$.fragment)},m:function(t,i){vt(e,t,i),n=!0},i:function(t){n||(ct(e.$$.fragment,t),n=!0)},o:function(t){ut(e.$$.fragment,t),n=!1},d:function(t){pt(e,t)}}}function Ta(t){var e,n;return e=new ia({}),{c:function(){dt(e.$$.fragment)},m:function(t,i){vt(e,t,i),n=!0},i:function(t){n||(ct(e.$$.fragment,t),n=!0)},o:function(t){ut(e.$$.fragment,t),n=!1},d:function(t){pt(e,t)}}}function Aa(t){var e,n;return e=new aa({}),{c:function(){dt(e.$$.fragment)},m:function(t,i){vt(e,t,i),n=!0},i:function(t){n||(ct(e.$$.fragment,t),n=!0)},o:function(t){ut(e.$$.fragment,t),n=!1},d:function(t){pt(e,t)}}}function Pa(t){var e,n;return e=new sa({}),{c:function(){dt(e.$$.fragment)},m:function(t,i){vt(e,t,i),n=!0},i:function(t){n||(ct(e.$$.fragment,t),n=!0)},o:function(t){ut(e.$$.fragment,t),n=!1},d:function(t){pt(e,t)}}}function La(t){var e;return{c:function(){(e=T("a")).textContent="?",$(e,"href","/assets/help.png"),$(e,"target","_blank"),$(e,"title","Help"),$(e,"class","svelte-zdzoms")},m:function(t,n){C(t,e,n)},p:v,d:function(t){t&&E(e)}}}function Oa(t){var e,n,i;return{c:function(){(e=T("a")).textContent="?",$(e,"href","/"),$(e,"title","Помощь"),$(e,"class","svelte-zdzoms")},m:function(r,a){C(r,e,a),n||(i=M(e,"click",R(t[30])),n=!0)},p:v,d:function(t){t&&E(e),n=!1,i()}}}function Ma(t){var e,n,i,r,a,o,s=(t[11]?"".concat(t[5]," ").concat(t[13][t[44]]):t[13][t[44]])+"",c=t[44],u=function(){return t[33](e,c)},l=function(){return t[33](null,c)};function h(){return t[34](t[44])}function f(){return t[35](t[44])}return{c:function(){e=T("div"),n=T("div"),i=P(s),r=L(),$(n,"class","chart-label svelte-zdzoms"),$(e,"class","svelte-zdzoms"),z(e,"selected",t[7]>1&&t[9]===t[44])},m:function(t,s){C(t,e,s),I(e,n),I(n,i),I(e,r),u(),a||(o=[M(e,"click",h),M(e,"mouseenter",f)],a=!0)},p:function(n,r){t=n,10272&r[0]&&s!==(s=(t[11]?"".concat(t[5]," ").concat(t[13][t[44]]):t[13][t[44]])+"")&&F(i,s),c!==t[44]&&(l(),c=t[44],u()),640&r[0]&&z(e,"selected",t[7]>1&&t[9]===t[44])},d:function(t){t&&E(e),l(),a=!1,_(o)}}}function Ra(t){for(var e,n,i,r,a,o,s,c,u,l,h,f,d,v,p,m,y,g,x,w,k,b,A,O,R,B=[],j=new Map,N=[],V=new Map,z=Ba,H=function(t){return t[45].i},U=0;U<z.length;U+=1){var W=_a(t,z,U),Y=H(W);j.set(Y,B[U]=wa(Y,W))}for(var K=$a,q=function(t){return t[45].name},Z=0;Z<K.length;Z+=1){var X=ga(t,K,Z),G=q(X);V.set(G,N[Z]=ba(G,X))}(f=new ma({props:{selected:"ruler"===t[6],title:"Линейка",$$slots:{default:[Sa]},$$scope:{ctx:t}}})).$on("click",t[24]),(v=new ma({props:{title:oi[t[2].lang].removeUserShapes,$$slots:{default:[Ia]},$$scope:{ctx:t}}})).$on("click",t[17]),(m=new ma({props:{title:oi[t[2].lang].removeExpiredShapes,$$slots:{default:[Ca]},$$scope:{ctx:t}}})).$on("click",t[25]);for(var J=!t[11]&&Ea(t),Q={length:t[7]},tt=[],et=0;et<Q.length;et+=1)tt[et]=Ma(ya(t,Q,et));return{c:function(){e=T("div"),n=T("div"),i=L(),r=T("div"),a=T("div"),o=P(t[5]),s=L(),c=T("div");for(var _=0;_<B.length;_+=1)B[_].c();u=L(),l=T("div");for(var I=0;I<N.length;I+=1)N[I].c();h=L(),dt(f.$$.fragment),d=L(),dt(v.$$.fragment),p=L(),dt(m.$$.fragment),y=L(),J&&J.c(),x=L(),w=T("div");for(var C=0;C<tt.length;C+=1)tt[C].c();$(n,"class","header-switch svelte-zdzoms"),$(a,"class","name svelte-zdzoms"),$(c,"class","interval svelte-zdzoms"),$(l,"class","shapes svelte-zdzoms"),$(r,"class",g=S(se("header",t[12]))+" svelte-zdzoms"),$(w,"class",k=S(se("charts",t[8]))+" svelte-zdzoms"),$(e,"class",b=S(se("charts-container",t[11]))+" svelte-zdzoms")},m:function(g,_){C(g,e,_),I(e,n),I(e,i),I(e,r),I(r,a),I(a,o),I(r,s),I(r,c);for(var k=0;k<B.length;k+=1)B[k].m(c,null);I(r,u),I(r,l);for(var b=0;b<N.length;b+=1)N[b].m(l,null);I(l,h),vt(f,l,null),I(l,d),vt(v,l,null),I(l,p),vt(m,l,null),I(r,y),J&&J.m(r,null),I(e,x),I(e,w);for(var S=0;S<tt.length;S+=1)tt[S].m(w,null);t[36](e),A=!0,O||(R=[M(n,"mouseenter",t[20]),M(r,"mouseleave",t[21])],O=!0)},p:function(t,n){(!A||32&n[0])&&F(o,t[5]),17408&n[0]&&(z=Ba,ot(),B=ft(B,n,H,1,t,z,j,c,ht,wa,null,_a),st()),32832&n[0]&&(K=$a,ot(),N=ft(N,n,q,1,t,K,V,l,ht,ba,h,ga),st());var i={};64&n[0]&&(i.selected="ruler"===t[6]),524288&n[1]&&(i.$$scope={dirty:n,ctx:t}),f.$set(i);var a={};4&n[0]&&(a.title=oi[t[2].lang].removeUserShapes),524288&n[1]&&(a.$$scope={dirty:n,ctx:t}),v.$set(a);var s={};if(4&n[0]&&(s.title=oi[t[2].lang].removeExpiredShapes),524288&n[1]&&(s.$$scope={dirty:n,ctx:t}),m.$set(s),t[11]?J&&(ot(),ut(J,1,1,(function(){J=null})),st()):J?(J.p(t,n),2048&n[0]&&ct(J,1)):((J=Ea(t)).c(),ct(J,1),J.m(r,null)),(!A||4096&n[0]&&g!==(g=S(se("header",t[12]))+" svelte-zdzoms"))&&$(r,"class",g),600737&n[0]){var u;for(Q={length:t[7]},u=0;u<Q.length;u+=1){var d=ya(t,Q,u);tt[u]?tt[u].p(d,n):(tt[u]=Ma(d),tt[u].c(),tt[u].m(w,null))}for(;u<tt.length;u+=1)tt[u].d(1);tt.length=Q.length}(!A||256&n[0]&&k!==(k=S(se("charts",t[8]))+" svelte-zdzoms"))&&$(w,"class",k),(!A||2048&n[0]&&b!==(b=S(se("charts-container",t[11]))+" svelte-zdzoms"))&&$(e,"class",b)},i:function(t){if(!A){for(var e=0;e<z.length;e+=1)ct(B[e]);for(var n=0;n<K.length;n+=1)ct(N[n]);ct(f.$$.fragment,t),ct(v.$$.fragment,t),ct(m.$$.fragment,t),ct(J),A=!0}},o:function(t){for(var e=0;e<B.length;e+=1)ut(B[e]);for(var n=0;n<N.length;n+=1)ut(N[n]);ut(f.$$.fragment,t),ut(v.$$.fragment,t),ut(m.$$.fragment,t),ut(J),A=!1},d:function(n){n&&E(e);for(var i=0;i<B.length;i+=1)B[i].d();for(var r=0;r<N.length;r+=1)N[r].d();pt(f),pt(v),pt(m),J&&J.d(),D(tt,n),t[36](null),O=!1,_(R)}}}var $a=[{name:"priceLine",title:"Price line",component:Pr},{name:"alarmPriceLine",title:"Alarm price line",component:Er},{name:"rayLine",title:"Ray",component:Tr},{name:"segment",title:"Segment",component:Qr}],Ba=[{component:Gr,i:1},{component:qr,i:5},{component:Wr,i:Ot},{component:zr,i:Mt},{component:Fr,i:Rt},{component:$r,i:$t},{component:Or,i:Bt}];function ja(t,e,n){var i,r,a=Ti.chartMode,o=Ti.current,s=(null==o?void 0:o.name)||"",c="",u=1,l="one",h=0,f=Ti.intervals[h],d="",v="visible",p=function(t){Ti.setInterval(t,h)},m=function(){n(6,c=""),Ei.cancel(h)},y=function(t){t===c?(m(),n(2,Ti.onKey.Escape=ae,Ti)):(n(2,Ti.onKey.Escape=m,Ti),n(6,c=t),"alarmPriceLine"===t?Ei.drawAlarmLevel(h,(function(){n(6,c="")})):"ruler"===t?Ei.createRuler(h):Ei.drawShape(t,h,(function(){n(6,c="")})))},g=function(t){c&&t!==h&&(Ei.cancel(h),w(t),"alarmPriceLine"===c?Ei.drawAlarmLevel(h,(function(){n(6,c="")})):"ruler"===c?Ei.createRuler(h):Ei.drawShape(c,h,(function(){n(6,c="")})))},_={1:"one","2v":"two-vertical","2h":"two-horizontal",4:"four"},x=function(t){n(4,a=t),n(7,u=Number(t.charAt(0))),n(8,l=_[t]),n(2,Ti.chartMode=t,Ti)},w=function(t){n(9,h=t),n(10,f=Ti.intervals[t]),Di.setCurrent(t)},k=function(t){var e=Ti.intervals[t];return e&&Vt[e]?Vt[e]:""},b={0:k(0),1:k(1),2:k(2),3:k(3)},S=function(){if(null==Di||Di.resize(),Ti.singleCoin){var t=null==i?void 0:i.clientWidth;t&&t<700?(n(11,d="headerless"),n(12,v="hidden"),"1"!==a&&x("1")):(n(11,d=""),n(12,v="visible"))}};return W((function(){return window.onresize=S,x(a),n(2,Ti.setChartCurrent=function(t){o=t,n(5,s=t.name)},Ti),n(2,Ti.setIntervalOnUi=function(t){n(10,f=t),n(13,b={0:k(0),1:k(1),2:k(2),3:k(3)})},Ti),n(1,Ei.cancelDrawing=function(){n(6,c="")},Ei),n(0,Di.setCurrentChartIndexOnUi=function(t){n(9,h=t)},Di),setTimeout((function(){S()}),100),function(){Di.destroy(),n(2,Ti.setChartCurrent=ae,Ti),n(2,Ti.setIntervalOnUi=ae,Ti),n(0,Di.setCurrentChartIndexOnUi=ae,Di),n(1,Ei.cancelDrawing=ae,Ei),window.onresize=null}})),r=function(){Di.resize()},U().$$.after_update.push(r),[Di,Ei,Ti,i,a,s,c,u,l,h,f,d,v,b,p,y,g,function(){Ei.clearChart()},x,w,function(){n(12,v="visible")},function(){n(12,v="hidden")},function(t){return p(t.i)},function(t){return y(t.name)},function(){return y("ruler")},function(){return Ei.removeExpiredLevels()},function(){return x("1")},function(){return x("2v")},function(){return x("2h")},function(){return x("4")},function(){return Ti.showDescription()},function(){return Ti.showSupport()},function(){return Ti.showSettings()},function(t,e){q[t?"unshift":"push"]((function(){Di.elements[e]=t,n(0,Di)}))},function(t){return w(t)},function(t){return g(t)},function(t){q[t?"unshift":"push"]((function(){n(3,i=t)}))}]}var Fa=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,ja,Ra,w,{},null,[-1,-1]),e}return e(l)}(gt);function Na(t){var e,n;return e=new zi({}),{c:function(){dt(e.$$.fragment)},m:function(t,i){vt(e,t,i),n=!0},i:function(t){n||(ct(e.$$.fragment,t),n=!0)},o:function(t){ut(e.$$.fragment,t),n=!1},d:function(t){pt(e,t)}}}function Va(t){var e,n,i,r,a,o,s,c,u,l;i=new Fa({}),o=new br({props:{settings:t[0]}});var h=(null===(e=t[0])||void 0===e?void 0:e.orderBook)&&Na();return{c:function(){n=T("div"),dt(i.$$.fragment),r=L(),a=T("div"),dt(o.$$.fragment),s=L(),h&&h.c(),$(a,"class","watchlist svelte-1c1rced"),$(n,"class","grid svelte-1c1rced"),$(n,"tabindex","0")},m:function(e,f){C(e,n,f),vt(i,n,null),I(n,r),I(n,a),vt(o,a,null),I(a,s),h&&h.m(a,null),c=!0,u||(l=[M(a,"mouseenter",t[2]),M(a,"mouseleave",t[3])],u=!0)},p:function(t,e){var n,i=f(e,1)[0],r={};1&i&&(r.settings=t[0]),o.$set(r),null!==(n=t[0])&&void 0!==n&&n.orderBook?h?1&i&&ct(h,1):((h=Na()).c(),ct(h,1),h.m(a,null)):h&&(ot(),ut(h,1,1,(function(){h=null})),st())},i:function(t){c||(ct(i.$$.fragment,t),ct(o.$$.fragment,t),ct(h),c=!0)},o:function(t){ut(i.$$.fragment,t),ut(o.$$.fragment,t),ut(h),c=!1},d:function(t){t&&E(n),pt(i),pt(o),h&&h.d(),u=!1,_(l)}}}function za(t,e,n){var i=e.settings,r=function(t){Ti.sortEnabled=!t};return t.$$set=function(t){"settings"in t&&n(0,i=t.settings)},[i,r,function(){return r(!0)},function(){return r(!1)}]}var Ha=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,za,Va,w,{settings:0}),e}return e(l)}(gt);function Ua(t){var e,n,i,r;return{c:function(){e=T("div"),(n=T("div")).textContent="X",$(n,"class","close svelte-unwrp8"),$(n,"title","Закрыть"),$(e,"class","description svelte-unwrp8")},m:function(a,o){C(a,e,o),I(e,n),t[4](e),i||(r=M(n,"click",t[2]),i=!0)},p:v,d:function(n){n&&E(e),t[4](null),i=!1,r()}}}function Wa(t){var e,n=t[1]&&Ua(t);return{c:function(){n&&n.c(),e=O()},m:function(t,i){n&&n.m(t,i),C(t,e,i)},p:function(t,i){var r=f(i,1)[0];t[1]?n?n.p(t,r):((n=Ua(t)).c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:v,o:v,d:function(t){n&&n.d(t),t&&E(e)}}}function Ya(t,e,n){var i=null,r=null,a=!1,o=!1,s=function(){(o=!o)?null==i||i.classList.add("coin-list-visible"):null==i||i.classList.remove("coin-list-visible")},c=function(){Ti.onKey.Escape=ae,n(1,a=!1),Ti.descriptionShown||(Ti.descriptionShown=!0,localStorage.setItem("descriptionShown",JSON.stringify(!0))),i&&(i.classList.remove("coin-list-visible"),document.removeEventListener("click",s))},u=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Ti.onKey.Escape=c,t?(Ti.descriptionElement?n(3,i=Ti.descriptionElement):(n(3,i=document.getElementById("about")),i&&(Ti.descriptionElement=i)),n(1,a=!0)):(n(1,a=!1),Ti.descriptionShown||(Ti.descriptionShown=!0,localStorage.setItem("descriptionShown",JSON.stringify(!0))));var e=document.getElementById("coin-list-switch");null==e||e.addEventListener("click",s)};return W((function(){return Ti.lang!==jt||Ti.descriptionShown||u(),Ti.showDescription=u,function(){Ti.showDescription=ae}})),t.$$.update=function(){var e,n;9&t.$$.dirty&&i&&r&&(e=r,(n=i)&&e&&e.appendChild(n))},[r,a,c,i,function(t){q[t?"unshift":"push"]((function(){n(0,r=t)}))}]}var Ka=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,Ya,Wa,w,{}),e}return e(l)}(gt);function qa(t){var e,n;return{c:function(){e=T("div"),(n=T("div")).textContent="".concat(oi[Ti.lang].mobileWarning),$(e,"class","mobileWarning svelte-pngqak")},m:function(t,i){C(t,e,i),I(e,n)},p:v,i:v,o:v,d:function(t){t&&E(e)}}}var Za=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,null,qa,w,{}),e}return e(l)}(gt);function Xa(t,e,n){var i=t.slice();return i[1]=e[n],i[14]=n,i}function Ga(t){for(var e,n,i,r,a,o,s=t[2],c=[],u=0;u<s.length;u+=1)c[u]=Ja(Xa(t,s,u));return{c:function(){e=T("div"),n=T("input"),i=L(),r=T("ul");for(var t=0;t<c.length;t+=1)c[t].c();$(n,"class","svelte-83q7hu"),$(r,"class","svelte-83q7hu"),$(e,"class","form svelte-83q7hu")},m:function(s,u){C(s,e,u),I(e,n),N(n,t[1]),I(e,i),I(e,r);for(var l=0;l<c.length;l+=1)c[l].m(r,null);var h;a||(o=[M(n,"input",t[7]),(h=t[4].call(null,n),h&&x(h.destroy)?h.destroy:v)],a=!0)},p:function(t,e){if(2&e&&n.value!==t[1]&&N(n,t[1]),44&e){var i;for(s=t[2],i=0;i<s.length;i+=1){var a=Xa(t,s,i);c[i]?c[i].p(a,e):(c[i]=Ja(a),c[i].c(),c[i].m(r,null))}for(;i<c.length;i+=1)c[i].d(1);c.length=s.length}},d:function(t){t&&E(e),D(c,t),a=!1,_(o)}}}function Ja(t){var e,n,i,r,a,o=t[1]+"";return{c:function(){e=T("li"),n=P(o),$(e,"class",i=S(t[3]===t[14]?"selected":"")+" svelte-83q7hu")},m:function(i,o){C(i,e,o),I(e,n),r||(a=M(e,"click",t[5]),r=!0)},p:function(t,r){4&r&&o!==(o=t[1]+"")&&F(n,o),8&r&&i!==(i=S(t[3]===t[14]?"selected":"")+" svelte-83q7hu")&&$(e,"class",i)},d:function(t){t&&E(e),r=!1,a()}}}function Qa(t){var e,n=t[0]&&Ga(t);return{c:function(){n&&n.c(),e=O()},m:function(t,i){n&&n.m(t,i),C(t,e,i)},p:function(t,i){var r=f(i,1)[0];t[0]?n?n.p(t,r):((n=Ga(t)).c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:v,o:v,d:function(t){n&&n.d(t),t&&E(e)}}}function to(t,e,n){var i=!1,r="",a=[],o=[],s=0,c=function(){n(3,s--,s),s<0&&n(3,s=0)},u=function(){n(3,s++,s),o.length&&s>o.length-1&&n(3,s=o.length-1)},l=function t(e){i||(n(0,i=!0),Ti.onKey.ArrowUp=c,Ti.onKey.ArrowDown=u,Ti.onKey.ArrowLeft=ae,Ti.onKey.ArrowRight=ae,Ti.onKey.Escape=function(e){null==e||e.preventDefault(),null==e||e.stopPropagation(),n(0,i=!1),n(1,r=""),Ti.onKey.Escape=ae,Ti.onTyping=t,Ti.setArrowKeys()})},h=function(){o[s]&&(Ti.scrollIntoView="smooth",Ti.setCurrent(o[s].toUpperCase()+"USDT"),Ti.onKey.Escape(),Ti.singleCoin&&history.pushState({},"","/".concat(o[s],"/")))};return W((function(){return Ti.receivers.push((function(t){n(6,a=t.map((function(t){return t.replace("USDT","").toLowerCase()})))})),Ti.onTyping=l,function(){Ti.onTyping=ae}})),t.$$.update=function(){66&t.$$.dirty&&(n(2,o=r?a.filter((function(t){return t.includes(r.toLowerCase())})):[]),n(3,s=0)),1&t.$$.dirty&&(Ti.onKey.Enter=i?h:ae)},[i,r,o,s,function(t){null==t||t.focus()},h,a,function(){r=this.value,n(1,r)}]}var eo=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,to,Qa,w,{}),e}return e(l)}(gt);function no(t){var e,n,i,r,a,o,s,c,u,l,h,f,d,v,p,m,y,g,_,x,w,b,S,D,A,O=oi[t[0].lang].telegram+"",R=oi[t[0].lang].telegramChannel+"",B=oi[t[0].lang].donate+"";return{c:function(){e=T("div"),(n=T("div")).textContent="X",i=L(),r=T("p"),a=T("img"),o=L(),(s=T("a")).textContent="screener_support",c=L(),u=P(O),l=L(),h=T("p"),f=T("img"),d=L(),(v=T("a")).textContent="tech_analysis_crypto_scalping",p=L(),m=P(R),y=L(),g=T("p"),_=P(B),x=L(),(w=T("p")).textContent="btc 1L8GJuRWCQ64ttTuoiNrFf8wSy2YxavpKC",b=L(),(S=T("p")).textContent="usdt trc20 TDgr5PZr4mKoNUvnQBsSNonRyL39kpxJLy",$(n,"class","close svelte-16azesx"),k(a.src,"/assets/telegram.svg")||$(a,"src","/assets/telegram.svg"),$(a,"alt","Telegram"),$(a,"class","icon svelte-16azesx"),$(s,"href","https://t.me/screener_support"),$(s,"title","Telegram"),k(f.src,"/assets/telegram.svg")||$(f,"src","/assets/telegram.svg"),$(f,"alt","Telegram"),$(f,"class","icon svelte-16azesx"),$(v,"href","https://t.me/tech_analysis_crypto_scalping"),$(v,"title","Telegram"),$(e,"class","support svelte-16azesx")},m:function(k,E){C(k,e,E),I(e,n),I(e,i),I(e,r),I(r,a),I(r,o),I(r,s),I(r,c),I(r,u),I(e,l),I(e,h),I(h,f),I(h,d),I(h,v),I(h,p),I(h,m),I(e,y),I(e,g),I(g,_),I(e,x),I(e,w),I(e,b),I(e,S),D||(A=M(n,"click",t[2]),D=!0)},p:function(t,e){1&e&&O!==(O=oi[t[0].lang].telegram+"")&&F(u,O),1&e&&R!==(R=oi[t[0].lang].telegramChannel+"")&&F(m,R),1&e&&B!==(B=oi[t[0].lang].donate+"")&&F(_,B)},d:function(t){t&&E(e),D=!1,A()}}}function io(t){var e,n=t[1]&&no(t);return{c:function(){n&&n.c(),e=O()},m:function(t,i){n&&n.m(t,i),C(t,e,i)},p:function(t,i){var r=f(i,1)[0];t[1]?n?n.p(t,r):((n=no(t)).c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:v,o:v,d:function(t){n&&n.d(t),t&&E(e)}}}function ro(t,e,n){var i=!1;return W((function(){return n(0,Ti.showSupport=function(){n(1,i=!i)},Ti),function(){n(0,Ti.showSupport=ae,Ti)}})),[Ti,i,function(){n(1,i=!1)}]}var ao=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,ro,io,w,{}),e}return e(l)}(gt);function oo(t,e,n){var i=t.slice();return i[34]=e[n],i}function so(t){for(var e,n,i,r,a,o,s,c,u,l,h,f,d,v,p,m,y,g,x,w,k,b,D,A,O,R,B,j,V,z,H,U,W,Y,K,q,Z,X,G=[],J=new Map,Q=t[8]?"Включен":"Выключен",tt=t[12],et=function(t){return t[34]},nt=0;nt<tt.length;nt+=1){var it=oo(t,tt,nt),rt=et(it);J.set(rt,G[nt]=co(rt,it))}var at=(null===(e=t[13])||void 0===e?void 0:e.length)&&uo(t),ot=t[8]&&lo(t),st=t[2]&&ho();return{c:function(){n=T("div"),(i=T("div")).textContent="X",r=L(),a=T("div"),(o=T("div")).innerHTML='<div>Количество свечей для вычисления среднего изменения цены</div> \n        <div><span class="svelte-1vh4m4n">Чем меньше значение, тем большее влияние будут оказывать кратковременные сильные рост и падение</span></div>',s=L(),c=T("div"),u=T("span"),l=P(t[3]),h=L(),f=T("input"),d=L(),(v=T("div")).innerHTML='<div>Анализируемые интервалы</div> \n        <div><span class="svelte-1vh4m4n">Не более 3</span></div>',p=L(),m=T("div");for(var e=0;e<G.length;e+=1)G[e].c();y=L(),at&&at.c(),g=L(),(x=T("div")).innerHTML='<div>Анализ крупных лимитных заявок (плотностей)</div> \n        <div><span class="svelte-1vh4m4n">Таблица ТОПа ордеров, крупные лимитные заявки (плотности) в списке монет</span></div>',w=L(),k=T("div"),b=T("button"),D=P(Q),O=L(),ot&&ot.c(),R=L(),B=T("div"),st&&st.c(),j=L(),V=T("div"),z=T("button"),H=P("По умолчанию"),W=L(),Y=T("button"),K=P("Сохранить"),$(i,"class","close svelte-1vh4m4n"),$(u,"class","svelte-1vh4m4n"),$(f,"type","range"),$(f,"min","10"),$(f,"max","500"),$(f,"step","10"),$(f,"class","svelte-1vh4m4n"),$(c,"class","input svelte-1vh4m4n"),$(m,"class","input svelte-1vh4m4n"),$(b,"class",A=S(t[8]?"selected":"")+" svelte-1vh4m4n"),$(k,"class","input svelte-1vh4m4n"),$(a,"class","form svelte-1vh4m4n"),$(B,"class","warning svelte-1vh4m4n"),$(z,"class",U=S(t[1]?"active":"")+" svelte-1vh4m4n"),$(Y,"class",q=S(t[0]?"active":"")+" svelte-1vh4m4n"),$(V,"class","buttons svelte-1vh4m4n"),$(n,"class","container svelte-1vh4m4n")},m:function(e,_){C(e,n,_),I(n,i),I(n,r),I(n,a),I(a,o),I(a,s),I(a,c),I(c,u),I(u,l),I(c,h),I(c,f),N(f,t[3]),I(a,d),I(a,v),I(a,p),I(a,m);for(var S=0;S<G.length;S+=1)G[S].m(m,null);I(a,y),at&&at.m(a,null),I(a,g),I(a,x),I(a,w),I(a,k),I(k,b),I(b,D),I(a,O),ot&&ot.m(a,null),I(n,R),I(n,B),st&&st.m(B,null),I(n,j),I(n,V),I(V,z),I(z,H),I(V,W),I(V,Y),I(Y,K),Z||(X=[M(i,"click",t[15]),M(f,"change",t[16]),M(f,"change",t[20]),M(f,"input",t[20]),M(b,"click",t[25]),M(z,"click",t[18]),M(Y,"click",t[17])],Z=!0)},p:function(t,e){var n;8&e[0]&&F(l,t[3]),8&e[0]&&N(f,t[3]),538624&e[0]&&(tt=t[12],G=ft(G,e,et,1,t,tt,J,m,lt,co,null,oo)),null!==(n=t[13])&&void 0!==n&&n.length?at?at.p(t,e):((at=uo(t)).c(),at.m(a,g)):at&&(at.d(1),at=null),256&e[0]&&Q!==(Q=t[8]?"Включен":"Выключен")&&F(D,Q),256&e[0]&&A!==(A=S(t[8]?"selected":"")+" svelte-1vh4m4n")&&$(b,"class",A),t[8]?ot?ot.p(t,e):((ot=lo(t)).c(),ot.m(a,null)):ot&&(ot.d(1),ot=null),t[2]?st||((st=ho()).c(),st.m(B,null)):st&&(st.d(1),st=null),2&e[0]&&U!==(U=S(t[1]?"active":"")+" svelte-1vh4m4n")&&$(z,"class",U),1&e[0]&&q!==(q=S(t[0]?"active":"")+" svelte-1vh4m4n")&&$(Y,"class",q)},d:function(t){t&&E(n);for(var e=0;e<G.length;e+=1)G[e].d();at&&at.d(),ot&&ot.d(),st&&st.d(),Z=!1,_(X)}}}function co(t,e){var n,i,r,a,o,s,c,u=Vt[e[34]]+"";return{key:t,first:null,c:function(){n=T("button"),i=P(u),r=L(),$(n,"class",a=S(e[11][e[34]]?"selected":"")+" svelte-1vh4m4n"),$(n,"title",o=e[11][e[34]]||3!==e[13].length?"":"Чтоб выбрать этот интервал, отключите другой"),this.first=n},m:function(t,a){C(t,n,a),I(n,i),I(n,r),s||(c=M(n,"click",(function(){x(e[19](e[34]))&&e[19](e[34]).apply(this,arguments)})),s=!0)},p:function(t,r){e=t,4096&r[0]&&u!==(u=Vt[e[34]]+"")&&F(i,u),6144&r[0]&&a!==(a=S(e[11][e[34]]?"selected":"")+" svelte-1vh4m4n")&&$(n,"class",a),14336&r[0]&&o!==(o=e[11][e[34]]||3!==e[13].length?"":"Чтоб выбрать этот интервал, отключите другой")&&$(n,"title",o)},d:function(t){t&&E(n),s=!1,c()}}}function uo(t){var e,n,i,r,a,o,s,c,u,l,h,f,d,v,p,m,y,g,x,w,k,b,S,D,A,O,R,B,j,V,z,H,U;return{c:function(){(e=T("div")).innerHTML='<div>Количество свечей для определения уровня</div> \n          <div><span class="svelte-1vh4m4n">Чем меньше количество, тем больше будет уровней и вероятно тем менее сильные они будут</span></div>',n=L(),i=T("div"),r=T("span"),a=P(t[6]),o=L(),s=T("input"),c=L(),(u=T("div")).innerHTML='<div>Глубина истории для определения уровней</div> \n          <div><span class="svelte-1vh4m4n">Количество свечей по каждому интервалу</span></div>',l=L(),h=T("div"),f=T("span"),d=P(t[7]),v=L(),p=T("input"),m=L(),(y=T("div")).innerHTML='<div>Количество свечей для определения наклонок</div> \n          <div><span class="svelte-1vh4m4n">Чем меньше количество, тем больше будет наклонок и вероятно тем менее сильные они будут</span></div>',g=L(),x=T("div"),w=T("span"),k=P(t[9]),b=L(),S=T("input"),D=L(),(A=T("div")).innerHTML='<div>Глубина истории для определения наклонок</div> \n          <div><span class="svelte-1vh4m4n">Количество свечей по каждому интервалу</span></div>',O=L(),R=T("div"),B=T("span"),j=P(t[10]),V=L(),z=T("input"),$(r,"class","svelte-1vh4m4n"),$(s,"type","range"),$(s,"min","5"),$(s,"max","30"),$(s,"step","1"),$(s,"class","svelte-1vh4m4n"),$(i,"class","input svelte-1vh4m4n"),$(f,"class","svelte-1vh4m4n"),$(p,"type","range"),$(p,"min","10"),$(p,"max","500"),$(p,"step","10"),$(p,"class","svelte-1vh4m4n"),$(h,"class","input svelte-1vh4m4n"),$(w,"class","svelte-1vh4m4n"),$(S,"type","range"),$(S,"min","5"),$(S,"max","30"),$(S,"step","1"),$(S,"class","svelte-1vh4m4n"),$(x,"class","input svelte-1vh4m4n"),$(B,"class","svelte-1vh4m4n"),$(z,"type","range"),$(z,"min","10"),$(z,"max","500"),$(z,"step","10"),$(z,"class","svelte-1vh4m4n"),$(R,"class","input svelte-1vh4m4n")},m:function(_,E){C(_,e,E),C(_,n,E),C(_,i,E),I(i,r),I(r,a),I(i,o),I(i,s),N(s,t[6]),C(_,c,E),C(_,u,E),C(_,l,E),C(_,h,E),I(h,f),I(f,d),I(h,v),I(h,p),N(p,t[7]),C(_,m,E),C(_,y,E),C(_,g,E),C(_,x,E),I(x,w),I(w,k),I(x,b),I(x,S),N(S,t[9]),C(_,D,E),C(_,A,E),C(_,O,E),C(_,R,E),I(R,B),I(B,j),I(R,V),I(R,z),N(z,t[10]),H||(U=[M(s,"change",t[16]),M(s,"change",t[21]),M(s,"input",t[21]),M(p,"change",t[16]),M(p,"change",t[22]),M(p,"input",t[22]),M(S,"change",t[16]),M(S,"change",t[23]),M(S,"input",t[23]),M(z,"change",t[16]),M(z,"change",t[24]),M(z,"input",t[24])],H=!0)},p:function(t,e){64&e[0]&&F(a,t[6]),64&e[0]&&N(s,t[6]),128&e[0]&&F(d,t[7]),128&e[0]&&N(p,t[7]),512&e[0]&&F(k,t[9]),512&e[0]&&N(S,t[9]),1024&e[0]&&F(j,t[10]),1024&e[0]&&N(z,t[10])},d:function(t){t&&E(e),t&&E(n),t&&E(i),t&&E(c),t&&E(u),t&&E(l),t&&E(h),t&&E(m),t&&E(y),t&&E(g),t&&E(x),t&&E(D),t&&E(A),t&&E(O),t&&E(R),H=!1,_(U)}}}function lo(t){var e,n,i,r,a,o,s,c,u,l,h,f,d,v,p,m,y;return{c:function(){(e=T("div")).innerHTML='<div>Максимальное количество крупных ордеров (плотностей)</div> \n          <div><span class="svelte-1vh4m4n">Чем больше установленное количество, тем вероятно менее надежна плотность</span></div>',n=L(),i=T("div"),r=T("span"),a=P(t[5]),o=L(),s=T("input"),c=L(),(u=T("div")).innerHTML='<div>Количество свечей пятиминутного интервала для вычисления среднего объема</div> \n          <div><span class="svelte-1vh4m4n">Чем меньше значение, тем большее влияние будут оказывать кратковременные сильные изменения объема</span></div>',l=L(),h=T("div"),f=T("span"),d=P(t[4]),v=L(),p=T("input"),$(r,"class","svelte-1vh4m4n"),$(s,"type","range"),$(s,"min","1"),$(s,"max","10"),$(s,"step","1"),$(s,"class","svelte-1vh4m4n"),$(i,"class","input svelte-1vh4m4n"),$(f,"class","svelte-1vh4m4n"),$(p,"type","range"),$(p,"min","10"),$(p,"max","500"),$(p,"step","10"),$(p,"class","svelte-1vh4m4n"),$(h,"class","input svelte-1vh4m4n")},m:function(g,_){C(g,e,_),C(g,n,_),C(g,i,_),I(i,r),I(r,a),I(i,o),I(i,s),N(s,t[5]),C(g,c,_),C(g,u,_),C(g,l,_),C(g,h,_),I(h,f),I(f,d),I(h,v),I(h,p),N(p,t[4]),m||(y=[M(s,"change",t[16]),M(s,"change",t[26]),M(s,"input",t[26]),M(p,"change",t[16]),M(p,"change",t[27]),M(p,"input",t[27])],m=!0)},p:function(t,e){32&e[0]&&F(a,t[5]),32&e[0]&&N(s,t[5]),16&e[0]&&F(d,t[4]),16&e[0]&&N(p,t[4])},d:function(t){t&&E(e),t&&E(n),t&&E(i),t&&E(c),t&&E(u),t&&E(l),t&&E(h),m=!1,_(y)}}}function ho(t){var e;return{c:function(){e=P("Для применения измененных настроек страница будет перезагружена")},m:function(t,n){C(t,e,n)},d:function(t){t&&E(e)}}}function fo(t){var e,n=t[14]&&so(t);return{c:function(){n&&n.c(),e=O()},m:function(t,i){n&&n.m(t,i),C(t,e,i)},p:function(t,i){t[14]?n?n.p(t,i):((n=so(t)).c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:v,o:v,d:function(t){n&&n.d(t),t&&E(e)}}}function vo(t,e,n){var i,r=0,a=0,o=0,s=Ti.settings,c=s.averagePriceChangeMaxNumber,u=(s.intervals,s.averageVolumeRange),l=s.largeOrderNumber,h=s.levelBounds,f=s.levelMaxNumber,v=s.orderBook,p=s.trendLineBounds,m=s.trendLineMaxNumber,y="",g="",_=(_t(i={},Ot,0),_t(i,Mt,0),_t(i,Rt,0),_t(i,$t,0),_t(i,Bt,0),i),x=[],w=[],k=!1,b=Ti.onTyping,S=function(){return{averagePriceChangeMaxNumber:c,intervals:w,averageVolumeRange:u,largeOrderNumber:l,levelBounds:h,levelMaxNumber:f,orderBook:v,trendLineBounds:p,trendLineMaxNumber:m}},I=function(){var t=ce(S());n(0,r=+(t!==g)),n(1,a=+(t!==y)),ce(w)!==ce(Ti.settings.intervals)||!Ti.settings.orderBook&&v?n(2,o=1):n(2,o=0)};return W((function(){return y=ce(ie),g=ce(Ti.settings),Ti.settings.intervals.forEach((function(t){n(11,_[t]=1,_)})),n(12,x=Nt.slice(2)),n(13,w=d(Ti.settings.intervals)),I(),Ti.showSettings=function(){n(14,k=!k),k?(b=Ti.onTyping,Ti.onTyping=ae):Ti.onTyping=b},function(){Ti.showSettings=ae}})),[r,a,o,c,u,l,h,f,v,p,m,_,x,w,k,function(){n(14,k=!1),Ti.onTyping=b},I,function(){if(r){var t=S();Ti.saveSettings(t),n(0,r=0),g=ce(t),n(1,a=+(g!==y)),o&&window.location.reload()}},function(){var t;a&&(n(3,c=ie.averagePriceChangeMaxNumber),n(13,w=d(ie.intervals)),n(5,l=ie.largeOrderNumber),n(4,u=ie.averageVolumeRange),n(6,h=ie.levelBounds),n(7,f=ie.levelMaxNumber),n(8,v=ie.orderBook),n(9,p=ie.trendLineBounds),n(10,m=ie.trendLineMaxNumber),n(11,(_t(t={},Ot,0),_t(t,Mt,0),_t(t,Rt,1),_t(t,$t,1),_t(t,Bt,1),_=t)),I())},function(t){return function(){_[t]?(n(11,_=Object.assign(Object.assign({},_),_t({},t,0))),n(13,w=w.filter((function(e){return e!==t})))):w.length<3&&(n(11,_=Object.assign(Object.assign({},_),_t({},t,1))),n(13,w=[].concat(d(w),[t]).sort((function(t,e){return t-e})))),I()}},function(){c=B(this.value),n(3,c)},function(){h=B(this.value),n(6,h)},function(){f=B(this.value),n(7,f)},function(){p=B(this.value),n(9,p)},function(){m=B(this.value),n(10,m)},function(){n(8,v=v?0:1),I()},function(){l=B(this.value),n(5,l)},function(){u=B(this.value),n(4,u)}]}var po=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,vo,fo,w,{},null,[-1,-1]),e}return e(l)}(gt),mo=po;function yo(t){var e,n,i,r,a,o;e=new Ka({});var s=[xo,_o],c=[];function u(t,e){return t[0].singleCoin?0:1}return i=u(t),r=c[i]=s[i](t),{c:function(){dt(e.$$.fragment),n=L(),r.c(),a=O()},m:function(t,r){vt(e,t,r),C(t,n,r),c[i].m(t,r),C(t,a,r),o=!0},p:function(t,e){var n=i;(i=u(t))===n?c[i].p(t,e):(ot(),ut(c[n],1,1,(function(){c[n]=null})),st(),(r=c[i])?r.p(t,e):(r=c[i]=s[i](t)).c(),ct(r,1),r.m(a.parentNode,a))},i:function(t){o||(ct(e.$$.fragment,t),ct(r),o=!0)},o:function(t){ut(e.$$.fragment,t),ut(r),o=!1},d:function(t){pt(e,t),t&&E(n),c[i].d(t),t&&E(a)}}}function go(t){var e,n;return e=new Za({}),{c:function(){dt(e.$$.fragment)},m:function(t,i){vt(e,t,i),n=!0},p:v,i:function(t){n||(ct(e.$$.fragment,t),n=!0)},o:function(t){ut(e.$$.fragment,t),n=!1},d:function(t){pt(e,t)}}}function _o(t){var e,n;return e=new Ha({props:{settings:t[1]}}),{c:function(){dt(e.$$.fragment)},m:function(t,i){vt(e,t,i),n=!0},p:function(t,n){var i={};2&n&&(i.settings=t[1]),e.$set(i)},i:function(t){n||(ct(e.$$.fragment,t),n=!0)},o:function(t){ut(e.$$.fragment,t),n=!1},d:function(t){pt(e,t)}}}function xo(t){var e,n;return e=new Fa({}),{c:function(){dt(e.$$.fragment)},m:function(t,i){vt(e,t,i),n=!0},p:v,i:function(t){n||(ct(e.$$.fragment,t),n=!0)},o:function(t){ut(e.$$.fragment,t),n=!1},d:function(t){pt(e,t)}}}function wo(t){var e,n,i,r,a,o,s,c,u,l,h,d;document.title=e=t[2],r=new eo({}),o=new ao({}),c=new mo({});var v=[go,yo],p=[];function m(t,e){return t[0].mobile?0:1}return l=m(t),h=p[l]=v[l](t),{c:function(){n=L(),i=T("div"),dt(r.$$.fragment),a=L(),dt(o.$$.fragment),s=L(),dt(c.$$.fragment),u=L(),h.c(),$(i,"class","App svelte-mhkmyz")},m:function(t,e){C(t,n,e),C(t,i,e),vt(r,i,null),I(i,a),vt(o,i,null),I(i,s),vt(c,i,null),I(i,u),p[l].m(i,null),d=!0},p:function(t,n){var r=f(n,1)[0];(!d||4&r)&&e!==(e=t[2])&&(document.title=e);var a=l;(l=m(t))===a?p[l].p(t,r):(ot(),ut(p[a],1,1,(function(){p[a]=null})),st(),(h=p[l])?h.p(t,r):(h=p[l]=v[l](t)).c(),ct(h,1),h.m(i,null))},i:function(t){d||(ct(r.$$.fragment,t),ct(o.$$.fragment,t),ct(c.$$.fragment,t),ct(h),d=!0)},o:function(t){ut(r.$$.fragment,t),ut(o.$$.fragment,t),ut(c.$$.fragment,t),ut(h),d=!1},d:function(t){t&&E(n),t&&E(i),pt(r),pt(o),pt(c),p[l].d()}}}function ko(t,e,n){var i,r=Ti.settings,a=(null===(i=Ti.current)||void 0===i?void 0:i.ticker)||"",o=Ti.lang||"en",s=oi[o].defaultTitle;return W((function(){return n(0,Ti.setTitleTicker=function(t){n(3,a=t)},Ti),n(0,Ti.updateSettings=function(t){n(1,r=Object.assign({},t))},Ti),function(){n(0,Ti.setTitleTicker=ae,Ti),n(0,Ti.updateSettings=ae,Ti)}})),t.$$.update=function(){8&t.$$.dirty&&a&&n(2,s="".concat(a," ").concat(oi[o].defaultTitle))},[Ti,r,s,a]}var bo=function(t){o(l,t);var n,a,s=(n=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=u(n);if(a){var i=u(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return c(this,t)});function l(t){var e;return i(this,l),yt(r(e=s.call(this)),t,ko,wo,w,{}),e}return e(l)}(gt);[1235,2259,2524].includes(function(t){for(var e=0,n=0;n<t.length;n++)e+=t.charCodeAt(n);return e}(window.location.host))&&new bo({target:document.body})}()}();